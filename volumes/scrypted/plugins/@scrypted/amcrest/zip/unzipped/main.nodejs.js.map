{"version":3,"file":"main.nodejs.js","mappings":"yCAEAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,2BAyFR,SAAoCC,EAAQC,EAAiBC,GAAY,OACvEC,GAAS,GACP,CACFA,QAAQ,IAER,IAAIC,EAAS,KAab,GAZAH,EAAeI,MAAKC,IACd,IAAMN,EAAOO,QAAQD,EAAcE,KAAO,OAASL,GAAU,IAAMH,EAAOO,QAAQD,EAAcE,KAAKC,cAAgB,QACvHL,EAAS,CACPI,KAAMF,EAAcE,KACpBE,KAAMJ,EAAcK,yBAAyBX,EAAOY,OAAON,EAAcE,KAAKK,OAAS,MAElF,MAMNT,EACH,MAAM,IAAIU,EAAQC,QAAQ,2BAA4Bf,GAGxD,OAAOI,CACT,EA/GAP,EAAQmB,yBAwIR,SAAkChB,EAAQC,EAAiBC,GAAY,OACrEC,GAAS,GACP,CACFA,QAAQ,IAER,IAAIC,EAAS,KAab,GAZAH,EAAeI,MAAK,SAAUC,GAC5B,OAAI,IAAMN,EAAOO,QAAQD,EAAcE,KAAO,OAASL,GAAU,IAAMH,EAAOO,QAAQD,EAAcE,KAAKC,cAAgB,QACvHL,EAAS,CACPI,KAAMF,EAAcE,KACpBE,KAAMJ,EAAcW,uBAAuBjB,EAAOY,OAAON,EAAcE,KAAKK,OAAS,MAEhF,EAIX,IAEIT,EACF,OAAOA,EAGT,MAAM,IAAIU,EAAQC,QAAQ,2BAA4Bf,EACxD,EA9JAH,EAAQqB,2BAiLR,SAAoCZ,EAAeI,GACjD,MAAO,GAAGJ,EAAcE,QAAQF,EAAca,yBAAyBT,IACzE,EAlLAb,EAAQuB,yBAqMR,SAAkCd,EAAeI,GAC/C,MAAO,GAAGJ,EAAcE,QAAQF,EAAce,uBAAuBX,IACvE,EAtMAf,OAAOC,eAAeC,EAAS,QAAS,CACtCyB,YAAY,EACZC,IAAK,WACH,OAAOC,EAAOT,OAChB,IAEFpB,OAAOC,eAAeC,EAAS,SAAU,CACvCyB,YAAY,EACZC,IAAK,WACH,OAAOE,EAAQV,OACjB,IAEFpB,OAAOC,eAAeC,EAAS,SAAU,CACvCyB,YAAY,EACZC,IAAK,WACH,OAAOG,EAAQX,OACjB,IAEFlB,EAAQK,gBAAa,EAErB,IAAIY,EAAUa,EAAuB,EAAQ,OAEzCH,EAASG,EAAuB,EAAQ,OAExCF,EAAUE,EAAuB,EAAQ,OAEzCD,EAAUC,EAAuB,EAAQ,MAE7C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEb,QAASa,EAAO,CAU9F,MAAM1B,EAAa,CAACsB,EAAOT,QAASU,EAAQV,QAASW,EAAQX,SAO7DlB,EAAQK,WAAaA,EACrBsB,EAAOT,QAOPU,EAAQV,QAORW,EAAQX,O,8BCnERpB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAA,aAAkB,EAElB,IAIgC+B,EAJ5Bd,GAI4Bc,EAJK,EAAQ,QAIQA,EAAIC,WAAaD,EAAM,CAAEb,QAASa,GAFnFE,EAAS,EAAQ,MAOrB,MAAMC,EAAiC,CAAC,SAClCC,EAAmCD,EAanCE,EAAQ,CAKZzB,KAAM,QAcNG,yBAA0B,SAAkCuB,GAC1D,OAAO,EAAIJ,EAAOK,mCAAmCD,EAAMF,EAAkCD,EAC/F,EAeAZ,yBAA0B,SAAkCT,GAC1D,OAAO,EAAIoB,EAAOM,mCAAmC1B,EAAMsB,EAAkCD,EAC/F,EAgBAd,uBAAwB,SAAgCiB,GACtD,IAAKA,EACH,MAAM,IAAIpB,EAAQC,QAAQ,gBAG5B,MAAM,SACJsB,EAAQ,SACRC,GACEL,EAAMM,WAAWL,GACrB,MAAO,CACLM,KAAMN,EACNG,WACAC,WAEJ,EAeAjB,uBAAwB,UAAgC,KACtDmB,EAAI,SACJH,EAAQ,SACRC,IAEA,GAAID,GAAYC,EACd,OAAOL,EAAMQ,YAAY,CACvBJ,WACAC,aAIJ,IAAKE,EACH,MAAM,IAAI1B,EAAQC,QAAQ,aAG5B,OAAOyB,CACT,EAgBAC,YAAa,UAAqB,SAChCJ,EAAQ,SACRC,IAEA,OAAOI,OAAOC,KAAKN,EAAW,IAAMC,GAAUM,SAAS,SACzD,EAeAL,WAAY,SAAoBC,GAC9B,MAAOH,KAAaQ,GAAiBH,OAAOC,KAAKH,EAAM,UAAUI,WAAWE,MAAM,KAClF,MAAO,CACLT,WACAC,SAAUO,EAAcE,KAAK,KAEjC,GAEF,IAAIC,EAAWf,EACfpC,EAAA,QAAkBmD,C,6BC7KlBrD,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAA,aAAkB,EAElB,IAIgC+B,EAJ5Bd,GAI4Bc,EAJK,EAAQ,QAIQA,EAAIC,WAAaD,EAAM,CAAEb,QAASa,GAFnFE,EAAS,EAAQ,MAOrB,MAAMmB,EAAyB,CAAC,kBAAmB,gBAAiB,sBAE9DjB,EAAmC,CADD,QACqC,QAAS,QAAS,qBA8G/F,IAAIgB,EAjGW,CAKbxC,KAAM,SAkBNG,yBAA0B,SAAkCuB,GAC1D,OAAO,EAAIJ,EAAOK,mCAAmCD,EAAMF,EAAkC,GAC/F,EAmBAb,yBAA0B,SAAkCT,GAC1D,GAAIA,EAAKwC,QAAU,IAAMD,EAAuB1C,QAAQG,EAAKwC,OAC3D,MAAM,IAAIpC,EAAQC,QAAQ,kBAAmBL,EAAKwC,MAAOD,GAG3D,OAAO,EAAInB,EAAOM,mCAAmC1B,EAAMsB,EAAkC,GAC/F,EAcAf,uBAAwB,SAAgCiB,GACtD,IAAKA,EACH,MAAM,IAAIpB,EAAQC,QAAQ,gBAG5B,MAAO,CACLyB,KAAMN,EAEV,EAeAb,uBAAwB,UAAgC,KACtDmB,IAEA,IAAKA,EACH,MAAM,IAAI1B,EAAQC,QAAQ,aAG5B,OAAOyB,CACT,GAGF3C,EAAA,QAAkBmD,C,8BC/HlBrD,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAA,aAAkB,EAElB,IAIgC+B,EAJ5BE,EAAS,EAAQ,MAEjBqB,GAE4BvB,EAFK,EAAQ,QAEQA,EAAIC,WAAaD,EAAM,CAAEb,QAASa,GAKvF,MAAMG,EAAiC,CAAC,QAAS,SAC3CC,EAAmC,IAAID,EAAgC,SAAU,SAAU,QAAS,YAAa,OACjHqB,EAA8B,CAAC,WAAY,QAAS,QAAS,MAAO,YACpEC,EAAgC,IAAID,EAA6B,YAAa,SAAU,SAAU,MAAO,MAsK/G,SAASE,EAAaC,EAAWC,GAC/B,MAAMC,EAAUN,EAAQpC,QAAQ2C,WAAWH,GAG3C,OADAE,EAAQE,OAAOH,GACRC,EAAQG,OAAO,MACxB,CAEA,IAAIZ,EA/JW,CAKbxC,KAAM,SAsBNG,yBAA0B,SAAkCuB,GAC1D,OAAO,EAAIJ,EAAOK,mCAAmCD,EAAMF,EAAkCD,EAC/F,EAqBAZ,yBAA0B,SAAkCT,GAC1D,OAAO,EAAIoB,EAAOM,mCAAmC1B,EAAMsB,EAAkCD,EAC/F,EAgCAd,uBAAwB,SAAgCiB,GACtD,OAAO,EAAIJ,EAAOK,mCAAmCD,EAAMmB,EAA+BD,EAC5F,EA+BA/B,uBAAwB,SAAgCX,GACtD,OAAO,EAAIoB,EAAOM,mCAAmC1B,EAAM2C,EAA+BD,EAC5F,EAwBAX,YAAa,SAAqB/B,GAChC,MAAMmD,EAAMnD,EAAKmD,KAAOP,EAAa5C,EAAK6C,UAAW,CAAC7C,EAAK2B,SAAU3B,EAAKoD,MAAOpD,EAAK4B,UAAUS,KAAK,MAE/FgB,EAAMT,EAAa5C,EAAK6C,UAAW,CAAC7C,EAAKsD,OAAQtD,EAAKuD,KAAKlB,KAAK,MAEtE,OAAOO,EAAa5C,EAAK6C,UAAW,CAACM,EAAKnD,EAAKwD,MAAOxD,EAAKyD,GAAIzD,EAAK0D,OAAQ1D,EAAK2D,IAAKN,GAAKhB,KAAK,KAClG,GAWFlD,EAAA,QAAkBmD,C,8BC/LlBrD,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQsC,kCAuBR,SAA2CmC,EAAUC,EAAgBC,EAAe,IAClF,MAAMC,EAAUH,EAASI,OAAOC,MAAMC,GACtC,IAAKH,EAAS,MAAM,IAAI3D,EAAQC,QAAQ,6BAA8BuD,GACtE,MAAM5D,EAAO+D,EAAQI,KAAI,CAACC,EAAMC,KAC9B,MAAMC,EAAOF,EAAKhC,MAnBR,KAqBV,GAAI,IAAMkC,EAAKnE,OACb,MAAM,IAAIC,EAAQC,QAAQ,6BAA8BgE,EAAcD,EAAME,EAAKnE,QAGnF,OAAOmE,CAAI,IACVC,QAAO,SAAUC,GAAeC,EAAMrF,GAAQsF,GAC/C,IAAK,IAAMb,EAAehE,QAAQ4E,GAChC,MAAM,IAAIrE,EAAQC,QAAQ,qBAAsBqE,EAAeD,GAgBjE,OADAD,EAAaC,GAAQrF,EAAMuF,QAAQ,iBAAkB,MAC9CH,CACT,GAAG,CAAC,GAIJ,OAFAI,EAAmBd,EAAc9D,GAE1BA,CACT,EAzDAb,EAAQuC,kCA2DR,SAA2C1B,EAAM6D,EAAgBC,EAAe,IAG9E,OAFAc,EAAmBd,EAAc9D,GAE1B6D,EAAeU,QAAO,SAAUX,EAAUiB,GAC/C,OAAI7E,EAAK6E,GACAjB,GAAYA,EAxDP,KAwD8B,IAAMiB,EAAzCjB,KAA+D5D,EAAK6E,GA1DnE,IA6DHjB,CACT,GAAG,GACL,EAnEA,IAEgC1C,EAF5Bd,GAE4Bc,EAFK,EAAQ,QAEQA,EAAIC,WAAaD,EAAM,CAAEb,QAASa,GAEvF,MAcMgD,EAAkB,6BAmDxB,SAASU,EAAmBd,EAAc9D,GACxC8D,EAAagB,SAAQL,IACnB,QAAI,IAAuBzE,EAAKyE,GAC9B,MAAM,IAAIrE,EAAQC,QAAQ,iBAAkBoE,EAC9C,GAEJ,C,8BClFAxF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM2F,EAAS,EAAQ,MACjBC,EAAM,EAAQ,MACdC,EAAQ,EAAQ,MAChBC,EAAa,EAAQ,MAG3B,SAASC,EAAU/F,GACf,OAAIA,EAAMgG,cAAgBC,MACfjG,EAAM,GACVA,CACX,CAwDAD,EAAA,QAvDA,MACIiG,aAAcH,MAAOK,EAAS,SAAE1D,EAAQ,SAAED,IACtC4D,KAAKN,MAAQK,GAAwBL,EAAM5E,QAC3CkF,KAAKC,MAAQ,EACbD,KAAK3D,SAAWA,EAChB2D,KAAK5D,SAAWA,CACpB,CACA8D,cAAcC,GACV,IAAIC,EAAIC,EACR,IACI,aAAaL,KAAKN,MAAMY,QAAQH,EA0CpC,CAxCA,MAAOI,GACH,QAAuBC,IAAnBD,EAAME,UACuB,MAA1BF,EAAME,SAASC,UACyC,QAArDN,EAAKG,EAAME,SAASE,QAAQ,2BAAwC,IAAPP,OAAgB,EAASA,EAAGQ,SAAS,UACxG,MAAML,EAGV,MAAMM,EAAkBN,EAAME,SAASE,QAAQ,oBACzCG,EAAsBnB,EAAWoB,MAAMF,KAC3Cb,KAAKC,MACP,MAAMe,GAAc,WAAahB,KAAKC,OAAOgB,OAAO,GAC9C9C,EAASqB,EAAO0B,YAAY,IAAIvE,SAAS,OAEzCkB,EAAQ+B,EAAUkB,EAAoBK,OAAc,OAEpDlD,EAAQ2B,EAAUkB,EAAoBK,OAAc,OACpDvD,EAAM4B,EAAO/B,WAAW,OAAOC,OAAO,GAAGsC,KAAK5D,YAAYyB,KAASmC,KAAK3D,YAAYsB,OAAO,OAC3FyD,EAAO3B,EAAIsB,MAAMZ,EAAKV,KAAK4B,SAC3BvD,EAAM0B,EAAO/B,WAAW,OAAOC,OAAO,GAA0B,QAAtB2C,EAAKF,EAAKpC,cAA2B,IAAPsC,EAAgBA,EAAK,SAASe,KAAQzD,OAAO,OACrH8C,EAAWjB,EAAO/B,WAAW,OAAOC,OAAO,GAAGE,KAAOK,KAAS+C,KAAc7C,UAAeL,KAAOH,OAAO,OACzGwD,EAAS,CACX/E,SAAU4D,KAAK5D,SACfyB,QACAI,QACAD,IAAKoD,GAAQ,GACbhD,IAAK,OACLd,UAAW,MACXmD,WACAvC,GAAI8C,EACJ7C,UAGEmD,EAAgB,UADD5H,OAAO6H,QAAQJ,GAAQvC,KAAI,EAAEU,EAAKzF,MAAW,SAAGyF,KAAOzF,IAjDzE0D,EAiDwF1D,EAjDhF,IAAI0D,EAAI6B,QAAQ,KAAM,aAA/B,IAAC7B,CAiDgG,IAAET,KAAK,QAQ1G,OANIqD,EAAKQ,QACLR,EAAKQ,QAAuB,cAAIW,EAGhCnB,EAAKQ,QAAU,CAAEW,iBAEdtB,KAAKN,MAAMY,QAAQH,EAC9B,CACJ,E,8BChEJzG,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAA,aAAkB,EAElB,IAAI4H,EAAQ,EAAQ,MAEpB,SAASC,EAAmBC,GAAO,OAMnC,SAA4BA,GAAO,GAAI5B,MAAM6B,QAAQD,GAAM,CAAE,IAAK,IAAIE,EAAI,EAAGC,EAAO,IAAI/B,MAAM4B,EAAI9G,QAASgH,EAAIF,EAAI9G,OAAQgH,IAAOC,EAAKD,GAAKF,EAAIE,GAAM,OAAOC,CAAM,CAAE,CAN3HC,CAAmBJ,IAI7D,SAA0BK,GAAQ,GAAIC,OAAOC,YAAYvI,OAAOqI,IAAkD,uBAAzCrI,OAAOwI,UAAUvF,SAASwF,KAAKJ,GAAgC,OAAOjC,MAAMpD,KAAKqF,EAAO,CAJ5FK,CAAiBV,IAEtF,WAAgC,MAAM,IAAIW,UAAU,kDAAoD,CAFVC,EAAsB,CAQpH,SAASC,EAAeb,EAAKE,GAAK,OAMlC,SAAyBF,GAAO,GAAI5B,MAAM6B,QAAQD,GAAM,OAAOA,CAAK,CAN3Bc,CAAgBd,IAIzD,SAA+BA,EAAKE,GAAK,IAAIa,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKpC,EAAW,IAAM,IAAK,IAAiCqC,EAA7BC,EAAKpB,EAAIM,OAAOC,cAAmBS,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKQ,KAAKJ,EAAGhJ,QAAY+H,GAAKa,EAAK7H,SAAWgH,GAA3Dc,GAAK,GAA0M,CAAtI,MAAOQ,GAAOP,GAAK,EAAMC,EAAKM,CAAK,CAAE,QAAU,IAAWR,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,QAAmC,CAA5B,QAAU,GAAIH,EAAI,MAAMC,CAAI,CAAE,CAAE,OAAOH,CAAM,CAJvVU,CAAsBzB,EAAKE,IAE5F,WAA8B,MAAM,IAAIS,UAAU,uDAAyD,CAFTe,EAAoB,CAQtH,IAMIC,EAAQ,SAAelC,GACzB,OAAOA,EAAOnC,QAAO,SAAUsE,EAAMC,GACnC,IAAIC,EAAQjB,EAAegB,EAAM,GAC7BjE,EAAMkE,EAAM,GACZC,EAASD,EAAM,GAEfE,EAZE,SAAapE,GACrB,OAAO,SAAUzF,GACf,MAAO,GAAGyF,KAAOzF,KAAU,EAAI2H,EAAMmC,SAAS9J,IAAS,EAAI2H,EAAMoC,OAAO/J,GAASA,GACnF,CACF,CAQoBgK,CAAIvE,GAEpB,KAAK,EAAIkC,EAAMmC,SAASrE,GACtB,MAAM,IAAI+C,UAGZ,OAAIvC,MAAM6B,QAAQ8B,GACThC,EAAmB6B,GAAMQ,OAAOrC,EAAmBgC,EAAO7E,IAAI8E,KAGhEjC,EAAmB6B,GAAMQ,OAAO,CAACJ,EAAUD,IACpD,GAAG,GACL,EAEIM,EAAY,SAASA,EAAU5C,EAAQ6C,GACzC,GAAIlE,MAAM6B,QAAQR,GAChB,OAAOkC,EAAMlC,GACR,GAAsB,iBAAXA,EAAqB,CACrC,IAAII,EAAUJ,EACd,OAAO4C,EAAUrK,OAAOuK,KAAK9C,GAAQvC,KAAI,SAAUU,GACjD,MAAO,CAACA,EAAKiC,EAAQjC,GACvB,IAAI0E,EACN,CAEA,MAAM,IAAI3B,SACZ,EAkBAzI,EAAA,QAhBe,SAAkBsK,EAAQC,EAAOhD,GAC9C,IAAIxF,EAAwB,iBAAXuI,EAAsB,CACrCA,SACAC,QACAhD,UACE+C,EAEJ,GAAmB,iBAARvI,EACT,MAAM,IAAI0G,UACL,KAAK,EAAIb,EAAM4C,UAAUzI,EAAIuI,QAClC,MAAM,IAAI7B,UAAU,mBAGtB,MAAO,CAAC1G,EAAIuI,QAAQJ,OAAOrC,OAAwC,IAAd9F,EAAIwI,MAAwB,CAACxI,EAAIwI,OAAS,IAAK1C,OAAyC,IAAf9F,EAAIwF,OAAyB4C,EAAUpI,EAAIwF,QAAU,KAAKrE,KAAK,IAC/L,C,8BC5EApD,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,SAAU,CACvCyB,YAAY,EACZC,IAAK,WACH,OAAO+I,EAAQvJ,OACjB,IAEFpB,OAAOC,eAAeC,EAAS,QAAS,CACtCyB,YAAY,EACZC,IAAK,WACH,OAAOgJ,EAAOxJ,OAChB,IAGF,IAAIuJ,EAAU3I,EAAuB,EAAQ,OAEzC4I,EAAS5I,EAAuB,EAAQ,OAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEb,QAASa,EAAO,C,8BCpB9FjC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAA,aAAkB,EAElB,IAAI4H,EAAQ,EAAQ,MAGhB+C,EAAO,qIAEPC,EAAY,SAAmBlB,EAAMmB,GAEvC,IAAIC,EAAyB,MAAnBD,EAAKE,OAAO,IAAa,EAAInD,EAAMoD,SAASH,GAAQA,EAAKhG,OAEnE,OAAIqB,MAAM6B,QAAQ2B,GACTA,EAAKQ,OAAOY,GACM,iBAATpB,EACT,CAACA,EAAMoB,GAGTA,CACT,EA0CA9K,EAAA,QAfe,SAAkB2D,GAC/B,GAAmB,iBAARA,EACT,MAAM,IAAI8E,UAAU,kCAGtB,IAAIwC,EAAQtH,EAAIjD,QAAQ,KACpB4J,EAAS3G,EAAI5C,OAAO,EAAGkK,GAE3B,KAAK,EAAIrD,EAAM4C,UAAUF,GACvB,MAAM,IAAI7B,UAAU,kBAAkB6B,KAGxC,OArCoB,SAAyBA,EAAQY,GAIrD,IAHA,IAAIX,EAAQ,KACRhD,EAAS,CAAC,IAED,CACX,IAAI4D,EAAMR,EAAKS,KAAKF,GAEpB,GAAY,OAARC,EACF,MAGEA,EAAI,GACN5D,EAAO4D,EAAI,IAAMP,EAAUrD,EAAO4D,EAAI,IAAKA,EAAI,IAE/CZ,EAAQK,EAAUL,EAAOY,EAAI,GAEjC,CAEA,MAAO,CACLb,SACA/C,SACAgD,QAEJ,CAcSc,CAAgBf,EAAQ3G,EAAI5C,OAAOkK,GAC5C,C,4BC7DAnL,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQgL,QAAUhL,EAAQgK,MAAQhK,EAAQwK,SAAWxK,EAAQ+J,aAAU,EACvE,IAAIQ,EAAQ,4DAERR,EAAU,SAAiBpG,GAC7B,MAAsB,iBAARA,GAAoB4G,EAAMe,KAAK3H,EAC/C,EAEA3D,EAAQ+J,QAAUA,EAClB,IAAIS,EAAWT,EACf/J,EAAQwK,SAAWA,EAMnBxK,EAAQgK,MAJI,SAAerG,GACzB,MAAO,IAAIA,EAAI6B,QAAQ,KAAM,SAC/B,EAQAxF,EAAQgL,QAJM,SAAiBrH,GAC7B,OAAOA,EAAI5C,OAAO,EAAG4C,EAAI3C,OAAS,GAAGwE,QAAQ,OAAQ,IACvD,C,iBCxBA+F,EAAOvL,QAAU,EAAjB,K,8BCEA,IAAIwL,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MACjBC,EAAgB,EAAQ,MACxBC,EAAW,EAAQ,MACnBC,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBC,EAAa,YACbC,EAAc,aACdlG,EAAM,EAAQ,MACdmG,EAAO,EAAQ,MACfC,EAAM,EAAQ,MACdC,EAAc,EAAQ,MACtBC,EAAe,EAAQ,KAEvBC,EAAU,UAQd,SAASC,EAASjC,EAASkC,EAAOC,GAOhC,GANAnC,EAAQoC,SAAWF,EAAMG,KACzBrC,EAAQqC,KAAOH,EAAMG,KACrBrC,EAAQsC,KAAOJ,EAAMI,KACrBtC,EAAQ5C,KAAO+E,EAGXD,EAAMK,KAAM,CACd,IAAIC,EAAS/J,OAAOC,KAAKwJ,EAAMK,KAAKnK,SAAW,IAAM8J,EAAMK,KAAKlK,SAAU,QAAQM,SAAS,UAC3FqH,EAAQrD,QAAQ,uBAAyB,SAAW6F,CACtD,CAGAxC,EAAQyC,eAAiB,SAAwBC,GAC/CA,EAAY/F,QAAQ0F,KAAOK,EAAYL,KACvCJ,EAASS,EAAaR,EAAOQ,EAAYC,KAC3C,CACF,CAGAxB,EAAOvL,QAAU,SAAqBgN,GACpC,OAAO,IAAIC,SAAQ,SAA6BC,EAAgBC,GAC9D,IAAIC,EAAU,SAAiBnN,GAC7BiN,EAAejN,EACjB,EACIoN,EAAS,SAAgBpN,GAC3BkN,EAAclN,EAChB,EACIY,EAAOmM,EAAOnM,KACdkG,EAAUiG,EAAOjG,QAgBrB,GAZI,eAAgBA,GAAW,eAAgBA,EAExCA,EAAQ,eAAkBA,EAAQ,uBAC9BA,EAAQ,qBACRA,EAAQ,eAKjBA,EAAQ,cAAgB,SAAWkF,EAAIqB,QAGrCzM,IAAS2K,EAAM+B,SAAS1M,GAAO,CACjC,GAAIgC,OAAO2K,SAAS3M,SAEb,GAAI2K,EAAMiC,cAAc5M,GAC7BA,EAAOgC,OAAOC,KAAK,IAAI4K,WAAW7M,QAC7B,KAAI2K,EAAMmC,SAAS9M,GAGxB,OAAOwM,EAAOnB,EACZ,oFACAc,IAJFnM,EAAOgC,OAAOC,KAAKjC,EAAM,QAM3B,CAGAkG,EAAQ,kBAAoBlG,EAAKG,MACnC,CAGA,IAAI2L,OAAO/F,EACPoG,EAAOL,OAGTA,GAFeK,EAAOL,KAAKnK,UAAY,IAErB,KADHwK,EAAOL,KAAKlK,UAAY,KAKzC,IAAImL,EAAWlC,EAAcsB,EAAOa,QAASb,EAAOnH,KAChDiI,EAASjI,EAAIsB,MAAMyG,GACnBG,EAAWD,EAAOC,UAAY,QAElC,IAAKpB,GAAQmB,EAAOnB,KAAM,CACxB,IAAIqB,EAAUF,EAAOnB,KAAK1J,MAAM,KAGhC0J,GAFkBqB,EAAQ,IAAM,IAEX,KADHA,EAAQ,IAAM,GAElC,CAEIrB,UACK5F,EAAQkH,cAGjB,IAAIC,EAAiB9B,EAAQd,KAAKyC,GAC9BI,EAAQD,EAAiBlB,EAAOoB,WAAapB,EAAOqB,UAEpDjE,EAAU,CACZ5C,KAAMmE,EAASmC,EAAOtG,KAAMwF,EAAOzF,OAAQyF,EAAOsB,kBAAkB9I,QAAQ,MAAO,IACnFrB,OAAQ6I,EAAO7I,OAAOoK,cACtBxH,QAASA,EACToH,MAAOA,EACPK,OAAQ,CAAE5C,KAAMoB,EAAOqB,UAAWxC,MAAOmB,EAAOoB,YAChDzB,KAAMA,GAGJK,EAAOyB,WACTrE,EAAQqE,WAAazB,EAAOyB,YAE5BrE,EAAQoC,SAAWsB,EAAOtB,SAC1BpC,EAAQsC,KAAOoB,EAAOpB,MAGxB,IAqDIgC,EArDApC,EAAQU,EAAOV,MACnB,IAAKA,IAAmB,IAAVA,EAAiB,CAC7B,IAAIqC,EAAWZ,EAAS1G,MAAM,GAAI,GAAK,SACnCuH,EAAWC,QAAQC,IAAIH,IAAaE,QAAQC,IAAIH,EAASJ,eAC7D,GAAIK,EAAU,CACZ,IAAIG,EAAiBlJ,EAAIsB,MAAMyH,GAC3BI,EAAaH,QAAQC,IAAIG,UAAYJ,QAAQC,IAAII,SACjDC,GAAc,EAElB,GAAIH,EAKFG,GAJcH,EAAW/L,MAAM,KAAK+B,KAAI,SAAcoK,GACpD,OAAOA,EAAEvK,MACX,IAEuBrE,MAAK,SAAoB6O,GAC9C,QAAKA,IAGgB,MAAjBA,IAGoB,MAApBA,EAAa,IACbvB,EAAOtB,SAASzL,OAAO+M,EAAOtB,SAASxL,OAASqO,EAAarO,UAAYqO,GAItEvB,EAAOtB,WAAa6C,GAC7B,IAGF,GAAIF,IACF7C,EAAQ,CACNG,KAAMsC,EAAevC,SACrBE,KAAMqC,EAAerC,KACrBqB,SAAUgB,EAAehB,UAGvBgB,EAAepC,MAAM,CACvB,IAAI2C,EAAeP,EAAepC,KAAK1J,MAAM,KAC7CqJ,EAAMK,KAAO,CACXnK,SAAU8M,EAAa,GACvB7M,SAAU6M,EAAa,GAE3B,CAEJ,CACF,CAEIhD,IACFlC,EAAQrD,QAAQ0F,KAAOqB,EAAOtB,UAAYsB,EAAOpB,KAAO,IAAMoB,EAAOpB,KAAO,IAC5EL,EAASjC,EAASkC,EAAOyB,EAAW,KAAOD,EAAOtB,UAAYsB,EAAOpB,KAAO,IAAMoB,EAAOpB,KAAO,IAAMtC,EAAQ5C,OAIhH,IAAI+H,EAAerB,KAAmB5B,GAAQF,EAAQd,KAAKgB,EAAMyB,WAC7Df,EAAO0B,UACTA,EAAY1B,EAAO0B,UACc,IAAxB1B,EAAOwC,aAChBd,EAAYa,EAAe1D,EAAQD,GAE/BoB,EAAOwC,eACTpF,EAAQoF,aAAexC,EAAOwC,cAEhCd,EAAYa,EAAexD,EAAcD,GAGvCkB,EAAOyC,eAAiB,IAC1BrF,EAAQqF,cAAgBzC,EAAOyC,eAIjC,IAAIC,EAAMhB,EAAUhI,QAAQ0D,GAAS,SAAwBe,GAC3D,IAAIuE,EAAIC,QAAR,CAGA,IAAIC,EAASzE,EAGT0E,EAAc1E,EAAIuE,KAAOA,EAI7B,GAAuB,MAAnBvE,EAAI2E,YAA6C,SAAvBD,EAAY1L,SAA2C,IAAtB6I,EAAO+C,WACpE,OAAQ5E,EAAIpE,QAAQ,qBAEpB,IAAK,OACL,IAAK,WACL,IAAK,UAEH6I,EAASA,EAAOI,KAAKhE,EAAKiE,sBAGnB9E,EAAIpE,QAAQ,oBAKvB,IAAIF,EAAW,CACbC,OAAQqE,EAAI2E,WACZI,WAAY/E,EAAIgF,cAChBpJ,QAASoE,EAAIpE,QACbiG,OAAQA,EACRtG,QAASmJ,GAGX,GAA4B,WAAxB7C,EAAOoD,aACTvJ,EAAShG,KAAO+O,EAChBnE,EAAO2B,EAASC,EAAQxG,OACnB,CACL,IAAIwJ,EAAiB,GACjBC,EAAqB,EACzBV,EAAOW,GAAG,QAAQ,SAA0BC,GAC1CH,EAAehH,KAAKmH,GACpBF,GAAsBE,EAAMxP,OAGxBgM,EAAOyD,kBAAoB,GAAKH,EAAqBtD,EAAOyD,mBAC9Db,EAAOc,UACPrD,EAAOnB,EAAY,4BAA8Bc,EAAOyD,iBAAmB,YACzEzD,EAAQ,KAAM6C,IAEpB,IAEAD,EAAOW,GAAG,SAAS,SAA2BjH,GACxCoG,EAAIC,SACRtC,EAAOlB,EAAa7C,EAAK0D,EAAQ,KAAM6C,GACzC,IAEAD,EAAOW,GAAG,OAAO,WACf,IAAII,EAAe9N,OAAOqH,OAAOmG,GACL,gBAAxBrD,EAAOoD,eACTO,EAAeA,EAAa5N,SAASiK,EAAO4D,kBACvC5D,EAAO4D,kBAAgD,SAA5B5D,EAAO4D,mBACrCD,EAAenF,EAAMqF,SAASF,KAIlC9J,EAAShG,KAAO8P,EAChBlF,EAAO2B,EAASC,EAAQxG,EAC1B,GACF,CApEuB,CAqEzB,IASA,GANA6I,EAAIa,GAAG,SAAS,SAA4BjH,GACtCoG,EAAIC,SAAwB,8BAAbrG,EAAIwH,MACvBzD,EAAOlB,EAAa7C,EAAK0D,EAAQ,KAAM0C,GACzC,IAGI1C,EAAO+D,QAAS,CAElB,IAAIA,EAAUC,SAAShE,EAAO+D,QAAS,IAEvC,GAAIE,MAAMF,GAQR,YAPA1D,EAAOnB,EACL,gDACAc,EACA,oBACA0C,IAWJA,EAAIwB,WAAWH,GAAS,WACtBrB,EAAIyB,QACJ9D,EAAOnB,EACL,cAAgB6E,EAAU,cAC1B/D,EACAA,EAAOoE,cAAgBpE,EAAOoE,aAAaC,oBAAsB,YAAc,eAC/E3B,GAEJ,GACF,CAEI1C,EAAOsE,aAETtE,EAAOsE,YAAYC,QAAQC,MAAK,SAAoBC,GAC9C/B,EAAIC,UAERD,EAAIyB,QACJ9D,EAAOoE,GACT,IAIEjG,EAAM+B,SAAS1M,GACjBA,EAAK0P,GAAG,SAAS,SAA2BjH,GAC1C+D,EAAOlB,EAAa7C,EAAK0D,EAAQ,KAAM0C,GACzC,IAAGM,KAAKN,GAERA,EAAIgC,IAAI7Q,EAEZ,GACF,C,8BCxUA,IAAI2K,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MACjBkG,EAAU,EAAQ,MAClBhG,EAAW,EAAQ,MACnBD,EAAgB,EAAQ,MACxBkG,EAAe,EAAQ,MACvBC,EAAkB,EAAQ,MAC1B3F,EAAc,EAAQ,MAE1BX,EAAOvL,QAAU,SAAoBgN,GACnC,OAAO,IAAIC,SAAQ,SAA4BG,EAASC,GACtD,IAAIyE,EAAc9E,EAAOnM,KACrBkR,EAAiB/E,EAAOjG,QACxBqJ,EAAepD,EAAOoD,aAEtB5E,EAAMwG,WAAWF,WACZC,EAAe,gBAGxB,IAAIrL,EAAU,IAAIuL,eAGlB,GAAIjF,EAAOL,KAAM,CACf,IAAInK,EAAWwK,EAAOL,KAAKnK,UAAY,GACnCC,EAAWuK,EAAOL,KAAKlK,SAAWyP,SAASC,mBAAmBnF,EAAOL,KAAKlK,WAAa,GAC3FsP,EAAe9D,cAAgB,SAAWmE,KAAK5P,EAAW,IAAMC,EAClE,CAEA,IAAImL,EAAWlC,EAAcsB,EAAOa,QAASb,EAAOnH,KAMpD,SAASwM,IACP,GAAK3L,EAAL,CAIA,IAAI4L,EAAkB,0BAA2B5L,EAAUkL,EAAalL,EAAQ6L,yBAA2B,KAGvG1L,EAAW,CACbhG,KAHkBuP,GAAiC,SAAjBA,GAA6C,SAAjBA,EACvC1J,EAAQG,SAA/BH,EAAQ8L,aAGR1L,OAAQJ,EAAQI,OAChBoJ,WAAYxJ,EAAQwJ,WACpBnJ,QAASuL,EACTtF,OAAQA,EACRtG,QAASA,GAGX+E,EAAO2B,EAASC,EAAQxG,GAGxBH,EAAU,IAjBV,CAkBF,CAkEA,GA5FAA,EAAQ+L,KAAKzF,EAAO7I,OAAOoK,cAAe5C,EAASiC,EAAUZ,EAAOzF,OAAQyF,EAAOsB,mBAAmB,GAGtG5H,EAAQqK,QAAU/D,EAAO+D,QAyBrB,cAAerK,EAEjBA,EAAQ2L,UAAYA,EAGpB3L,EAAQgM,mBAAqB,WACtBhM,GAAkC,IAAvBA,EAAQiM,aAQD,IAAnBjM,EAAQI,QAAkBJ,EAAQkM,aAAwD,IAAzClM,EAAQkM,YAAYlS,QAAQ,WAKjFwQ,WAAWmB,EACb,EAIF3L,EAAQmM,QAAU,WACXnM,IAIL2G,EAAOnB,EAAY,kBAAmBc,EAAQ,eAAgBtG,IAG9DA,EAAU,KACZ,EAGAA,EAAQoM,QAAU,WAGhBzF,EAAOnB,EAAY,gBAAiBc,EAAQ,KAAMtG,IAGlDA,EAAU,IACZ,EAGAA,EAAQqM,UAAY,WAClB,IAAIC,EAAsB,cAAgBhG,EAAO+D,QAAU,cACvD/D,EAAOgG,sBACTA,EAAsBhG,EAAOgG,qBAE/B3F,EAAOnB,EACL8G,EACAhG,EACAA,EAAOoE,cAAgBpE,EAAOoE,aAAaC,oBAAsB,YAAc,eAC/E3K,IAGFA,EAAU,IACZ,EAKI8E,EAAMyH,uBAAwB,CAEhC,IAAIC,GAAalG,EAAOmG,iBAAmBtB,EAAgBjE,KAAcZ,EAAOoG,eAC9EzB,EAAQ0B,KAAKrG,EAAOoG,qBACpBxM,EAEEsM,IACFnB,EAAe/E,EAAOsG,gBAAkBJ,EAE5C,CAGI,qBAAsBxM,GACxB8E,EAAM7F,QAAQoM,GAAgB,SAA0BwB,EAAK7N,QAChC,IAAhBoM,GAAqD,iBAAtBpM,EAAI9E,qBAErCmR,EAAerM,GAGtBgB,EAAQ8M,iBAAiB9N,EAAK6N,EAElC,IAIG/H,EAAMiI,YAAYzG,EAAOmG,mBAC5BzM,EAAQyM,kBAAoBnG,EAAOmG,iBAIjC/C,GAAiC,SAAjBA,IAClB1J,EAAQ0J,aAAepD,EAAOoD,cAIS,mBAA9BpD,EAAO0G,oBAChBhN,EAAQiN,iBAAiB,WAAY3G,EAAO0G,oBAIP,mBAA5B1G,EAAO4G,kBAAmClN,EAAQmN,QAC3DnN,EAAQmN,OAAOF,iBAAiB,WAAY3G,EAAO4G,kBAGjD5G,EAAOsE,aAETtE,EAAOsE,YAAYC,QAAQC,MAAK,SAAoBC,GAC7C/K,IAILA,EAAQyK,QACR9D,EAAOoE,GAEP/K,EAAU,KACZ,IAGGoL,IACHA,EAAc,MAIhBpL,EAAQoN,KAAKhC,EACf,GACF,C,8BC1LA,IAAItG,EAAQ,EAAQ,MAChBuI,EAAO,EAAQ,MACfC,EAAQ,EAAQ,KAChBC,EAAc,EAAQ,MAS1B,SAASC,EAAeC,GACtB,IAAIC,EAAU,IAAIJ,EAAMG,GACpBE,EAAWN,EAAKC,EAAM1L,UAAU5B,QAAS0N,GAQ7C,OALA5I,EAAM8I,OAAOD,EAAUL,EAAM1L,UAAW8L,GAGxC5I,EAAM8I,OAAOD,EAAUD,GAEhBC,CACT,CAGA,IAAIvO,EAAQoO,EAtBG,EAAQ,OAyBvBpO,EAAMkO,MAAQA,EAGdlO,EAAMyO,OAAS,SAAgBC,GAC7B,OAAON,EAAeD,EAAYnO,EAAM2O,SAAUD,GACpD,EAGA1O,EAAM4O,OAAS,EAAQ,MACvB5O,EAAM6O,YAAc,EAAQ,MAC5B7O,EAAM8O,SAAW,EAAQ,MAGzB9O,EAAM+O,IAAM,SAAaC,GACvB,OAAO7H,QAAQ4H,IAAIC,EACrB,EACAhP,EAAMiP,OAAS,EAAQ,MAGvBjP,EAAMkP,aAAe,EAAQ,MAE7BzJ,EAAOvL,QAAU8F,EAGjByF,EAAOvL,QAAP,QAAyB8F,C,wBC/CzB,SAAS4O,EAAOO,GACd7O,KAAK6O,QAAUA,CACjB,CAEAP,EAAOpM,UAAUvF,SAAW,WAC1B,MAAO,UAAYqD,KAAK6O,QAAU,KAAO7O,KAAK6O,QAAU,GAC1D,EAEAP,EAAOpM,UAAU4M,YAAa,EAE9B3J,EAAOvL,QAAU0U,C,8BChBjB,IAAIA,EAAS,EAAQ,MAQrB,SAASC,EAAYQ,GACnB,GAAwB,mBAAbA,EACT,MAAM,IAAI1M,UAAU,gCAGtB,IAAIyE,EACJ9G,KAAKmL,QAAU,IAAItE,SAAQ,SAAyBG,GAClDF,EAAiBE,CACnB,IAEA,IAAI7C,EAAQnE,KACZ+O,GAAS,SAAgBF,GACnB1K,EAAM6K,SAKV7K,EAAM6K,OAAS,IAAIV,EAAOO,GAC1B/H,EAAe3C,EAAM6K,QACvB,GACF,CAKAT,EAAYrM,UAAU+M,iBAAmB,WACvC,GAAIjP,KAAKgP,OACP,MAAMhP,KAAKgP,MAEf,EAMAT,EAAYW,OAAS,WACnB,IAAI7D,EAIJ,MAAO,CACLlH,MAJU,IAAIoK,GAAY,SAAkBY,GAC5C9D,EAAS8D,CACX,IAGE9D,OAAQA,EAEZ,EAEAlG,EAAOvL,QAAU2U,C,wBCtDjBpJ,EAAOvL,QAAU,SAAkBC,GACjC,SAAUA,IAASA,EAAMiV,WAC3B,C,6BCFA,IAAI1J,EAAQ,EAAQ,MAChBG,EAAW,EAAQ,MACnB6J,EAAqB,EAAQ,KAC7BC,EAAkB,EAAQ,MAC1BxB,EAAc,EAAQ,MACtByB,EAAY,EAAQ,MAEpBC,EAAaD,EAAUC,WAM3B,SAAS3B,EAAMQ,GACbpO,KAAKqO,SAAWD,EAChBpO,KAAKwP,aAAe,CAClBlP,QAAS,IAAI8O,EACb3O,SAAU,IAAI2O,EAElB,CAOAxB,EAAM1L,UAAU5B,QAAU,SAAiBsG,GAGnB,iBAAXA,GACTA,EAAS6I,UAAU,IAAM,CAAC,GACnBhQ,IAAMgQ,UAAU,GAEvB7I,EAASA,GAAU,CAAC,GAGtBA,EAASiH,EAAY7N,KAAKqO,SAAUzH,IAGzB7I,OACT6I,EAAO7I,OAAS6I,EAAO7I,OAAOvD,cACrBwF,KAAKqO,SAAStQ,OACvB6I,EAAO7I,OAASiC,KAAKqO,SAAStQ,OAAOvD,cAErCoM,EAAO7I,OAAS,MAGlB,IAAIiN,EAAepE,EAAOoE,kBAELxK,IAAjBwK,GACFsE,EAAUI,cAAc1E,EAAc,CACpC2E,kBAAmBJ,EAAWvE,aAAauE,EAAWK,QAAS,SAC/DC,kBAAmBN,EAAWvE,aAAauE,EAAWK,QAAS,SAC/D3E,oBAAqBsE,EAAWvE,aAAauE,EAAWK,QAAS,WAChE,GAIL,IAAIE,EAA0B,GAC1BC,GAAiC,EACrC/P,KAAKwP,aAAalP,QAAQf,SAAQ,SAAoCyQ,GACjC,mBAAxBA,EAAYC,UAA0D,IAAhCD,EAAYC,QAAQrJ,KAIrEmJ,EAAiCA,GAAkCC,EAAYE,YAE/EJ,EAAwBK,QAAQH,EAAYI,UAAWJ,EAAYK,UACrE,IAEA,IAKIlF,EALAmF,EAA2B,GAO/B,GANAtQ,KAAKwP,aAAa/O,SAASlB,SAAQ,SAAkCyQ,GACnEM,EAAyBrN,KAAK+M,EAAYI,UAAWJ,EAAYK,SACnE,KAIKN,EAAgC,CACnC,IAAIQ,EAAQ,CAAClB,OAAiB7O,GAM9B,IAJAV,MAAMoC,UAAUiO,QAAQK,MAAMD,EAAOT,GACrCS,EAAQA,EAAMzM,OAAOwM,GAErBnF,EAAUtE,QAAQG,QAAQJ,GACnB2J,EAAM3V,QACXuQ,EAAUA,EAAQC,KAAKmF,EAAME,QAASF,EAAME,SAG9C,OAAOtF,CACT,CAIA,IADA,IAAIuF,EAAY9J,EACTkJ,EAAwBlV,QAAQ,CACrC,IAAI+V,EAAcb,EAAwBW,QACtCG,EAAad,EAAwBW,QACzC,IACEC,EAAYC,EAAYD,EAI1B,CAHE,MAAOzT,GACP2T,EAAW3T,GACX,KACF,CACF,CAEA,IACEkO,EAAUkE,EAAgBqB,EAG5B,CAFE,MAAOzT,GACP,OAAO4J,QAAQI,OAAOhK,EACxB,CAEA,KAAOqT,EAAyB1V,QAC9BuQ,EAAUA,EAAQC,KAAKkF,EAAyBG,QAASH,EAAyBG,SAGpF,OAAOtF,CACT,EAEAyC,EAAM1L,UAAU2O,OAAS,SAAgBjK,GAEvC,OADAA,EAASiH,EAAY7N,KAAKqO,SAAUzH,GAC7BrB,EAASqB,EAAOnH,IAAKmH,EAAOzF,OAAQyF,EAAOsB,kBAAkB9I,QAAQ,MAAO,GACrF,EAGAgG,EAAM7F,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6BxB,GAE/E6P,EAAM1L,UAAUnE,GAAU,SAAS0B,EAAKmH,GACtC,OAAO5G,KAAKM,QAAQuN,EAAYjH,GAAU,CAAC,EAAG,CAC5C7I,OAAQA,EACR0B,IAAKA,EACLhF,MAAOmM,GAAU,CAAC,GAAGnM,OAEzB,CACF,IAEA2K,EAAM7F,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BxB,GAErE6P,EAAM1L,UAAUnE,GAAU,SAAS0B,EAAKhF,EAAMmM,GAC5C,OAAO5G,KAAKM,QAAQuN,EAAYjH,GAAU,CAAC,EAAG,CAC5C7I,OAAQA,EACR0B,IAAKA,EACLhF,KAAMA,IAEV,CACF,IAEA0K,EAAOvL,QAAUgU,C,6BCjJjB,IAAIxI,EAAQ,EAAQ,MAEpB,SAASgK,IACPpP,KAAK8Q,SAAW,EAClB,CAUA1B,EAAmBlN,UAAU6O,IAAM,SAAaX,EAAWC,EAAUrM,GAOnE,OANAhE,KAAK8Q,SAAS7N,KAAK,CACjBmN,UAAWA,EACXC,SAAUA,EACVH,cAAalM,GAAUA,EAAQkM,YAC/BD,QAASjM,EAAUA,EAAQiM,QAAU,OAEhCjQ,KAAK8Q,SAASlW,OAAS,CAChC,EAOAwU,EAAmBlN,UAAU8O,MAAQ,SAAeC,GAC9CjR,KAAK8Q,SAASG,KAChBjR,KAAK8Q,SAASG,GAAM,KAExB,EAUA7B,EAAmBlN,UAAU3C,QAAU,SAAiB2R,GACtD9L,EAAM7F,QAAQS,KAAK8Q,UAAU,SAAwBK,GACzC,OAANA,GACFD,EAAGC,EAEP,GACF,EAEAhM,EAAOvL,QAAUwV,C,8BCnDjB,IAAIgC,EAAgB,EAAQ,MACxBC,EAAc,EAAQ,MAW1BlM,EAAOvL,QAAU,SAAuB6N,EAAS6J,GAC/C,OAAI7J,IAAY2J,EAAcE,GACrBD,EAAY5J,EAAS6J,GAEvBA,CACT,C,8BCjBA,IAAIvL,EAAe,EAAQ,KAY3BZ,EAAOvL,QAAU,SAAqBiV,EAASjI,EAAQ8D,EAAMpK,EAASG,GACpE,IAAIxD,EAAQ,IAAIsU,MAAM1C,GACtB,OAAO9I,EAAa9I,EAAO2J,EAAQ8D,EAAMpK,EAASG,EACpD,C,8BCfA,IAAI2E,EAAQ,EAAQ,MAChBoM,EAAgB,EAAQ,MACxBhD,EAAW,EAAQ,MACnBH,EAAW,EAAQ,MAKvB,SAASoD,EAA6B7K,GAChCA,EAAOsE,aACTtE,EAAOsE,YAAY+D,kBAEvB,CAQA9J,EAAOvL,QAAU,SAAyBgN,GA8BxC,OA7BA6K,EAA6B7K,GAG7BA,EAAOjG,QAAUiG,EAAOjG,SAAW,CAAC,EAGpCiG,EAAOnM,KAAO+W,EAAcrP,KAC1ByE,EACAA,EAAOnM,KACPmM,EAAOjG,QACPiG,EAAO8K,kBAIT9K,EAAOjG,QAAUyE,EAAMuM,MACrB/K,EAAOjG,QAAQiR,QAAU,CAAC,EAC1BhL,EAAOjG,QAAQiG,EAAO7I,SAAW,CAAC,EAClC6I,EAAOjG,SAGTyE,EAAM7F,QACJ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WAClD,SAA2BxB,UAClB6I,EAAOjG,QAAQ5C,EACxB,KAGY6I,EAAOiL,SAAWxD,EAASwD,SAE1BjL,GAAQwE,MAAK,SAA6B3K,GAWvD,OAVAgR,EAA6B7K,GAG7BnG,EAAShG,KAAO+W,EAAcrP,KAC5ByE,EACAnG,EAAShG,KACTgG,EAASE,QACTiG,EAAOkL,mBAGFrR,CACT,IAAG,SAA4BuO,GAe7B,OAdKR,EAASQ,KACZyC,EAA6B7K,GAGzBoI,GAAUA,EAAOvO,WACnBuO,EAAOvO,SAAShG,KAAO+W,EAAcrP,KACnCyE,EACAoI,EAAOvO,SAAShG,KAChBuU,EAAOvO,SAASE,QAChBiG,EAAOkL,qBAKNjL,QAAQI,OAAO+H,EACxB,GACF,C,uBCrEA7J,EAAOvL,QAAU,SAAsBqD,EAAO2J,EAAQ8D,EAAMpK,EAASG,GA4BnE,OA3BAxD,EAAM2J,OAASA,EACX8D,IACFzN,EAAMyN,KAAOA,GAGfzN,EAAMqD,QAAUA,EAChBrD,EAAMwD,SAAWA,EACjBxD,EAAM2R,cAAe,EAErB3R,EAAM8U,OAAS,WACb,MAAO,CAELlD,QAAS7O,KAAK6O,QACd3P,KAAMc,KAAKd,KAEX8S,YAAahS,KAAKgS,YAClBC,OAAQjS,KAAKiS,OAEbC,SAAUlS,KAAKkS,SACfC,WAAYnS,KAAKmS,WACjBC,aAAcpS,KAAKoS,aACnBC,MAAOrS,KAAKqS,MAEZzL,OAAQ5G,KAAK4G,OACb8D,KAAM1K,KAAK0K,KAEf,EACOzN,CACT,C,8BCvCA,IAAImI,EAAQ,EAAQ,MAUpBD,EAAOvL,QAAU,SAAqB0Y,EAASC,GAE7CA,EAAUA,GAAW,CAAC,EACtB,IAAI3L,EAAS,CAAC,EAEV4L,EAAuB,CAAC,MAAO,SAAU,QACzCC,EAA0B,CAAC,UAAW,OAAQ,QAAS,UACvDC,EAAuB,CACzB,UAAW,mBAAoB,oBAAqB,mBACpD,UAAW,iBAAkB,kBAAmB,UAAW,eAAgB,iBAC3E,iBAAkB,mBAAoB,qBAAsB,aAC5D,mBAAoB,gBAAiB,eAAgB,YAAa,YAClE,aAAc,cAAe,aAAc,oBAEzCC,EAAkB,CAAC,kBAEvB,SAASC,EAAeC,EAAQ3D,GAC9B,OAAI9J,EAAM0N,cAAcD,IAAWzN,EAAM0N,cAAc5D,GAC9C9J,EAAMuM,MAAMkB,EAAQ3D,GAClB9J,EAAM0N,cAAc5D,GACtB9J,EAAMuM,MAAM,CAAC,EAAGzC,GACd9J,EAAMzD,QAAQuN,GAChBA,EAAOjO,QAETiO,CACT,CAEA,SAAS6D,EAAoBC,GACtB5N,EAAMiI,YAAYkF,EAAQS,IAEnB5N,EAAMiI,YAAYiF,EAAQU,MACpCpM,EAAOoM,GAAQJ,OAAepS,EAAW8R,EAAQU,KAFjDpM,EAAOoM,GAAQJ,EAAeN,EAAQU,GAAOT,EAAQS,GAIzD,CAEA5N,EAAM7F,QAAQiT,GAAsB,SAA0BQ,GACvD5N,EAAMiI,YAAYkF,EAAQS,MAC7BpM,EAAOoM,GAAQJ,OAAepS,EAAW+R,EAAQS,IAErD,IAEA5N,EAAM7F,QAAQkT,EAAyBM,GAEvC3N,EAAM7F,QAAQmT,GAAsB,SAA0BM,GACvD5N,EAAMiI,YAAYkF,EAAQS,IAEnB5N,EAAMiI,YAAYiF,EAAQU,MACpCpM,EAAOoM,GAAQJ,OAAepS,EAAW8R,EAAQU,KAFjDpM,EAAOoM,GAAQJ,OAAepS,EAAW+R,EAAQS,GAIrD,IAEA5N,EAAM7F,QAAQoT,GAAiB,SAAeK,GACxCA,KAAQT,EACV3L,EAAOoM,GAAQJ,EAAeN,EAAQU,GAAOT,EAAQS,IAC5CA,KAAQV,IACjB1L,EAAOoM,GAAQJ,OAAepS,EAAW8R,EAAQU,IAErD,IAEA,IAAIC,EAAYT,EACb1O,OAAO2O,GACP3O,OAAO4O,GACP5O,OAAO6O,GAENO,EAAYxZ,OACbuK,KAAKqO,GACLxO,OAAOpK,OAAOuK,KAAKsO,IACnBY,QAAO,SAAyB7T,GAC/B,OAAmC,IAA5B2T,EAAU3Y,QAAQgF,EAC3B,IAIF,OAFA8F,EAAM7F,QAAQ2T,EAAWH,GAElBnM,CACT,C,8BCpFA,IAAId,EAAc,EAAQ,MAS1BX,EAAOvL,QAAU,SAAgBoN,EAASC,EAAQxG,GAChD,IAAI2S,EAAiB3S,EAASmG,OAAOwM,eAChC3S,EAASC,QAAW0S,IAAkBA,EAAe3S,EAASC,QAGjEuG,EAAOnB,EACL,mCAAqCrF,EAASC,OAC9CD,EAASmG,OACT,KACAnG,EAASH,QACTG,IAPFuG,EAAQvG,EAUZ,C,8BCtBA,IAAI2E,EAAQ,EAAQ,MAChBiJ,EAAW,EAAQ,MAUvBlJ,EAAOvL,QAAU,SAAuBa,EAAMkG,EAAS0S,GACrD,IAAIrF,EAAUhO,MAAQqO,EAMtB,OAJAjJ,EAAM7F,QAAQ8T,GAAK,SAAmBnC,GACpCzW,EAAOyW,EAAG/O,KAAK6L,EAASvT,EAAMkG,EAChC,IAEOlG,CACT,C,8BCnBA,IAAI2K,EAAQ,EAAQ,MAChBkO,EAAsB,EAAQ,MAC9BvN,EAAe,EAAQ,KAEvBwN,EAAuB,CACzB,eAAgB,qCAGlB,SAASC,EAAsB7S,EAAS9G,IACjCuL,EAAMiI,YAAY1M,IAAYyE,EAAMiI,YAAY1M,EAAQ,mBAC3DA,EAAQ,gBAAkB9G,EAE9B,CA6BA,IA1BMgY,EA0BFxD,EAAW,CAEbrD,aAAc,CACZ2E,mBAAmB,EACnBE,mBAAmB,EACnB5E,qBAAqB,GAGvB4G,SAjC8B,oBAAnBhG,eAETgG,EAAU,EAAQ,MACU,oBAAZpJ,SAAuE,qBAA5C/O,OAAOwI,UAAUvF,SAASwF,KAAKsG,WAE1EoJ,EAAU,EAAQ,OAEbA,GA4BPH,iBAAkB,CAAC,SAA0BjX,EAAMkG,GAIjD,OAHA2S,EAAoB3S,EAAS,UAC7B2S,EAAoB3S,EAAS,gBAEzByE,EAAMwG,WAAWnR,IACnB2K,EAAMiC,cAAc5M,IACpB2K,EAAMgC,SAAS3M,IACf2K,EAAM+B,SAAS1M,IACf2K,EAAMqO,OAAOhZ,IACb2K,EAAMsO,OAAOjZ,GAENA,EAEL2K,EAAMuO,kBAAkBlZ,GACnBA,EAAKmZ,OAEVxO,EAAMyO,kBAAkBpZ,IAC1B+Y,EAAsB7S,EAAS,mDACxBlG,EAAKkC,YAEVyI,EAAM0O,SAASrZ,IAAUkG,GAAuC,qBAA5BA,EAAQ,iBAC9C6S,EAAsB7S,EAAS,oBA9CrC,SAAyBoT,EAAUC,EAAQC,GACzC,GAAI7O,EAAMmC,SAASwM,GACjB,IAEE,OADCC,GAAUE,KAAKnT,OAAOgT,GAChB3O,EAAM3G,KAAKsV,EAKpB,CAJE,MAAOI,GACP,GAAe,gBAAXA,EAAEjV,KACJ,MAAMiV,CAEV,CAGF,OAAQF,GAAWC,KAAKE,WAAWL,EACrC,CAkCaM,CAAgB5Z,IAElBA,CACT,GAEAqX,kBAAmB,CAAC,SAA2BrX,GAC7C,IAAIuQ,EAAehL,KAAKgL,aACpB2E,EAAoB3E,GAAgBA,EAAa2E,kBACjDE,EAAoB7E,GAAgBA,EAAa6E,kBACjDyE,GAAqB3E,GAA2C,SAAtB3P,KAAKgK,aAEnD,GAAIsK,GAAsBzE,GAAqBzK,EAAMmC,SAAS9M,IAASA,EAAKG,OAC1E,IACE,OAAOsZ,KAAKnT,MAAMtG,EAQpB,CAPE,MAAO0Z,GACP,GAAIG,EAAmB,CACrB,GAAe,gBAAXH,EAAEjV,KACJ,MAAM6G,EAAaoO,EAAGnU,KAAM,gBAE9B,MAAMmU,CACR,CACF,CAGF,OAAO1Z,CACT,GAMAkQ,QAAS,EAETqC,eAAgB,aAChBE,eAAgB,eAEhB7C,kBAAmB,EACnBhB,eAAgB,EAEhB+J,eAAgB,SAAwB1S,GACtC,OAAOA,GAAU,KAAOA,EAAS,GACnC,GAGF2N,EAAS1N,QAAU,CACjBiR,OAAQ,CACN,OAAU,sCAIdxM,EAAM7F,QAAQ,CAAC,SAAU,MAAO,SAAS,SAA6BxB,GACpEsQ,EAAS1N,QAAQ5C,GAAU,CAAC,CAC9B,IAEAqH,EAAM7F,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BxB,GACrEsQ,EAAS1N,QAAQ5C,GAAUqH,EAAMuM,MAAM4B,EACzC,IAEApO,EAAOvL,QAAUyU,C,wBCnIjBlJ,EAAOvL,QAAU,SAAcsX,EAAIqD,GACjC,OAAO,WAEL,IADA,IAAIC,EAAO,IAAI1U,MAAM2P,UAAU7U,QACtBgH,EAAI,EAAGA,EAAI4S,EAAK5Z,OAAQgH,IAC/B4S,EAAK5S,GAAK6N,UAAU7N,GAEtB,OAAOsP,EAAGV,MAAM+D,EAASC,EAC3B,CACF,C,8BCRA,IAAIpP,EAAQ,EAAQ,MAEpB,SAASqP,EAAOtH,GACd,OAAOpB,mBAAmBoB,GACxB/N,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IACrB,CASA+F,EAAOvL,QAAU,SAAkB6F,EAAK0B,EAAQ+G,GAE9C,IAAK/G,EACH,OAAO1B,EAGT,IAAIiV,EACJ,GAAIxM,EACFwM,EAAmBxM,EAAiB/G,QAC/B,GAAIiE,EAAMyO,kBAAkB1S,GACjCuT,EAAmBvT,EAAOxE,eACrB,CACL,IAAIgY,EAAQ,GAEZvP,EAAM7F,QAAQ4B,GAAQ,SAAmBgM,EAAK7N,GACxC6N,UAIA/H,EAAMzD,QAAQwL,GAChB7N,GAAY,KAEZ6N,EAAM,CAACA,GAGT/H,EAAM7F,QAAQ4N,GAAK,SAAoByH,GACjCxP,EAAMyP,OAAOD,GACfA,EAAIA,EAAEE,cACG1P,EAAM0O,SAASc,KACxBA,EAAIV,KAAKE,UAAUQ,IAErBD,EAAM1R,KAAKwR,EAAOnV,GAAO,IAAMmV,EAAOG,GACxC,IACF,IAEAF,EAAmBC,EAAM7X,KAAK,IAChC,CAEA,GAAI4X,EAAkB,CACpB,IAAIK,EAAgBtV,EAAInF,QAAQ,MACT,IAAnBya,IACFtV,EAAMA,EAAIwB,MAAM,EAAG8T,IAGrBtV,KAA8B,IAAtBA,EAAInF,QAAQ,KAAc,IAAM,KAAOoa,CACjD,CAEA,OAAOjV,CACT,C,wBC5DA0F,EAAOvL,QAAU,SAAqB6N,EAASuN,GAC7C,OAAOA,EACHvN,EAAQrI,QAAQ,OAAQ,IAAM,IAAM4V,EAAY5V,QAAQ,OAAQ,IAChEqI,CACN,C,8BCXA,IAAIrC,EAAQ,EAAQ,MAEpBD,EAAOvL,QACLwL,EAAMyH,uBAIK,CACLoI,MAAO,SAAe/V,EAAMrF,EAAOqb,EAAS9T,EAAM+T,EAAQC,GACxD,IAAIC,EAAS,GACbA,EAAOpS,KAAK/D,EAAO,IAAM6M,mBAAmBlS,IAExCuL,EAAMkQ,SAASJ,IACjBG,EAAOpS,KAAK,WAAa,IAAIsS,KAAKL,GAASM,eAGzCpQ,EAAMmC,SAASnG,IACjBiU,EAAOpS,KAAK,QAAU7B,GAGpBgE,EAAMmC,SAAS4N,IACjBE,EAAOpS,KAAK,UAAYkS,IAGX,IAAXC,GACFC,EAAOpS,KAAK,UAGdwS,SAASJ,OAASA,EAAOvY,KAAK,KAChC,EAEAmQ,KAAM,SAAc/N,GAClB,IAAIR,EAAQ+W,SAASJ,OAAO3W,MAAM,IAAIgX,OAAO,aAAexW,EAAO,cACnE,OAAQR,EAAQiX,mBAAmBjX,EAAM,IAAM,IACjD,EAEAkX,OAAQ,SAAgB1W,GACtBc,KAAKiV,MAAM/V,EAAM,GAAIqW,KAAKM,MAAQ,MACpC,GAMK,CACLZ,MAAO,WAAkB,EACzBhI,KAAM,WAAkB,OAAO,IAAM,EACrC2I,OAAQ,WAAmB,E,wBCzCnCzQ,EAAOvL,QAAU,SAAuB6F,GAItC,MAAO,gCAAgCyF,KAAKzF,EAC9C,C,wBCLA0F,EAAOvL,QAAU,SAAsBkc,GACrC,MAA2B,iBAAZA,IAAmD,IAAzBA,EAAQlH,YACnD,C,8BCRA,IAAIxJ,EAAQ,EAAQ,MAEpBD,EAAOvL,QACLwL,EAAMyH,uBAIJ,WACE,IAEIkJ,EAFAC,EAAO,kBAAkB9Q,KAAK+Q,UAAUC,WACxCC,EAAiBV,SAASW,cAAc,KAS5C,SAASC,EAAW5W,GAClB,IAAIkH,EAAOlH,EAWX,OATIuW,IAEFG,EAAeG,aAAa,OAAQ3P,GACpCA,EAAOwP,EAAexP,MAGxBwP,EAAeG,aAAa,OAAQ3P,GAG7B,CACLA,KAAMwP,EAAexP,KACrBgB,SAAUwO,EAAexO,SAAWwO,EAAexO,SAASvI,QAAQ,KAAM,IAAM,GAChFiH,KAAM8P,EAAe9P,KACrBkQ,OAAQJ,EAAeI,OAASJ,EAAeI,OAAOnX,QAAQ,MAAO,IAAM,GAC3E7C,KAAM4Z,EAAe5Z,KAAO4Z,EAAe5Z,KAAK6C,QAAQ,KAAM,IAAM,GACpEgH,SAAU+P,EAAe/P,SACzBE,KAAM6P,EAAe7P,KACrBjF,SAAiD,MAAtC8U,EAAe9U,SAASsD,OAAO,GACxCwR,EAAe9U,SACf,IAAM8U,EAAe9U,SAE3B,CAUA,OARA0U,EAAYM,EAAWG,OAAOrQ,SAASQ,MAQhC,SAAyB8P,GAC9B,IAAI/O,EAAUtC,EAAMmC,SAASkP,GAAeJ,EAAWI,GAAcA,EACrE,OAAQ/O,EAAOC,WAAaoO,EAAUpO,UAClCD,EAAOrB,OAAS0P,EAAU1P,IAChC,CACD,CAlDD,GAsDS,WACL,OAAO,CACT,C,8BC/DN,IAAIjB,EAAQ,EAAQ,MAEpBD,EAAOvL,QAAU,SAA6B+G,EAAS+V,GACrDtR,EAAM7F,QAAQoB,GAAS,SAAuB9G,EAAOqF,GAC/CA,IAASwX,GAAkBxX,EAAKiJ,gBAAkBuO,EAAevO,gBACnExH,EAAQ+V,GAAkB7c,SACnB8G,EAAQzB,GAEnB,GACF,C,8BCTA,IAAIkG,EAAQ,EAAQ,MAIhBuR,EAAoB,CACtB,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,cAgB5BxR,EAAOvL,QAAU,SAAsB+G,GACrC,IACIrB,EACA6N,EACAvL,EAHA8F,EAAS,CAAC,EAKd,OAAK/G,GAELyE,EAAM7F,QAAQoB,EAAQ9D,MAAM,OAAO,SAAgB+Z,GAKjD,GAJAhV,EAAIgV,EAAKtc,QAAQ,KACjBgF,EAAM8F,EAAM3G,KAAKmY,EAAKjc,OAAO,EAAGiH,IAAIpH,cACpC2S,EAAM/H,EAAM3G,KAAKmY,EAAKjc,OAAOiH,EAAI,IAE7BtC,EAAK,CACP,GAAIoI,EAAOpI,IAAQqX,EAAkBrc,QAAQgF,IAAQ,EACnD,OAGAoI,EAAOpI,GADG,eAARA,GACaoI,EAAOpI,GAAOoI,EAAOpI,GAAO,IAAIwE,OAAO,CAACqJ,IAEzCzF,EAAOpI,GAAOoI,EAAOpI,GAAO,KAAO6N,EAAMA,CAE3D,CACF,IAEOzF,GAnBgBA,CAoBzB,C,wBC9BAvC,EAAOvL,QAAU,SAAgBid,GAC/B,OAAO,SAAcnV,GACnB,OAAOmV,EAASrG,MAAM,KAAM9O,EAC9B,CACF,C,8BCxBA,IAAImE,EAAM,EAAQ,MAEd0J,EAAa,CAAC,EAGlB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAUhQ,SAAQ,SAAShF,EAAMqH,GACrF2N,EAAWhV,GAAQ,SAAmBuc,GACpC,cAAcA,IAAUvc,GAAQ,KAAOqH,EAAI,EAAI,KAAO,KAAOrH,CAC/D,CACF,IAEA,IAAIwc,EAAqB,CAAC,EACtBC,EAAgBnR,EAAIqB,QAAQrK,MAAM,KAQtC,SAASoa,EAAe/P,EAASgQ,GAG/B,IAFA,IAAIC,EAAgBD,EAAcA,EAAYra,MAAM,KAAOma,EACvDI,EAAUlQ,EAAQrK,MAAM,KACnB+E,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,GAAIuV,EAAcvV,GAAKwV,EAAQxV,GAC7B,OAAO,EACF,GAAIuV,EAAcvV,GAAKwV,EAAQxV,GACpC,OAAO,CAEX,CACA,OAAO,CACT,CASA2N,EAAWvE,aAAe,SAAsBsE,EAAWpI,EAAS2H,GAClE,IAAIwI,EAAenQ,GAAW+P,EAAe/P,GAE7C,SAASoQ,EAAcC,EAAKC,GAC1B,MAAO,WAAa3R,EAAIqB,QAAU,0BAA6BqQ,EAAM,IAAOC,GAAQ3I,EAAU,KAAOA,EAAU,GACjH,CAGA,OAAO,SAAShV,EAAO0d,EAAKpX,GAC1B,IAAkB,IAAdmP,EACF,MAAM,IAAIiC,MAAM+F,EAAcC,EAAK,wBAA0BrQ,IAc/D,OAXImQ,IAAiBN,EAAmBQ,KACtCR,EAAmBQ,IAAO,EAE1BE,QAAQC,KACNJ,EACEC,EACA,+BAAiCrQ,EAAU,8CAK1CoI,GAAYA,EAAUzV,EAAO0d,EAAKpX,EAC3C,CACF,EAgCAgF,EAAOvL,QAAU,CACfqd,eAAgBA,EAChBvH,cAzBF,SAAuB1L,EAAS2T,EAAQC,GACtC,GAAuB,iBAAZ5T,EACT,MAAM,IAAI3B,UAAU,6BAItB,IAFA,IAAI4B,EAAOvK,OAAOuK,KAAKD,GACnBpC,EAAIqC,EAAKrJ,OACNgH,KAAM,GAAG,CACd,IAAI2V,EAAMtT,EAAKrC,GACX0N,EAAYqI,EAAOJ,GACvB,GAAIjI,EAAJ,CACE,IAAIzV,EAAQmK,EAAQuT,GAChBpd,OAAmBqG,IAAV3G,GAAuByV,EAAUzV,EAAO0d,EAAKvT,GAC1D,IAAe,IAAX7J,EACF,MAAM,IAAIkI,UAAU,UAAYkV,EAAM,YAAcpd,EAGxD,MACA,IAAqB,IAAjByd,EACF,MAAMrG,MAAM,kBAAoBgG,EAEpC,CACF,EAKEhI,WAAYA,E,8BCrGd,IAAI5B,EAAO,EAAQ,MAIfhR,EAAWjD,OAAOwI,UAAUvF,SAQhC,SAASgF,EAAQwL,GACf,MAA8B,mBAAvBxQ,EAASwF,KAAKgL,EACvB,CAQA,SAASE,EAAYF,GACnB,YAAsB,IAARA,CAChB,CA2EA,SAAS2G,EAAS3G,GAChB,OAAe,OAARA,GAA+B,iBAARA,CAChC,CAQA,SAAS2F,EAAc3F,GACrB,GAA2B,oBAAvBxQ,EAASwF,KAAKgL,GAChB,OAAO,EAGT,IAAIjL,EAAYxI,OAAOme,eAAe1K,GACtC,OAAqB,OAAdjL,GAAsBA,IAAcxI,OAAOwI,SACpD,CAsCA,SAAS4V,EAAW3K,GAClB,MAA8B,sBAAvBxQ,EAASwF,KAAKgL,EACvB,CAuEA,SAAS5N,EAAQ5D,EAAKuV,GAEpB,GAAIvV,QAUJ,GALmB,iBAARA,IAETA,EAAM,CAACA,IAGLgG,EAAQhG,GAEV,IAAK,IAAIiG,EAAI,EAAGmW,EAAIpc,EAAIf,OAAQgH,EAAImW,EAAGnW,IACrCsP,EAAG/O,KAAK,KAAMxG,EAAIiG,GAAIA,EAAGjG,QAI3B,IAAK,IAAI2D,KAAO3D,EACVjC,OAAOwI,UAAU8V,eAAe7V,KAAKxG,EAAK2D,IAC5C4R,EAAG/O,KAAK,KAAMxG,EAAI2D,GAAMA,EAAK3D,EAIrC,CAuEAwJ,EAAOvL,QAAU,CACf+H,QAASA,EACT0F,cA1RF,SAAuB8F,GACrB,MAA8B,yBAAvBxQ,EAASwF,KAAKgL,EACvB,EAyRE/F,SAtSF,SAAkB+F,GAChB,OAAe,OAARA,IAAiBE,EAAYF,IAA4B,OAApBA,EAAItN,cAAyBwN,EAAYF,EAAItN,cAChD,mBAA7BsN,EAAItN,YAAYuH,UAA2B+F,EAAItN,YAAYuH,SAAS+F,EAClF,EAoSEvB,WAlRF,SAAoBuB,GAClB,MAA4B,oBAAb8K,UAA8B9K,aAAe8K,QAC9D,EAiREtE,kBAzQF,SAA2BxG,GAOzB,MAL4B,oBAAhB+K,aAAiCA,YAAkB,OACpDA,YAAYC,OAAOhL,GAEnB,GAAUA,EAAU,QAAMA,EAAIyG,kBAAkBsE,WAG7D,EAkQE3Q,SA1PF,SAAkB4F,GAChB,MAAsB,iBAARA,CAChB,EAyPEmI,SAjPF,SAAkBnI,GAChB,MAAsB,iBAARA,CAChB,EAgPE2G,SAAUA,EACVhB,cAAeA,EACfzF,YAAaA,EACbwH,OAlNF,SAAgB1H,GACd,MAA8B,kBAAvBxQ,EAASwF,KAAKgL,EACvB,EAiNEsG,OAzMF,SAAgBtG,GACd,MAA8B,kBAAvBxQ,EAASwF,KAAKgL,EACvB,EAwMEuG,OAhMF,SAAgBvG,GACd,MAA8B,kBAAvBxQ,EAASwF,KAAKgL,EACvB,EA+LE2K,WAAYA,EACZ3Q,SA9KF,SAAkBgG,GAChB,OAAO2G,EAAS3G,IAAQ2K,EAAW3K,EAAIvD,KACzC,EA6KEiK,kBArKF,SAA2B1G,GACzB,MAAkC,oBAApBiL,iBAAmCjL,aAAeiL,eAClE,EAoKEvL,qBAzIF,WACE,OAAyB,oBAAdoJ,WAAoD,gBAAtBA,UAAUoC,SACY,iBAAtBpC,UAAUoC,SACY,OAAtBpC,UAAUoC,WAI/B,oBAAX7B,QACa,oBAAbf,SAEX,EAgIElW,QAASA,EACToS,MAvEF,SAASA,IACP,IAAIxX,EAAS,CAAC,EACd,SAASme,EAAYnL,EAAK7N,GACpBwT,EAAc3Y,EAAOmF,KAASwT,EAAc3F,GAC9ChT,EAAOmF,GAAOqS,EAAMxX,EAAOmF,GAAM6N,GACxB2F,EAAc3F,GACvBhT,EAAOmF,GAAOqS,EAAM,CAAC,EAAGxE,GACfxL,EAAQwL,GACjBhT,EAAOmF,GAAO6N,EAAIlM,QAElB9G,EAAOmF,GAAO6N,CAElB,CAEA,IAAK,IAAIvL,EAAI,EAAGmW,EAAItI,UAAU7U,OAAQgH,EAAImW,EAAGnW,IAC3CrC,EAAQkQ,UAAU7N,GAAI0W,GAExB,OAAOne,CACT,EAsDE+T,OA5CF,SAAgBqK,EAAGC,EAAGjE,GAQpB,OAPAhV,EAAQiZ,GAAG,SAAqBrL,EAAK7N,GAEjCiZ,EAAEjZ,GADAiV,GAA0B,mBAARpH,EACXQ,EAAKR,EAAKoH,GAEVpH,CAEb,IACOoL,CACT,EAoCE9Z,KAhKF,SAAclB,GACZ,OAAOA,EAAIkB,KAAOlB,EAAIkB,OAASlB,EAAI6B,QAAQ,aAAc,GAC3D,EA+JEqL,SA7BF,SAAkBgO,GAIhB,OAH8B,QAA1BA,EAAQC,WAAW,KACrBD,EAAUA,EAAQxX,MAAM,IAEnBwX,CACT,E,iBCnUA,IAAIE,EAEJxT,EAAOvL,QAAU,WACf,IAAK+e,EAAO,CACV,IAEEA,EAAQ,EAAQ,sGAAR,CAAiB,mBAEL,CAAtB,MAAO1b,GAAe,CACD,mBAAV0b,IACTA,EAAQ,WAAoB,EAEhC,CACAA,EAAMnI,MAAM,KAAMf,UACpB,C,gBCdA,IAAIhQ,EAAM,EAAQ,MACdmZ,EAAMnZ,EAAImZ,IACVpT,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBoT,EAAW,iBACXC,EAAS,EAAQ,MACjBH,EAAQ,EAAQ,MAGhBI,EAAS,CAAC,QAAS,UAAW,UAAW,QAAS,SAAU,WAC5DC,EAAgBtf,OAAOyU,OAAO,MAClC4K,EAAOxZ,SAAQ,SAAU0Z,GACvBD,EAAcC,GAAS,SAAUC,EAAMC,EAAMC,GAC3CpZ,KAAKqZ,cAAcC,KAAKL,EAAOC,EAAMC,EAAMC,EAC7C,CACF,IAGA,IAAIG,EAAmBC,EACrB,6BACA,6BAEEC,EAAwBD,EAC1B,4BACA,wCAEEE,EAA6BF,EAC/B,kCACA,gDAEEG,EAAqBH,EACvB,6BACA,mBAIF,SAASI,EAAoB5V,EAAS6V,GAEpChB,EAAS1W,KAAKnC,MACdA,KAAK8Z,iBAAiB9V,GACtBhE,KAAK+Z,SAAW/V,EAChBhE,KAAKga,QAAS,EACdha,KAAKia,SAAU,EACfja,KAAKka,eAAiB,EACtBla,KAAKma,WAAa,GAClBna,KAAKoa,mBAAqB,EAC1Bpa,KAAKqa,oBAAsB,GAGvBR,GACF7Z,KAAKmK,GAAG,WAAY0P,GAItB,IAAIS,EAAOta,KACXA,KAAKua,kBAAoB,SAAU9Z,GACjC6Z,EAAKE,iBAAiB/Z,EACxB,EAGAT,KAAKya,iBACP,CAwXA,SAASC,EAAKC,GAEZ,IAAI/gB,EAAU,CACZwP,aAAc,GACdC,cAAe,UAIbuR,EAAkB,CAAC,EAyDvB,OAxDAlhB,OAAOuK,KAAK0W,GAAWpb,SAAQ,SAAU2E,GACvC,IAAIyD,EAAWzD,EAAS,IACpB2W,EAAiBD,EAAgBjT,GAAYgT,EAAUzW,GACvD4W,EAAkBlhB,EAAQsK,GAAUxK,OAAOyU,OAAO0M,GAgDtDnhB,OAAOqhB,iBAAiBD,EAAiB,CACvCxa,QAAS,CAAEzG,MA9Cb,SAAiBmhB,EAAOhX,EAAS6S,GAE/B,GAAqB,iBAAVmE,EAAoB,CAC7B,IAAIC,EAASD,EACb,IACEA,EAAQE,EAAa,IAAItC,EAAIqC,GAK/B,CAHA,MAAO/X,GAEL8X,EAAQvb,EAAIsB,MAAMka,EACpB,CACF,MACSrC,GAAQoC,aAAiBpC,EAChCoC,EAAQE,EAAaF,IAGrBnE,EAAW7S,EACXA,EAAUgX,EACVA,EAAQ,CAAErT,SAAUA,IAgBtB,MAduB,mBAAZ3D,IACT6S,EAAW7S,EACXA,EAAU,OAIZA,EAAUtK,OAAOyhB,OAAO,CACtB/R,aAAcxP,EAAQwP,aACtBC,cAAezP,EAAQyP,eACtB2R,EAAOhX,IACF4W,gBAAkBA,EAE1B9B,EAAOsC,MAAMpX,EAAQ2D,SAAUA,EAAU,qBACzCgR,EAAM,UAAW3U,GACV,IAAI4V,EAAoB5V,EAAS6S,EAC1C,EAW6BwE,cAAc,EAAMhgB,YAAY,EAAMigB,UAAU,GAC3EhgB,IAAK,CAAEzB,MATT,SAAamhB,EAAOhX,EAAS6S,GAC3B,IAAI0E,EAAiBT,EAAgBxa,QAAQ0a,EAAOhX,EAAS6S,GAE7D,OADA0E,EAAejQ,MACRiQ,CACT,EAKqBF,cAAc,EAAMhgB,YAAY,EAAMigB,UAAU,IAEvE,IACO1hB,CACT,CAGA,SAAS4hB,IAAqB,CAG9B,SAASN,EAAaO,GACpB,IAAIzX,EAAU,CACZ2D,SAAU8T,EAAU9T,SACpBvB,SAAUqV,EAAUrV,SAASsV,WAAW,KAEtCD,EAAUrV,SAASnF,MAAM,GAAI,GAC7Bwa,EAAUrV,SACZ7J,KAAMkf,EAAUlf,KAChBga,OAAQkF,EAAUlF,OAClBlV,SAAUoa,EAAUpa,SACpBD,KAAMqa,EAAUpa,SAAWoa,EAAUlF,OACrC5P,KAAM8U,EAAU9U,MAKlB,MAHuB,KAAnB8U,EAAUnV,OACZtC,EAAQsC,KAAOqV,OAAOF,EAAUnV,OAE3BtC,CACT,CAEA,SAAS4X,EAAsBC,EAAOlb,GACpC,IAAImb,EACJ,IAAK,IAAI/hB,KAAU4G,EACbkb,EAAM3W,KAAKnL,KACb+hB,EAAYnb,EAAQ5G,UACb4G,EAAQ5G,IAGnB,OAAO,MAAC+hB,OACNtb,EAAYub,OAAOD,GAAWrd,MAClC,CAEA,SAAS+a,EAAgB9O,EAAMsR,GAC7B,SAASC,EAAYC,GACnB3K,MAAM4K,kBAAkBnc,KAAMA,KAAKH,aAC9Bqc,GAIHlc,KAAK6O,QAAUmN,EAAiB,KAAOE,EAAMrN,QAC7C7O,KAAKkc,MAAQA,GAJblc,KAAK6O,QAAUmN,CAMnB,CAKA,OAJAC,EAAY/Z,UAAY,IAAIqP,MAC5B0K,EAAY/Z,UAAUrC,YAAcoc,EACpCA,EAAY/Z,UAAUhD,KAAO,UAAYwL,EAAO,IAChDuR,EAAY/Z,UAAUwI,KAAOA,EACtBuR,CACT,CAEA,SAASG,EAAa9b,GACpB,IAAK,IAAI6T,EAAI,EAAGA,EAAI4E,EAAOne,OAAQuZ,IACjC7T,EAAQ+b,eAAetD,EAAO5E,GAAI6E,EAAcD,EAAO5E,KAEzD7T,EAAQ6J,GAAG,QAASqR,GACpBlb,EAAQyK,OACV,CAtfA6O,EAAoB1X,UAAYxI,OAAOyU,OAAO0K,EAAS3W,WAEvD0X,EAAoB1X,UAAU6I,MAAQ,WACpCqR,EAAapc,KAAKsc,iBAClBtc,KAAKsZ,KAAK,QACZ,EAGAM,EAAoB1X,UAAU+S,MAAQ,SAAUxa,EAAM8hB,EAAU1F,GAE9D,GAAI7W,KAAKia,QACP,MAAM,IAAIN,EAIZ,KAAsB,iBAATlf,GAAqC,iBAATA,GAAsB,WAAYA,GACzE,MAAM,IAAI4H,UAAU,iDAEE,mBAAbka,IACT1F,EAAW0F,EACXA,EAAW,MAKO,IAAhB9hB,EAAKG,OAOLoF,KAAKoa,mBAAqB3f,EAAKG,QAAUoF,KAAK+Z,SAAS1Q,eACzDrJ,KAAKoa,oBAAsB3f,EAAKG,OAChCoF,KAAKqa,oBAAoBpX,KAAK,CAAExI,KAAMA,EAAM8hB,SAAUA,IACtDvc,KAAKsc,gBAAgBrH,MAAMxa,EAAM8hB,EAAU1F,KAI3C7W,KAAKsZ,KAAK,QAAS,IAAII,GACvB1Z,KAAK+K,SAdD8L,GACFA,GAeN,EAGA+C,EAAoB1X,UAAUoJ,IAAM,SAAU7Q,EAAM8hB,EAAU1F,GAY5D,GAVoB,mBAATpc,GACToc,EAAWpc,EACXA,EAAO8hB,EAAW,MAES,mBAAbA,IACd1F,EAAW0F,EACXA,EAAW,MAIR9hB,EAIA,CACH,IAAI6f,EAAOta,KACPwc,EAAiBxc,KAAKsc,gBAC1Btc,KAAKiV,MAAMxa,EAAM8hB,GAAU,WACzBjC,EAAKN,QAAS,EACdwC,EAAelR,IAAI,KAAM,KAAMuL,EACjC,IACA7W,KAAKia,SAAU,CACjB,MAXEja,KAAKga,OAASha,KAAKia,SAAU,EAC7Bja,KAAKsc,gBAAgBhR,IAAI,KAAM,KAAMuL,EAWzC,EAGA+C,EAAoB1X,UAAUua,UAAY,SAAUvd,EAAMrF,GACxDmG,KAAK+Z,SAASpZ,QAAQzB,GAAQrF,EAC9BmG,KAAKsc,gBAAgBG,UAAUvd,EAAMrF,EACvC,EAGA+f,EAAoB1X,UAAUwa,aAAe,SAAUxd,UAC9Cc,KAAK+Z,SAASpZ,QAAQzB,GAC7Bc,KAAKsc,gBAAgBI,aAAaxd,EACpC,EAGA0a,EAAoB1X,UAAU4I,WAAa,SAAU6R,EAAO9F,GAC1D,IAAIyD,EAAOta,KAGX,SAAS4c,EAAiBC,GACxBA,EAAO/R,WAAW6R,GAClBE,EAAOR,eAAe,UAAWQ,EAAOvS,SACxCuS,EAAOC,YAAY,UAAWD,EAAOvS,QACvC,CAGA,SAASyS,EAAWF,GACdvC,EAAK0C,UACPC,aAAa3C,EAAK0C,UAEpB1C,EAAK0C,SAAWlS,YAAW,WACzBwP,EAAKhB,KAAK,WACV4D,GACF,GAAGP,GACHC,EAAiBC,EACnB,CAGA,SAASK,IAEH5C,EAAK0C,WACPC,aAAa3C,EAAK0C,UAClB1C,EAAK0C,SAAW,MAIlB1C,EAAK+B,eAAe,QAASa,GAC7B5C,EAAK+B,eAAe,QAASa,GAC7B5C,EAAK+B,eAAe,WAAYa,GAC5BrG,GACFyD,EAAK+B,eAAe,UAAWxF,GAE5ByD,EAAKuC,QACRvC,EAAKgC,gBAAgBD,eAAe,SAAUU,EAElD,CAqBA,OAlBIlG,GACF7W,KAAKmK,GAAG,UAAW0M,GAIjB7W,KAAK6c,OACPE,EAAW/c,KAAK6c,QAGhB7c,KAAKsc,gBAAgBa,KAAK,SAAUJ,GAItC/c,KAAKmK,GAAG,SAAUyS,GAClB5c,KAAKmK,GAAG,QAAS+S,GACjBld,KAAKmK,GAAG,QAAS+S,GACjBld,KAAKmK,GAAG,WAAY+S,GAEbld,IACT,EAGA,CACE,eAAgB,YAChB,aAAc,sBACdT,SAAQ,SAAUxB,GAClB6b,EAAoB1X,UAAUnE,GAAU,SAAUwa,EAAGC,GACnD,OAAOxY,KAAKsc,gBAAgBve,GAAQwa,EAAGC,EACzC,CACF,IAGA,CAAC,UAAW,aAAc,UAAUjZ,SAAQ,SAAU6d,GACpD1jB,OAAOC,eAAeigB,EAAoB1X,UAAWkb,EAAU,CAC7D9hB,IAAK,WAAc,OAAO0E,KAAKsc,gBAAgBc,EAAW,GAE9D,IAEAxD,EAAoB1X,UAAU4X,iBAAmB,SAAU9V,GAkBzD,GAhBKA,EAAQrD,UACXqD,EAAQrD,QAAU,CAAC,GAMjBqD,EAAQqC,OAELrC,EAAQoC,WACXpC,EAAQoC,SAAWpC,EAAQqC,aAEtBrC,EAAQqC,OAIZrC,EAAQ3C,UAAY2C,EAAQ5C,KAAM,CACrC,IAAIic,EAAYrZ,EAAQ5C,KAAK9G,QAAQ,KACjC+iB,EAAY,EACdrZ,EAAQ3C,SAAW2C,EAAQ5C,MAG3B4C,EAAQ3C,SAAW2C,EAAQ5C,KAAKkc,UAAU,EAAGD,GAC7CrZ,EAAQuS,OAASvS,EAAQ5C,KAAKkc,UAAUD,GAE5C,CACF,EAIAzD,EAAoB1X,UAAUuY,gBAAkB,WAE9C,IAAI9S,EAAW3H,KAAK+Z,SAASpS,SACzBkT,EAAiB7a,KAAK+Z,SAASa,gBAAgBjT,GACnD,GAAKkT,EAAL,CAOA,GAAI7a,KAAK+Z,SAAS3R,OAAQ,CACxB,IAAIlE,EAASyD,EAAShN,OAAO,EAAGgN,EAAS/M,OAAS,GAClDoF,KAAK+Z,SAAShS,MAAQ/H,KAAK+Z,SAAS3R,OAAOlE,EAC7C,CAGA,IAAI5D,EAAUN,KAAKsc,gBACbzB,EAAeva,QAAQN,KAAK+Z,SAAU/Z,KAAKua,mBACjDva,KAAKud,YAAc9d,EAAI+d,OAAOxd,KAAK+Z,UAGnCzZ,EAAQ+Y,cAAgBrZ,KACxB,IAAK,IAAImU,EAAI,EAAGA,EAAI4E,EAAOne,OAAQuZ,IACjC7T,EAAQ6J,GAAG4O,EAAO5E,GAAI6E,EAAcD,EAAO5E,KAK7C,GAAInU,KAAKyd,YAAa,CAEpB,IAAI7b,EAAI,EACJ0Y,EAAOta,KACP0d,EAAU1d,KAAKqa,qBAClB,SAASsD,EAAU1gB,GAGlB,GAAIqD,IAAYga,EAAKgC,gBAGnB,GAAIrf,EACFqd,EAAKhB,KAAK,QAASrc,QAGhB,GAAI2E,EAAI8b,EAAQ9iB,OAAQ,CAC3B,IAAIgZ,EAAS8J,EAAQ9b,KAEhBtB,EAAQsd,UACXtd,EAAQ2U,MAAMrB,EAAOnZ,KAAMmZ,EAAO2I,SAAUoB,EAEhD,MAESrD,EAAKN,QACZ1Z,EAAQgL,KAGd,CAtBA,EAuBF,CAlDA,MAFEtL,KAAKsZ,KAAK,QAAS,IAAIjX,UAAU,wBAA0BsF,GAqD/D,EAGAiS,EAAoB1X,UAAUsY,iBAAmB,SAAU/Z,GAEzD,IAAIiJ,EAAajJ,EAASiJ,WACtB1J,KAAK+Z,SAAS8D,gBAChB7d,KAAKma,WAAWlX,KAAK,CACnBxD,IAAKO,KAAKud,YACV5c,QAASF,EAASE,QAClB+I,WAAYA,IAYhB,IAAIvD,EAAW1F,EAASE,QAAQwF,SAChC,IAAKA,IAA8C,IAAlCnG,KAAK+Z,SAAS+D,iBAC3BpU,EAAa,KAAOA,GAAc,IAOpC,OANAjJ,EAASsd,YAAc/d,KAAKud,YAC5B9c,EAASud,UAAYhe,KAAKma,WAC1Bna,KAAKsZ,KAAK,WAAY7Y,QAGtBT,KAAKqa,oBAAsB,IAW7B,GANA+B,EAAapc,KAAKsc,iBAElB7b,EAAS6J,YAIHtK,KAAKka,eAAiBla,KAAK+Z,SAAS3Q,aACxCpJ,KAAKsZ,KAAK,QAAS,IAAIG,OADzB,GASoB,MAAf/P,GAAqC,MAAfA,IAAgD,SAAzB1J,KAAK+Z,SAAShc,QAK5C,MAAf2L,IAAwB,iBAAiBxE,KAAKlF,KAAK+Z,SAAShc,WAC/DiC,KAAK+Z,SAAShc,OAAS,MAEvBiC,KAAKqa,oBAAsB,GAC3BuB,EAAsB,aAAc5b,KAAK+Z,SAASpZ,UAIpD,IASIsd,EATAC,EAAoBtC,EAAsB,UAAW5b,KAAK+Z,SAASpZ,SAGnEwd,EAAkB1e,EAAIsB,MAAMf,KAAKud,aACjCa,EAAcF,GAAqBC,EAAgB9X,KACnDgY,EAAa,QAAQnZ,KAAKiB,GAAYnG,KAAKud,YAC7C9d,EAAI+d,OAAO9jB,OAAOyhB,OAAOgD,EAAiB,CAAE9X,KAAM+X,KAIpD,IACEH,EAAcxe,EAAIuH,QAAQqX,EAAYlY,EAKxC,CAHA,MAAO+V,GAEL,YADAlc,KAAKsZ,KAAK,QAAS,IAAIC,EAAiB2C,GAE1C,CAGAvD,EAAM,iBAAkBsF,GACxBje,KAAKyd,aAAc,EACnB,IAAIa,EAAmB7e,EAAIsB,MAAMkd,GAajC,GAZAvkB,OAAOyhB,OAAOnb,KAAK+Z,SAAUuE,IAIzBA,EAAiB3W,WAAawW,EAAgBxW,UACjB,WAA9B2W,EAAiB3W,UACjB2W,EAAiBjY,OAAS+X,IA6J/B,SAAqBG,EAAWpJ,GAC9B,MAAMqJ,EAAMD,EAAU3jB,OAASua,EAAOva,OAAS,EAC/C,OAAO4jB,EAAM,GAAwB,MAAnBD,EAAUC,IAAgBD,EAAUE,SAAStJ,EACjE,CA/JMuJ,CAAYJ,EAAiBjY,KAAM+X,KACrCxC,EAAsB,8BAA+B5b,KAAK+Z,SAASpZ,SAIzB,mBAAjCX,KAAK+Z,SAAStT,eAA+B,CACtD,IAAIkY,EAAkB,CAAEhe,QAASF,EAASE,SAC1C,IACEX,KAAK+Z,SAAStT,eAAetE,KAAK,KAAMnC,KAAK+Z,SAAU4E,EAKzD,CAHA,MAAOzb,GAEL,YADAlD,KAAKsZ,KAAK,QAASpW,EAErB,CACAlD,KAAK8Z,iBAAiB9Z,KAAK+Z,SAC7B,CAGA,IACE/Z,KAAKya,iBAIP,CAFA,MAAOyB,GACLlc,KAAKsZ,KAAK,QAAS,IAAIC,EAAiB2C,GAC1C,CAvEA,CAwEF,EA0IA/W,EAAOvL,QAAU8gB,EAAK,CAAElV,KAAMA,EAAMC,MAAOA,IAC3CN,EAAOvL,QAAQ8gB,KAAOA,C,8BC5jBtBhhB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM2F,EAAS,EAAQ,MACjBC,EAAM,EAAQ,MACdC,EAAQ,EAAQ,MAChBC,EAAa,EAAQ,MAG3B,SAASC,EAAU/F,GACf,OAAIA,EAAMgG,cAAgBC,MACfjG,EAAM,GACVA,CACX,CAwDAD,EAAA,QAvDA,MACIiG,aAAcH,MAAOK,EAAS,SAAE1D,EAAQ,SAAED,IACtC4D,KAAKN,MAAQK,GAAwBL,EAAM5E,QAC3CkF,KAAKC,MAAQ,EACbD,KAAK3D,SAAWA,EAChB2D,KAAK5D,SAAWA,CACpB,CACA8D,cAAcC,GACV,IAAIC,EAAIC,EACR,IACI,aAAaL,KAAKN,MAAMY,QAAQH,EA0CpC,CAxCA,MAAOI,GACH,QAAuBC,IAAnBD,EAAME,UACuB,MAA1BF,EAAME,SAASC,UACyC,QAArDN,EAAKG,EAAME,SAASE,QAAQ,2BAAwC,IAAPP,OAAgB,EAASA,EAAGQ,SAAS,UACxG,MAAML,EAGV,MAAMM,EAAkBN,EAAME,SAASE,QAAQ,oBACzCG,EAAsBnB,EAAWoB,MAAMF,KAC3Cb,KAAKC,MACP,MAAMe,GAAc,WAAahB,KAAKC,OAAOgB,OAAO,GAC9C9C,EAASqB,EAAO0B,YAAY,IAAIvE,SAAS,OAEzCkB,EAAQ+B,EAAUkB,EAAoBK,OAAc,OAEpDlD,EAAQ2B,EAAUkB,EAAoBK,OAAc,OACpDvD,EAAM4B,EAAO/B,WAAW,OAAOC,OAAO,GAAGsC,KAAK5D,YAAYyB,KAASmC,KAAK3D,YAAYsB,OAAO,OAC3FyD,EAAO3B,EAAIsB,MAAMZ,EAAKV,KAAK4B,SAC3BvD,EAAM0B,EAAO/B,WAAW,OAAOC,OAAO,GAA0B,QAAtB2C,EAAKF,EAAKpC,cAA2B,IAAPsC,EAAgBA,EAAK,SAASe,KAAQzD,OAAO,OACrH8C,EAAWjB,EAAO/B,WAAW,OAAOC,OAAO,GAAGE,KAAOK,KAAS+C,KAAc7C,UAAeL,KAAOH,OAAO,OACzGwD,EAAS,CACX/E,SAAU4D,KAAK5D,SACfyB,QACAI,QACAD,IAAKoD,GAAQ,GACbhD,IAAK,OACLd,UAAW,MACXmD,WACAvC,GAAI8C,EACJ7C,UAGEmD,EAAgB,UADD5H,OAAO6H,QAAQJ,GAAQvC,KAAI,EAAEU,EAAKzF,MAAW,SAAGyF,KAAOzF,IAjDzE0D,EAiDwF1D,EAjDhF,IAAI0D,EAAI6B,QAAQ,KAAM,aAA/B,IAAC7B,CAiDgG,IAAET,KAAK,QAQ1G,OANIqD,EAAKQ,QACLR,EAAKQ,QAAuB,cAAIW,EAGhCnB,EAAKQ,QAAU,CAAEW,iBAEdtB,KAAKN,MAAMY,QAAQH,EAC9B,CACJ,E,8BChEJzG,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAA,aAAkB,EAElB,IAAI4H,EAAQ,EAAQ,MAEpB,SAASC,EAAmBC,GAAO,OAMnC,SAA4BA,GAAO,GAAI5B,MAAM6B,QAAQD,GAAM,CAAE,IAAK,IAAIE,EAAI,EAAGC,EAAO,IAAI/B,MAAM4B,EAAI9G,QAASgH,EAAIF,EAAI9G,OAAQgH,IAAOC,EAAKD,GAAKF,EAAIE,GAAM,OAAOC,CAAM,CAAE,CAN3HC,CAAmBJ,IAI7D,SAA0BK,GAAQ,GAAIC,OAAOC,YAAYvI,OAAOqI,IAAkD,uBAAzCrI,OAAOwI,UAAUvF,SAASwF,KAAKJ,GAAgC,OAAOjC,MAAMpD,KAAKqF,EAAO,CAJ5FK,CAAiBV,IAEtF,WAAgC,MAAM,IAAIW,UAAU,kDAAoD,CAFVC,EAAsB,CAQpH,SAASC,EAAeb,EAAKE,GAAK,OAMlC,SAAyBF,GAAO,GAAI5B,MAAM6B,QAAQD,GAAM,OAAOA,CAAK,CAN3Bc,CAAgBd,IAIzD,SAA+BA,EAAKE,GAAK,IAAIa,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKpC,EAAW,IAAM,IAAK,IAAiCqC,EAA7BC,EAAKpB,EAAIM,OAAOC,cAAmBS,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKQ,KAAKJ,EAAGhJ,QAAY+H,GAAKa,EAAK7H,SAAWgH,GAA3Dc,GAAK,GAA0M,CAAtI,MAAOQ,GAAOP,GAAK,EAAMC,EAAKM,CAAK,CAAE,QAAU,IAAWR,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,QAAmC,CAA5B,QAAU,GAAIH,EAAI,MAAMC,CAAI,CAAE,CAAE,OAAOH,CAAM,CAJvVU,CAAsBzB,EAAKE,IAE5F,WAA8B,MAAM,IAAIS,UAAU,uDAAyD,CAFTe,EAAoB,CAQtH,IAMIC,EAAQ,SAAelC,GACzB,OAAOA,EAAOnC,QAAO,SAAUsE,EAAMC,GACnC,IAAIC,EAAQjB,EAAegB,EAAM,GAC7BjE,EAAMkE,EAAM,GACZC,EAASD,EAAM,GAEfE,EAZE,SAAapE,GACrB,OAAO,SAAUzF,GACf,MAAO,GAAGyF,KAAOzF,KAAU,EAAI2H,EAAMmC,SAAS9J,IAAS,EAAI2H,EAAMoC,OAAO/J,GAASA,GACnF,CACF,CAQoBgK,CAAIvE,GAEpB,KAAK,EAAIkC,EAAMmC,SAASrE,GACtB,MAAM,IAAI+C,UAGZ,OAAIvC,MAAM6B,QAAQ8B,GACThC,EAAmB6B,GAAMQ,OAAOrC,EAAmBgC,EAAO7E,IAAI8E,KAGhEjC,EAAmB6B,GAAMQ,OAAO,CAACJ,EAAUD,IACpD,GAAG,GACL,EAEIM,EAAY,SAASA,EAAU5C,EAAQ6C,GACzC,GAAIlE,MAAM6B,QAAQR,GAChB,OAAOkC,EAAMlC,GACR,GAAsB,iBAAXA,EAAqB,CACrC,IAAII,EAAUJ,EACd,OAAO4C,EAAUrK,OAAOuK,KAAK9C,GAAQvC,KAAI,SAAUU,GACjD,MAAO,CAACA,EAAKiC,EAAQjC,GACvB,IAAI0E,EACN,CAEA,MAAM,IAAI3B,SACZ,EAkBAzI,EAAA,QAhBe,SAAkBsK,EAAQC,EAAOhD,GAC9C,IAAIxF,EAAwB,iBAAXuI,EAAsB,CACrCA,SACAC,QACAhD,UACE+C,EAEJ,GAAmB,iBAARvI,EACT,MAAM,IAAI0G,UACL,KAAK,EAAIb,EAAM4C,UAAUzI,EAAIuI,QAClC,MAAM,IAAI7B,UAAU,mBAGtB,MAAO,CAAC1G,EAAIuI,QAAQJ,OAAOrC,OAAwC,IAAd9F,EAAIwI,MAAwB,CAACxI,EAAIwI,OAAS,IAAK1C,OAAyC,IAAf9F,EAAIwF,OAAyB4C,EAAUpI,EAAIwF,QAAU,KAAKrE,KAAK,IAC/L,C,8BC5EApD,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,SAAU,CACvCyB,YAAY,EACZC,IAAK,WACH,OAAO+I,EAAQvJ,OACjB,IAEFpB,OAAOC,eAAeC,EAAS,QAAS,CACtCyB,YAAY,EACZC,IAAK,WACH,OAAOgJ,EAAOxJ,OAChB,IAGF,IAAIuJ,EAAU3I,EAAuB,EAAQ,OAEzC4I,EAAS5I,EAAuB,EAAQ,OAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEb,QAASa,EAAO,C,8BCpB9FjC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAA,aAAkB,EAElB,IAAI4H,EAAQ,EAAQ,MAGhB+C,EAAO,qIAEPC,EAAY,SAAmBlB,EAAMmB,GAEvC,IAAIC,EAAyB,MAAnBD,EAAKE,OAAO,IAAa,EAAInD,EAAMoD,SAASH,GAAQA,EAAKhG,OAEnE,OAAIqB,MAAM6B,QAAQ2B,GACTA,EAAKQ,OAAOY,GACM,iBAATpB,EACT,CAACA,EAAMoB,GAGTA,CACT,EA0CA9K,EAAA,QAfe,SAAkB2D,GAC/B,GAAmB,iBAARA,EACT,MAAM,IAAI8E,UAAU,kCAGtB,IAAIwC,EAAQtH,EAAIjD,QAAQ,KACpB4J,EAAS3G,EAAI5C,OAAO,EAAGkK,GAE3B,KAAK,EAAIrD,EAAM4C,UAAUF,GACvB,MAAM,IAAI7B,UAAU,kBAAkB6B,KAGxC,OArCoB,SAAyBA,EAAQY,GAIrD,IAHA,IAAIX,EAAQ,KACRhD,EAAS,CAAC,IAED,CACX,IAAI4D,EAAMR,EAAKS,KAAKF,GAEpB,GAAY,OAARC,EACF,MAGEA,EAAI,GACN5D,EAAO4D,EAAI,IAAMP,EAAUrD,EAAO4D,EAAI,IAAKA,EAAI,IAE/CZ,EAAQK,EAAUL,EAAOY,EAAI,GAEjC,CAEA,MAAO,CACLb,SACA/C,SACAgD,QAEJ,CAcSc,CAAgBf,EAAQ3G,EAAI5C,OAAOkK,GAC5C,C,4BC7DAnL,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQgL,QAAUhL,EAAQgK,MAAQhK,EAAQwK,SAAWxK,EAAQ+J,aAAU,EACvE,IAAIQ,EAAQ,4DAERR,EAAU,SAAiBpG,GAC7B,MAAsB,iBAARA,GAAoB4G,EAAMe,KAAK3H,EAC/C,EAEA3D,EAAQ+J,QAAUA,EAClB,IAAIS,EAAWT,EACf/J,EAAQwK,SAAWA,EAMnBxK,EAAQgK,MAJI,SAAerG,GACzB,MAAO,IAAIA,EAAI6B,QAAQ,KAAM,SAC/B,EAQAxF,EAAQgL,QAJM,SAAiBrH,GAC7B,OAAOA,EAAI5C,OAAO,EAAG4C,EAAI3C,OAAS,GAAGwE,QAAQ,OAAQ,IACvD,C,iBCxBA+F,EAAOvL,QAAU,EAAjB,K,8BCEA,IAAIwL,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MACjBC,EAAgB,EAAQ,MACxBC,EAAW,EAAQ,MACnBC,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBC,EAAa,aACbC,EAAc,cACdlG,EAAM,EAAQ,MACdmG,EAAO,EAAQ,MACfC,EAAM,EAAQ,KACdC,EAAc,EAAQ,MACtBC,EAAe,EAAQ,MAEvBC,EAAU,UAQd,SAASC,EAASjC,EAASkC,EAAOC,GAOhC,GANAnC,EAAQoC,SAAWF,EAAMG,KACzBrC,EAAQqC,KAAOH,EAAMG,KACrBrC,EAAQsC,KAAOJ,EAAMI,KACrBtC,EAAQ5C,KAAO+E,EAGXD,EAAMK,KAAM,CACd,IAAIC,EAAS/J,OAAOC,KAAKwJ,EAAMK,KAAKnK,SAAW,IAAM8J,EAAMK,KAAKlK,SAAU,QAAQM,SAAS,UAC3FqH,EAAQrD,QAAQ,uBAAyB,SAAW6F,CACtD,CAGAxC,EAAQyC,eAAiB,SAAwBC,GAC/CA,EAAY/F,QAAQ0F,KAAOK,EAAYL,KACvCJ,EAASS,EAAaR,EAAOQ,EAAYC,KAC3C,CACF,CAGAxB,EAAOvL,QAAU,SAAqBgN,GACpC,OAAO,IAAIC,SAAQ,SAA6BC,EAAgBC,GAC9D,IAAIC,EAAU,SAAiBnN,GAC7BiN,EAAejN,EACjB,EACIoN,EAAS,SAAgBpN,GAC3BkN,EAAclN,EAChB,EACIY,EAAOmM,EAAOnM,KACdkG,EAAUiG,EAAOjG,QAgBrB,GAZI,eAAgBA,GAAW,eAAgBA,EAExCA,EAAQ,eAAkBA,EAAQ,uBAC9BA,EAAQ,qBACRA,EAAQ,eAKjBA,EAAQ,cAAgB,SAAWkF,EAAIqB,QAGrCzM,IAAS2K,EAAM+B,SAAS1M,GAAO,CACjC,GAAIgC,OAAO2K,SAAS3M,SAEb,GAAI2K,EAAMiC,cAAc5M,GAC7BA,EAAOgC,OAAOC,KAAK,IAAI4K,WAAW7M,QAC7B,KAAI2K,EAAMmC,SAAS9M,GAGxB,OAAOwM,EAAOnB,EACZ,oFACAc,IAJFnM,EAAOgC,OAAOC,KAAKjC,EAAM,QAM3B,CAGAkG,EAAQ,kBAAoBlG,EAAKG,MACnC,CAGA,IAAI2L,OAAO/F,EACPoG,EAAOL,OAGTA,GAFeK,EAAOL,KAAKnK,UAAY,IAErB,KADHwK,EAAOL,KAAKlK,UAAY,KAKzC,IAAImL,EAAWlC,EAAcsB,EAAOa,QAASb,EAAOnH,KAChDiI,EAASjI,EAAIsB,MAAMyG,GACnBG,EAAWD,EAAOC,UAAY,QAElC,IAAKpB,GAAQmB,EAAOnB,KAAM,CACxB,IAAIqB,EAAUF,EAAOnB,KAAK1J,MAAM,KAGhC0J,GAFkBqB,EAAQ,IAAM,IAEX,KADHA,EAAQ,IAAM,GAElC,CAEIrB,UACK5F,EAAQkH,cAGjB,IAAIC,EAAiB9B,EAAQd,KAAKyC,GAC9BI,EAAQD,EAAiBlB,EAAOoB,WAAapB,EAAOqB,UAEpDjE,EAAU,CACZ5C,KAAMmE,EAASmC,EAAOtG,KAAMwF,EAAOzF,OAAQyF,EAAOsB,kBAAkB9I,QAAQ,MAAO,IACnFrB,OAAQ6I,EAAO7I,OAAOoK,cACtBxH,QAASA,EACToH,MAAOA,EACPK,OAAQ,CAAE5C,KAAMoB,EAAOqB,UAAWxC,MAAOmB,EAAOoB,YAChDzB,KAAMA,GAGJK,EAAOyB,WACTrE,EAAQqE,WAAazB,EAAOyB,YAE5BrE,EAAQoC,SAAWsB,EAAOtB,SAC1BpC,EAAQsC,KAAOoB,EAAOpB,MAGxB,IAqDIgC,EArDApC,EAAQU,EAAOV,MACnB,IAAKA,IAAmB,IAAVA,EAAiB,CAC7B,IAAIqC,EAAWZ,EAAS1G,MAAM,GAAI,GAAK,SACnCuH,EAAWC,QAAQC,IAAIH,IAAaE,QAAQC,IAAIH,EAASJ,eAC7D,GAAIK,EAAU,CACZ,IAAIG,EAAiBlJ,EAAIsB,MAAMyH,GAC3BI,EAAaH,QAAQC,IAAIG,UAAYJ,QAAQC,IAAII,SACjDC,GAAc,EAElB,GAAIH,EAKFG,GAJcH,EAAW/L,MAAM,KAAK+B,KAAI,SAAcoK,GACpD,OAAOA,EAAEvK,MACX,IAEuBrE,MAAK,SAAoB6O,GAC9C,QAAKA,IAGgB,MAAjBA,IAGoB,MAApBA,EAAa,IACbvB,EAAOtB,SAASzL,OAAO+M,EAAOtB,SAASxL,OAASqO,EAAarO,UAAYqO,GAItEvB,EAAOtB,WAAa6C,GAC7B,IAGF,GAAIF,IACF7C,EAAQ,CACNG,KAAMsC,EAAevC,SACrBE,KAAMqC,EAAerC,KACrBqB,SAAUgB,EAAehB,UAGvBgB,EAAepC,MAAM,CACvB,IAAI2C,EAAeP,EAAepC,KAAK1J,MAAM,KAC7CqJ,EAAMK,KAAO,CACXnK,SAAU8M,EAAa,GACvB7M,SAAU6M,EAAa,GAE3B,CAEJ,CACF,CAEIhD,IACFlC,EAAQrD,QAAQ0F,KAAOqB,EAAOtB,UAAYsB,EAAOpB,KAAO,IAAMoB,EAAOpB,KAAO,IAC5EL,EAASjC,EAASkC,EAAOyB,EAAW,KAAOD,EAAOtB,UAAYsB,EAAOpB,KAAO,IAAMoB,EAAOpB,KAAO,IAAMtC,EAAQ5C,OAIhH,IAAI+H,EAAerB,KAAmB5B,GAAQF,EAAQd,KAAKgB,EAAMyB,WAC7Df,EAAO0B,UACTA,EAAY1B,EAAO0B,UACc,IAAxB1B,EAAOwC,aAChBd,EAAYa,EAAe1D,EAAQD,GAE/BoB,EAAOwC,eACTpF,EAAQoF,aAAexC,EAAOwC,cAEhCd,EAAYa,EAAexD,EAAcD,GAGvCkB,EAAOyC,eAAiB,IAC1BrF,EAAQqF,cAAgBzC,EAAOyC,eAIjC,IAAIC,EAAMhB,EAAUhI,QAAQ0D,GAAS,SAAwBe,GAC3D,IAAIuE,EAAIC,QAAR,CAGA,IAAIC,EAASzE,EAGT0E,EAAc1E,EAAIuE,KAAOA,EAI7B,GAAuB,MAAnBvE,EAAI2E,YAA6C,SAAvBD,EAAY1L,SAA2C,IAAtB6I,EAAO+C,WACpE,OAAQ5E,EAAIpE,QAAQ,qBAEpB,IAAK,OACL,IAAK,WACL,IAAK,UAEH6I,EAASA,EAAOI,KAAKhE,EAAKiE,sBAGnB9E,EAAIpE,QAAQ,oBAKvB,IAAIF,EAAW,CACbC,OAAQqE,EAAI2E,WACZI,WAAY/E,EAAIgF,cAChBpJ,QAASoE,EAAIpE,QACbiG,OAAQA,EACRtG,QAASmJ,GAGX,GAA4B,WAAxB7C,EAAOoD,aACTvJ,EAAShG,KAAO+O,EAChBnE,EAAO2B,EAASC,EAAQxG,OACnB,CACL,IAAIwJ,EAAiB,GACjBC,EAAqB,EACzBV,EAAOW,GAAG,QAAQ,SAA0BC,GAC1CH,EAAehH,KAAKmH,GACpBF,GAAsBE,EAAMxP,OAGxBgM,EAAOyD,kBAAoB,GAAKH,EAAqBtD,EAAOyD,mBAC9Db,EAAOc,UACPrD,EAAOnB,EAAY,4BAA8Bc,EAAOyD,iBAAmB,YACzEzD,EAAQ,KAAM6C,IAEpB,IAEAD,EAAOW,GAAG,SAAS,SAA2BjH,GACxCoG,EAAIC,SACRtC,EAAOlB,EAAa7C,EAAK0D,EAAQ,KAAM6C,GACzC,IAEAD,EAAOW,GAAG,OAAO,WACf,IAAII,EAAe9N,OAAOqH,OAAOmG,GACL,gBAAxBrD,EAAOoD,eACTO,EAAeA,EAAa5N,SAASiK,EAAO4D,kBACvC5D,EAAO4D,kBAAgD,SAA5B5D,EAAO4D,mBACrCD,EAAenF,EAAMqF,SAASF,KAIlC9J,EAAShG,KAAO8P,EAChBlF,EAAO2B,EAASC,EAAQxG,EAC1B,GACF,CApEuB,CAqEzB,IASA,GANA6I,EAAIa,GAAG,SAAS,SAA4BjH,GACtCoG,EAAIC,SAAwB,8BAAbrG,EAAIwH,MACvBzD,EAAOlB,EAAa7C,EAAK0D,EAAQ,KAAM0C,GACzC,IAGI1C,EAAO+D,QAAS,CAElB,IAAIA,EAAUC,SAAShE,EAAO+D,QAAS,IAEvC,GAAIE,MAAMF,GAQR,YAPA1D,EAAOnB,EACL,gDACAc,EACA,oBACA0C,IAWJA,EAAIwB,WAAWH,GAAS,WACtBrB,EAAIyB,QACJ9D,EAAOnB,EACL,cAAgB6E,EAAU,cAC1B/D,EACAA,EAAOoE,cAAgBpE,EAAOoE,aAAaC,oBAAsB,YAAc,eAC/E3B,GAEJ,GACF,CAEI1C,EAAOsE,aAETtE,EAAOsE,YAAYC,QAAQC,MAAK,SAAoBC,GAC9C/B,EAAIC,UAERD,EAAIyB,QACJ9D,EAAOoE,GACT,IAIEjG,EAAM+B,SAAS1M,GACjBA,EAAK0P,GAAG,SAAS,SAA2BjH,GAC1C+D,EAAOlB,EAAa7C,EAAK0D,EAAQ,KAAM0C,GACzC,IAAGM,KAAKN,GAERA,EAAIgC,IAAI7Q,EAEZ,GACF,C,6BCxUA,IAAI2K,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MACjBkG,EAAU,EAAQ,MAClBhG,EAAW,EAAQ,MACnBD,EAAgB,EAAQ,MACxBkG,EAAe,EAAQ,MACvBC,EAAkB,EAAQ,MAC1B3F,EAAc,EAAQ,MAE1BX,EAAOvL,QAAU,SAAoBgN,GACnC,OAAO,IAAIC,SAAQ,SAA4BG,EAASC,GACtD,IAAIyE,EAAc9E,EAAOnM,KACrBkR,EAAiB/E,EAAOjG,QACxBqJ,EAAepD,EAAOoD,aAEtB5E,EAAMwG,WAAWF,WACZC,EAAe,gBAGxB,IAAIrL,EAAU,IAAIuL,eAGlB,GAAIjF,EAAOL,KAAM,CACf,IAAInK,EAAWwK,EAAOL,KAAKnK,UAAY,GACnCC,EAAWuK,EAAOL,KAAKlK,SAAWyP,SAASC,mBAAmBnF,EAAOL,KAAKlK,WAAa,GAC3FsP,EAAe9D,cAAgB,SAAWmE,KAAK5P,EAAW,IAAMC,EAClE,CAEA,IAAImL,EAAWlC,EAAcsB,EAAOa,QAASb,EAAOnH,KAMpD,SAASwM,IACP,GAAK3L,EAAL,CAIA,IAAI4L,EAAkB,0BAA2B5L,EAAUkL,EAAalL,EAAQ6L,yBAA2B,KAGvG1L,EAAW,CACbhG,KAHkBuP,GAAiC,SAAjBA,GAA6C,SAAjBA,EACvC1J,EAAQG,SAA/BH,EAAQ8L,aAGR1L,OAAQJ,EAAQI,OAChBoJ,WAAYxJ,EAAQwJ,WACpBnJ,QAASuL,EACTtF,OAAQA,EACRtG,QAASA,GAGX+E,EAAO2B,EAASC,EAAQxG,GAGxBH,EAAU,IAjBV,CAkBF,CAkEA,GA5FAA,EAAQ+L,KAAKzF,EAAO7I,OAAOoK,cAAe5C,EAASiC,EAAUZ,EAAOzF,OAAQyF,EAAOsB,mBAAmB,GAGtG5H,EAAQqK,QAAU/D,EAAO+D,QAyBrB,cAAerK,EAEjBA,EAAQ2L,UAAYA,EAGpB3L,EAAQgM,mBAAqB,WACtBhM,GAAkC,IAAvBA,EAAQiM,aAQD,IAAnBjM,EAAQI,QAAkBJ,EAAQkM,aAAwD,IAAzClM,EAAQkM,YAAYlS,QAAQ,WAKjFwQ,WAAWmB,EACb,EAIF3L,EAAQmM,QAAU,WACXnM,IAIL2G,EAAOnB,EAAY,kBAAmBc,EAAQ,eAAgBtG,IAG9DA,EAAU,KACZ,EAGAA,EAAQoM,QAAU,WAGhBzF,EAAOnB,EAAY,gBAAiBc,EAAQ,KAAMtG,IAGlDA,EAAU,IACZ,EAGAA,EAAQqM,UAAY,WAClB,IAAIC,EAAsB,cAAgBhG,EAAO+D,QAAU,cACvD/D,EAAOgG,sBACTA,EAAsBhG,EAAOgG,qBAE/B3F,EAAOnB,EACL8G,EACAhG,EACAA,EAAOoE,cAAgBpE,EAAOoE,aAAaC,oBAAsB,YAAc,eAC/E3K,IAGFA,EAAU,IACZ,EAKI8E,EAAMyH,uBAAwB,CAEhC,IAAIC,GAAalG,EAAOmG,iBAAmBtB,EAAgBjE,KAAcZ,EAAOoG,eAC9EzB,EAAQ0B,KAAKrG,EAAOoG,qBACpBxM,EAEEsM,IACFnB,EAAe/E,EAAOsG,gBAAkBJ,EAE5C,CAGI,qBAAsBxM,GACxB8E,EAAM7F,QAAQoM,GAAgB,SAA0BwB,EAAK7N,QAChC,IAAhBoM,GAAqD,iBAAtBpM,EAAI9E,qBAErCmR,EAAerM,GAGtBgB,EAAQ8M,iBAAiB9N,EAAK6N,EAElC,IAIG/H,EAAMiI,YAAYzG,EAAOmG,mBAC5BzM,EAAQyM,kBAAoBnG,EAAOmG,iBAIjC/C,GAAiC,SAAjBA,IAClB1J,EAAQ0J,aAAepD,EAAOoD,cAIS,mBAA9BpD,EAAO0G,oBAChBhN,EAAQiN,iBAAiB,WAAY3G,EAAO0G,oBAIP,mBAA5B1G,EAAO4G,kBAAmClN,EAAQmN,QAC3DnN,EAAQmN,OAAOF,iBAAiB,WAAY3G,EAAO4G,kBAGjD5G,EAAOsE,aAETtE,EAAOsE,YAAYC,QAAQC,MAAK,SAAoBC,GAC7C/K,IAILA,EAAQyK,QACR9D,EAAOoE,GAEP/K,EAAU,KACZ,IAGGoL,IACHA,EAAc,MAIhBpL,EAAQoN,KAAKhC,EACf,GACF,C,8BC1LA,IAAItG,EAAQ,EAAQ,MAChBuI,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBC,EAAc,EAAQ,KAS1B,SAASC,EAAeC,GACtB,IAAIC,EAAU,IAAIJ,EAAMG,GACpBE,EAAWN,EAAKC,EAAM1L,UAAU5B,QAAS0N,GAQ7C,OALA5I,EAAM8I,OAAOD,EAAUL,EAAM1L,UAAW8L,GAGxC5I,EAAM8I,OAAOD,EAAUD,GAEhBC,CACT,CAGA,IAAIvO,EAAQoO,EAtBG,EAAQ,OAyBvBpO,EAAMkO,MAAQA,EAGdlO,EAAMyO,OAAS,SAAgBC,GAC7B,OAAON,EAAeD,EAAYnO,EAAM2O,SAAUD,GACpD,EAGA1O,EAAM4O,OAAS,EAAQ,KACvB5O,EAAM6O,YAAc,EAAQ,MAC5B7O,EAAM8O,SAAW,EAAQ,MAGzB9O,EAAM+O,IAAM,SAAaC,GACvB,OAAO7H,QAAQ4H,IAAIC,EACrB,EACAhP,EAAMiP,OAAS,EAAQ,MAGvBjP,EAAMkP,aAAe,EAAQ,MAE7BzJ,EAAOvL,QAAU8F,EAGjByF,EAAOvL,QAAP,QAAyB8F,C,uBC/CzB,SAAS4O,EAAOO,GACd7O,KAAK6O,QAAUA,CACjB,CAEAP,EAAOpM,UAAUvF,SAAW,WAC1B,MAAO,UAAYqD,KAAK6O,QAAU,KAAO7O,KAAK6O,QAAU,GAC1D,EAEAP,EAAOpM,UAAU4M,YAAa,EAE9B3J,EAAOvL,QAAU0U,C,8BChBjB,IAAIA,EAAS,EAAQ,KAQrB,SAASC,EAAYQ,GACnB,GAAwB,mBAAbA,EACT,MAAM,IAAI1M,UAAU,gCAGtB,IAAIyE,EACJ9G,KAAKmL,QAAU,IAAItE,SAAQ,SAAyBG,GAClDF,EAAiBE,CACnB,IAEA,IAAI7C,EAAQnE,KACZ+O,GAAS,SAAgBF,GACnB1K,EAAM6K,SAKV7K,EAAM6K,OAAS,IAAIV,EAAOO,GAC1B/H,EAAe3C,EAAM6K,QACvB,GACF,CAKAT,EAAYrM,UAAU+M,iBAAmB,WACvC,GAAIjP,KAAKgP,OACP,MAAMhP,KAAKgP,MAEf,EAMAT,EAAYW,OAAS,WACnB,IAAI7D,EAIJ,MAAO,CACLlH,MAJU,IAAIoK,GAAY,SAAkBY,GAC5C9D,EAAS8D,CACX,IAGE9D,OAAQA,EAEZ,EAEAlG,EAAOvL,QAAU2U,C,wBCtDjBpJ,EAAOvL,QAAU,SAAkBC,GACjC,SAAUA,IAASA,EAAMiV,WAC3B,C,8BCFA,IAAI1J,EAAQ,EAAQ,MAChBG,EAAW,EAAQ,MACnB6J,EAAqB,EAAQ,KAC7BC,EAAkB,EAAQ,MAC1BxB,EAAc,EAAQ,KACtByB,EAAY,EAAQ,MAEpBC,EAAaD,EAAUC,WAM3B,SAAS3B,EAAMQ,GACbpO,KAAKqO,SAAWD,EAChBpO,KAAKwP,aAAe,CAClBlP,QAAS,IAAI8O,EACb3O,SAAU,IAAI2O,EAElB,CAOAxB,EAAM1L,UAAU5B,QAAU,SAAiBsG,GAGnB,iBAAXA,GACTA,EAAS6I,UAAU,IAAM,CAAC,GACnBhQ,IAAMgQ,UAAU,GAEvB7I,EAASA,GAAU,CAAC,GAGtBA,EAASiH,EAAY7N,KAAKqO,SAAUzH,IAGzB7I,OACT6I,EAAO7I,OAAS6I,EAAO7I,OAAOvD,cACrBwF,KAAKqO,SAAStQ,OACvB6I,EAAO7I,OAASiC,KAAKqO,SAAStQ,OAAOvD,cAErCoM,EAAO7I,OAAS,MAGlB,IAAIiN,EAAepE,EAAOoE,kBAELxK,IAAjBwK,GACFsE,EAAUI,cAAc1E,EAAc,CACpC2E,kBAAmBJ,EAAWvE,aAAauE,EAAWK,QAAS,SAC/DC,kBAAmBN,EAAWvE,aAAauE,EAAWK,QAAS,SAC/D3E,oBAAqBsE,EAAWvE,aAAauE,EAAWK,QAAS,WAChE,GAIL,IAAIE,EAA0B,GAC1BC,GAAiC,EACrC/P,KAAKwP,aAAalP,QAAQf,SAAQ,SAAoCyQ,GACjC,mBAAxBA,EAAYC,UAA0D,IAAhCD,EAAYC,QAAQrJ,KAIrEmJ,EAAiCA,GAAkCC,EAAYE,YAE/EJ,EAAwBK,QAAQH,EAAYI,UAAWJ,EAAYK,UACrE,IAEA,IAKIlF,EALAmF,EAA2B,GAO/B,GANAtQ,KAAKwP,aAAa/O,SAASlB,SAAQ,SAAkCyQ,GACnEM,EAAyBrN,KAAK+M,EAAYI,UAAWJ,EAAYK,SACnE,KAIKN,EAAgC,CACnC,IAAIQ,EAAQ,CAAClB,OAAiB7O,GAM9B,IAJAV,MAAMoC,UAAUiO,QAAQK,MAAMD,EAAOT,GACrCS,EAAQA,EAAMzM,OAAOwM,GAErBnF,EAAUtE,QAAQG,QAAQJ,GACnB2J,EAAM3V,QACXuQ,EAAUA,EAAQC,KAAKmF,EAAME,QAASF,EAAME,SAG9C,OAAOtF,CACT,CAIA,IADA,IAAIuF,EAAY9J,EACTkJ,EAAwBlV,QAAQ,CACrC,IAAI+V,EAAcb,EAAwBW,QACtCG,EAAad,EAAwBW,QACzC,IACEC,EAAYC,EAAYD,EAI1B,CAHE,MAAOzT,GACP2T,EAAW3T,GACX,KACF,CACF,CAEA,IACEkO,EAAUkE,EAAgBqB,EAG5B,CAFE,MAAOzT,GACP,OAAO4J,QAAQI,OAAOhK,EACxB,CAEA,KAAOqT,EAAyB1V,QAC9BuQ,EAAUA,EAAQC,KAAKkF,EAAyBG,QAASH,EAAyBG,SAGpF,OAAOtF,CACT,EAEAyC,EAAM1L,UAAU2O,OAAS,SAAgBjK,GAEvC,OADAA,EAASiH,EAAY7N,KAAKqO,SAAUzH,GAC7BrB,EAASqB,EAAOnH,IAAKmH,EAAOzF,OAAQyF,EAAOsB,kBAAkB9I,QAAQ,MAAO,GACrF,EAGAgG,EAAM7F,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6BxB,GAE/E6P,EAAM1L,UAAUnE,GAAU,SAAS0B,EAAKmH,GACtC,OAAO5G,KAAKM,QAAQuN,EAAYjH,GAAU,CAAC,EAAG,CAC5C7I,OAAQA,EACR0B,IAAKA,EACLhF,MAAOmM,GAAU,CAAC,GAAGnM,OAEzB,CACF,IAEA2K,EAAM7F,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BxB,GAErE6P,EAAM1L,UAAUnE,GAAU,SAAS0B,EAAKhF,EAAMmM,GAC5C,OAAO5G,KAAKM,QAAQuN,EAAYjH,GAAU,CAAC,EAAG,CAC5C7I,OAAQA,EACR0B,IAAKA,EACLhF,KAAMA,IAEV,CACF,IAEA0K,EAAOvL,QAAUgU,C,6BCjJjB,IAAIxI,EAAQ,EAAQ,MAEpB,SAASgK,IACPpP,KAAK8Q,SAAW,EAClB,CAUA1B,EAAmBlN,UAAU6O,IAAM,SAAaX,EAAWC,EAAUrM,GAOnE,OANAhE,KAAK8Q,SAAS7N,KAAK,CACjBmN,UAAWA,EACXC,SAAUA,EACVH,cAAalM,GAAUA,EAAQkM,YAC/BD,QAASjM,EAAUA,EAAQiM,QAAU,OAEhCjQ,KAAK8Q,SAASlW,OAAS,CAChC,EAOAwU,EAAmBlN,UAAU8O,MAAQ,SAAeC,GAC9CjR,KAAK8Q,SAASG,KAChBjR,KAAK8Q,SAASG,GAAM,KAExB,EAUA7B,EAAmBlN,UAAU3C,QAAU,SAAiB2R,GACtD9L,EAAM7F,QAAQS,KAAK8Q,UAAU,SAAwBK,GACzC,OAANA,GACFD,EAAGC,EAEP,GACF,EAEAhM,EAAOvL,QAAUwV,C,8BCnDjB,IAAIgC,EAAgB,EAAQ,MACxBC,EAAc,EAAQ,MAW1BlM,EAAOvL,QAAU,SAAuB6N,EAAS6J,GAC/C,OAAI7J,IAAY2J,EAAcE,GACrBD,EAAY5J,EAAS6J,GAEvBA,CACT,C,8BCjBA,IAAIvL,EAAe,EAAQ,MAY3BZ,EAAOvL,QAAU,SAAqBiV,EAASjI,EAAQ8D,EAAMpK,EAASG,GACpE,IAAIxD,EAAQ,IAAIsU,MAAM1C,GACtB,OAAO9I,EAAa9I,EAAO2J,EAAQ8D,EAAMpK,EAASG,EACpD,C,8BCfA,IAAI2E,EAAQ,EAAQ,MAChBoM,EAAgB,EAAQ,MACxBhD,EAAW,EAAQ,MACnBH,EAAW,EAAQ,MAKvB,SAASoD,EAA6B7K,GAChCA,EAAOsE,aACTtE,EAAOsE,YAAY+D,kBAEvB,CAQA9J,EAAOvL,QAAU,SAAyBgN,GA8BxC,OA7BA6K,EAA6B7K,GAG7BA,EAAOjG,QAAUiG,EAAOjG,SAAW,CAAC,EAGpCiG,EAAOnM,KAAO+W,EAAcrP,KAC1ByE,EACAA,EAAOnM,KACPmM,EAAOjG,QACPiG,EAAO8K,kBAIT9K,EAAOjG,QAAUyE,EAAMuM,MACrB/K,EAAOjG,QAAQiR,QAAU,CAAC,EAC1BhL,EAAOjG,QAAQiG,EAAO7I,SAAW,CAAC,EAClC6I,EAAOjG,SAGTyE,EAAM7F,QACJ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WAClD,SAA2BxB,UAClB6I,EAAOjG,QAAQ5C,EACxB,KAGY6I,EAAOiL,SAAWxD,EAASwD,SAE1BjL,GAAQwE,MAAK,SAA6B3K,GAWvD,OAVAgR,EAA6B7K,GAG7BnG,EAAShG,KAAO+W,EAAcrP,KAC5ByE,EACAnG,EAAShG,KACTgG,EAASE,QACTiG,EAAOkL,mBAGFrR,CACT,IAAG,SAA4BuO,GAe7B,OAdKR,EAASQ,KACZyC,EAA6B7K,GAGzBoI,GAAUA,EAAOvO,WACnBuO,EAAOvO,SAAShG,KAAO+W,EAAcrP,KACnCyE,EACAoI,EAAOvO,SAAShG,KAChBuU,EAAOvO,SAASE,QAChBiG,EAAOkL,qBAKNjL,QAAQI,OAAO+H,EACxB,GACF,C,wBCrEA7J,EAAOvL,QAAU,SAAsBqD,EAAO2J,EAAQ8D,EAAMpK,EAASG,GA4BnE,OA3BAxD,EAAM2J,OAASA,EACX8D,IACFzN,EAAMyN,KAAOA,GAGfzN,EAAMqD,QAAUA,EAChBrD,EAAMwD,SAAWA,EACjBxD,EAAM2R,cAAe,EAErB3R,EAAM8U,OAAS,WACb,MAAO,CAELlD,QAAS7O,KAAK6O,QACd3P,KAAMc,KAAKd,KAEX8S,YAAahS,KAAKgS,YAClBC,OAAQjS,KAAKiS,OAEbC,SAAUlS,KAAKkS,SACfC,WAAYnS,KAAKmS,WACjBC,aAAcpS,KAAKoS,aACnBC,MAAOrS,KAAKqS,MAEZzL,OAAQ5G,KAAK4G,OACb8D,KAAM1K,KAAK0K,KAEf,EACOzN,CACT,C,6BCvCA,IAAImI,EAAQ,EAAQ,MAUpBD,EAAOvL,QAAU,SAAqB0Y,EAASC,GAE7CA,EAAUA,GAAW,CAAC,EACtB,IAAI3L,EAAS,CAAC,EAEV4L,EAAuB,CAAC,MAAO,SAAU,QACzCC,EAA0B,CAAC,UAAW,OAAQ,QAAS,UACvDC,EAAuB,CACzB,UAAW,mBAAoB,oBAAqB,mBACpD,UAAW,iBAAkB,kBAAmB,UAAW,eAAgB,iBAC3E,iBAAkB,mBAAoB,qBAAsB,aAC5D,mBAAoB,gBAAiB,eAAgB,YAAa,YAClE,aAAc,cAAe,aAAc,oBAEzCC,EAAkB,CAAC,kBAEvB,SAASC,EAAeC,EAAQ3D,GAC9B,OAAI9J,EAAM0N,cAAcD,IAAWzN,EAAM0N,cAAc5D,GAC9C9J,EAAMuM,MAAMkB,EAAQ3D,GAClB9J,EAAM0N,cAAc5D,GACtB9J,EAAMuM,MAAM,CAAC,EAAGzC,GACd9J,EAAMzD,QAAQuN,GAChBA,EAAOjO,QAETiO,CACT,CAEA,SAAS6D,EAAoBC,GACtB5N,EAAMiI,YAAYkF,EAAQS,IAEnB5N,EAAMiI,YAAYiF,EAAQU,MACpCpM,EAAOoM,GAAQJ,OAAepS,EAAW8R,EAAQU,KAFjDpM,EAAOoM,GAAQJ,EAAeN,EAAQU,GAAOT,EAAQS,GAIzD,CAEA5N,EAAM7F,QAAQiT,GAAsB,SAA0BQ,GACvD5N,EAAMiI,YAAYkF,EAAQS,MAC7BpM,EAAOoM,GAAQJ,OAAepS,EAAW+R,EAAQS,IAErD,IAEA5N,EAAM7F,QAAQkT,EAAyBM,GAEvC3N,EAAM7F,QAAQmT,GAAsB,SAA0BM,GACvD5N,EAAMiI,YAAYkF,EAAQS,IAEnB5N,EAAMiI,YAAYiF,EAAQU,MACpCpM,EAAOoM,GAAQJ,OAAepS,EAAW8R,EAAQU,KAFjDpM,EAAOoM,GAAQJ,OAAepS,EAAW+R,EAAQS,GAIrD,IAEA5N,EAAM7F,QAAQoT,GAAiB,SAAeK,GACxCA,KAAQT,EACV3L,EAAOoM,GAAQJ,EAAeN,EAAQU,GAAOT,EAAQS,IAC5CA,KAAQV,IACjB1L,EAAOoM,GAAQJ,OAAepS,EAAW8R,EAAQU,IAErD,IAEA,IAAIC,EAAYT,EACb1O,OAAO2O,GACP3O,OAAO4O,GACP5O,OAAO6O,GAENO,EAAYxZ,OACbuK,KAAKqO,GACLxO,OAAOpK,OAAOuK,KAAKsO,IACnBY,QAAO,SAAyB7T,GAC/B,OAAmC,IAA5B2T,EAAU3Y,QAAQgF,EAC3B,IAIF,OAFA8F,EAAM7F,QAAQ2T,EAAWH,GAElBnM,CACT,C,8BCpFA,IAAId,EAAc,EAAQ,MAS1BX,EAAOvL,QAAU,SAAgBoN,EAASC,EAAQxG,GAChD,IAAI2S,EAAiB3S,EAASmG,OAAOwM,eAChC3S,EAASC,QAAW0S,IAAkBA,EAAe3S,EAASC,QAGjEuG,EAAOnB,EACL,mCAAqCrF,EAASC,OAC9CD,EAASmG,OACT,KACAnG,EAASH,QACTG,IAPFuG,EAAQvG,EAUZ,C,8BCtBA,IAAI2E,EAAQ,EAAQ,MAChBiJ,EAAW,EAAQ,MAUvBlJ,EAAOvL,QAAU,SAAuBa,EAAMkG,EAAS0S,GACrD,IAAIrF,EAAUhO,MAAQqO,EAMtB,OAJAjJ,EAAM7F,QAAQ8T,GAAK,SAAmBnC,GACpCzW,EAAOyW,EAAG/O,KAAK6L,EAASvT,EAAMkG,EAChC,IAEOlG,CACT,C,8BCnBA,IAAI2K,EAAQ,EAAQ,MAChBkO,EAAsB,EAAQ,MAC9BvN,EAAe,EAAQ,MAEvBwN,EAAuB,CACzB,eAAgB,qCAGlB,SAASC,EAAsB7S,EAAS9G,IACjCuL,EAAMiI,YAAY1M,IAAYyE,EAAMiI,YAAY1M,EAAQ,mBAC3DA,EAAQ,gBAAkB9G,EAE9B,CA6BA,IA1BMgY,EA0BFxD,EAAW,CAEbrD,aAAc,CACZ2E,mBAAmB,EACnBE,mBAAmB,EACnB5E,qBAAqB,GAGvB4G,SAjC8B,oBAAnBhG,eAETgG,EAAU,EAAQ,KACU,oBAAZpJ,SAAuE,qBAA5C/O,OAAOwI,UAAUvF,SAASwF,KAAKsG,WAE1EoJ,EAAU,EAAQ,OAEbA,GA4BPH,iBAAkB,CAAC,SAA0BjX,EAAMkG,GAIjD,OAHA2S,EAAoB3S,EAAS,UAC7B2S,EAAoB3S,EAAS,gBAEzByE,EAAMwG,WAAWnR,IACnB2K,EAAMiC,cAAc5M,IACpB2K,EAAMgC,SAAS3M,IACf2K,EAAM+B,SAAS1M,IACf2K,EAAMqO,OAAOhZ,IACb2K,EAAMsO,OAAOjZ,GAENA,EAEL2K,EAAMuO,kBAAkBlZ,GACnBA,EAAKmZ,OAEVxO,EAAMyO,kBAAkBpZ,IAC1B+Y,EAAsB7S,EAAS,mDACxBlG,EAAKkC,YAEVyI,EAAM0O,SAASrZ,IAAUkG,GAAuC,qBAA5BA,EAAQ,iBAC9C6S,EAAsB7S,EAAS,oBA9CrC,SAAyBoT,EAAUC,EAAQC,GACzC,GAAI7O,EAAMmC,SAASwM,GACjB,IAEE,OADCC,GAAUE,KAAKnT,OAAOgT,GAChB3O,EAAM3G,KAAKsV,EAKpB,CAJE,MAAOI,GACP,GAAe,gBAAXA,EAAEjV,KACJ,MAAMiV,CAEV,CAGF,OAAQF,GAAWC,KAAKE,WAAWL,EACrC,CAkCaM,CAAgB5Z,IAElBA,CACT,GAEAqX,kBAAmB,CAAC,SAA2BrX,GAC7C,IAAIuQ,EAAehL,KAAKgL,aACpB2E,EAAoB3E,GAAgBA,EAAa2E,kBACjDE,EAAoB7E,GAAgBA,EAAa6E,kBACjDyE,GAAqB3E,GAA2C,SAAtB3P,KAAKgK,aAEnD,GAAIsK,GAAsBzE,GAAqBzK,EAAMmC,SAAS9M,IAASA,EAAKG,OAC1E,IACE,OAAOsZ,KAAKnT,MAAMtG,EAQpB,CAPE,MAAO0Z,GACP,GAAIG,EAAmB,CACrB,GAAe,gBAAXH,EAAEjV,KACJ,MAAM6G,EAAaoO,EAAGnU,KAAM,gBAE9B,MAAMmU,CACR,CACF,CAGF,OAAO1Z,CACT,GAMAkQ,QAAS,EAETqC,eAAgB,aAChBE,eAAgB,eAEhB7C,kBAAmB,EACnBhB,eAAgB,EAEhB+J,eAAgB,SAAwB1S,GACtC,OAAOA,GAAU,KAAOA,EAAS,GACnC,GAGF2N,EAAS1N,QAAU,CACjBiR,OAAQ,CACN,OAAU,sCAIdxM,EAAM7F,QAAQ,CAAC,SAAU,MAAO,SAAS,SAA6BxB,GACpEsQ,EAAS1N,QAAQ5C,GAAU,CAAC,CAC9B,IAEAqH,EAAM7F,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BxB,GACrEsQ,EAAS1N,QAAQ5C,GAAUqH,EAAMuM,MAAM4B,EACzC,IAEApO,EAAOvL,QAAUyU,C,wBCnIjBlJ,EAAOvL,QAAU,SAAcsX,EAAIqD,GACjC,OAAO,WAEL,IADA,IAAIC,EAAO,IAAI1U,MAAM2P,UAAU7U,QACtBgH,EAAI,EAAGA,EAAI4S,EAAK5Z,OAAQgH,IAC/B4S,EAAK5S,GAAK6N,UAAU7N,GAEtB,OAAOsP,EAAGV,MAAM+D,EAASC,EAC3B,CACF,C,8BCRA,IAAIpP,EAAQ,EAAQ,MAEpB,SAASqP,EAAOtH,GACd,OAAOpB,mBAAmBoB,GACxB/N,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IACrB,CASA+F,EAAOvL,QAAU,SAAkB6F,EAAK0B,EAAQ+G,GAE9C,IAAK/G,EACH,OAAO1B,EAGT,IAAIiV,EACJ,GAAIxM,EACFwM,EAAmBxM,EAAiB/G,QAC/B,GAAIiE,EAAMyO,kBAAkB1S,GACjCuT,EAAmBvT,EAAOxE,eACrB,CACL,IAAIgY,EAAQ,GAEZvP,EAAM7F,QAAQ4B,GAAQ,SAAmBgM,EAAK7N,GACxC6N,UAIA/H,EAAMzD,QAAQwL,GAChB7N,GAAY,KAEZ6N,EAAM,CAACA,GAGT/H,EAAM7F,QAAQ4N,GAAK,SAAoByH,GACjCxP,EAAMyP,OAAOD,GACfA,EAAIA,EAAEE,cACG1P,EAAM0O,SAASc,KACxBA,EAAIV,KAAKE,UAAUQ,IAErBD,EAAM1R,KAAKwR,EAAOnV,GAAO,IAAMmV,EAAOG,GACxC,IACF,IAEAF,EAAmBC,EAAM7X,KAAK,IAChC,CAEA,GAAI4X,EAAkB,CACpB,IAAIK,EAAgBtV,EAAInF,QAAQ,MACT,IAAnBya,IACFtV,EAAMA,EAAIwB,MAAM,EAAG8T,IAGrBtV,KAA8B,IAAtBA,EAAInF,QAAQ,KAAc,IAAM,KAAOoa,CACjD,CAEA,OAAOjV,CACT,C,wBC5DA0F,EAAOvL,QAAU,SAAqB6N,EAASuN,GAC7C,OAAOA,EACHvN,EAAQrI,QAAQ,OAAQ,IAAM,IAAM4V,EAAY5V,QAAQ,OAAQ,IAChEqI,CACN,C,8BCXA,IAAIrC,EAAQ,EAAQ,MAEpBD,EAAOvL,QACLwL,EAAMyH,uBAIK,CACLoI,MAAO,SAAe/V,EAAMrF,EAAOqb,EAAS9T,EAAM+T,EAAQC,GACxD,IAAIC,EAAS,GACbA,EAAOpS,KAAK/D,EAAO,IAAM6M,mBAAmBlS,IAExCuL,EAAMkQ,SAASJ,IACjBG,EAAOpS,KAAK,WAAa,IAAIsS,KAAKL,GAASM,eAGzCpQ,EAAMmC,SAASnG,IACjBiU,EAAOpS,KAAK,QAAU7B,GAGpBgE,EAAMmC,SAAS4N,IACjBE,EAAOpS,KAAK,UAAYkS,IAGX,IAAXC,GACFC,EAAOpS,KAAK,UAGdwS,SAASJ,OAASA,EAAOvY,KAAK,KAChC,EAEAmQ,KAAM,SAAc/N,GAClB,IAAIR,EAAQ+W,SAASJ,OAAO3W,MAAM,IAAIgX,OAAO,aAAexW,EAAO,cACnE,OAAQR,EAAQiX,mBAAmBjX,EAAM,IAAM,IACjD,EAEAkX,OAAQ,SAAgB1W,GACtBc,KAAKiV,MAAM/V,EAAM,GAAIqW,KAAKM,MAAQ,MACpC,GAMK,CACLZ,MAAO,WAAkB,EACzBhI,KAAM,WAAkB,OAAO,IAAM,EACrC2I,OAAQ,WAAmB,E,wBCzCnCzQ,EAAOvL,QAAU,SAAuB6F,GAItC,MAAO,gCAAgCyF,KAAKzF,EAC9C,C,wBCLA0F,EAAOvL,QAAU,SAAsBkc,GACrC,MAA2B,iBAAZA,IAAmD,IAAzBA,EAAQlH,YACnD,C,8BCRA,IAAIxJ,EAAQ,EAAQ,MAEpBD,EAAOvL,QACLwL,EAAMyH,uBAIJ,WACE,IAEIkJ,EAFAC,EAAO,kBAAkB9Q,KAAK+Q,UAAUC,WACxCC,EAAiBV,SAASW,cAAc,KAS5C,SAASC,EAAW5W,GAClB,IAAIkH,EAAOlH,EAWX,OATIuW,IAEFG,EAAeG,aAAa,OAAQ3P,GACpCA,EAAOwP,EAAexP,MAGxBwP,EAAeG,aAAa,OAAQ3P,GAG7B,CACLA,KAAMwP,EAAexP,KACrBgB,SAAUwO,EAAexO,SAAWwO,EAAexO,SAASvI,QAAQ,KAAM,IAAM,GAChFiH,KAAM8P,EAAe9P,KACrBkQ,OAAQJ,EAAeI,OAASJ,EAAeI,OAAOnX,QAAQ,MAAO,IAAM,GAC3E7C,KAAM4Z,EAAe5Z,KAAO4Z,EAAe5Z,KAAK6C,QAAQ,KAAM,IAAM,GACpEgH,SAAU+P,EAAe/P,SACzBE,KAAM6P,EAAe7P,KACrBjF,SAAiD,MAAtC8U,EAAe9U,SAASsD,OAAO,GACxCwR,EAAe9U,SACf,IAAM8U,EAAe9U,SAE3B,CAUA,OARA0U,EAAYM,EAAWG,OAAOrQ,SAASQ,MAQhC,SAAyB8P,GAC9B,IAAI/O,EAAUtC,EAAMmC,SAASkP,GAAeJ,EAAWI,GAAcA,EACrE,OAAQ/O,EAAOC,WAAaoO,EAAUpO,UAClCD,EAAOrB,OAAS0P,EAAU1P,IAChC,CACD,CAlDD,GAsDS,WACL,OAAO,CACT,C,8BC/DN,IAAIjB,EAAQ,EAAQ,MAEpBD,EAAOvL,QAAU,SAA6B+G,EAAS+V,GACrDtR,EAAM7F,QAAQoB,GAAS,SAAuB9G,EAAOqF,GAC/CA,IAASwX,GAAkBxX,EAAKiJ,gBAAkBuO,EAAevO,gBACnExH,EAAQ+V,GAAkB7c,SACnB8G,EAAQzB,GAEnB,GACF,C,8BCTA,IAAIkG,EAAQ,EAAQ,MAIhBuR,EAAoB,CACtB,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,cAgB5BxR,EAAOvL,QAAU,SAAsB+G,GACrC,IACIrB,EACA6N,EACAvL,EAHA8F,EAAS,CAAC,EAKd,OAAK/G,GAELyE,EAAM7F,QAAQoB,EAAQ9D,MAAM,OAAO,SAAgB+Z,GAKjD,GAJAhV,EAAIgV,EAAKtc,QAAQ,KACjBgF,EAAM8F,EAAM3G,KAAKmY,EAAKjc,OAAO,EAAGiH,IAAIpH,cACpC2S,EAAM/H,EAAM3G,KAAKmY,EAAKjc,OAAOiH,EAAI,IAE7BtC,EAAK,CACP,GAAIoI,EAAOpI,IAAQqX,EAAkBrc,QAAQgF,IAAQ,EACnD,OAGAoI,EAAOpI,GADG,eAARA,GACaoI,EAAOpI,GAAOoI,EAAOpI,GAAO,IAAIwE,OAAO,CAACqJ,IAEzCzF,EAAOpI,GAAOoI,EAAOpI,GAAO,KAAO6N,EAAMA,CAE3D,CACF,IAEOzF,GAnBgBA,CAoBzB,C,wBC9BAvC,EAAOvL,QAAU,SAAgBid,GAC/B,OAAO,SAAcnV,GACnB,OAAOmV,EAASrG,MAAM,KAAM9O,EAC9B,CACF,C,8BCxBA,IAAImE,EAAM,EAAQ,KAEd0J,EAAa,CAAC,EAGlB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAUhQ,SAAQ,SAAShF,EAAMqH,GACrF2N,EAAWhV,GAAQ,SAAmBuc,GACpC,cAAcA,IAAUvc,GAAQ,KAAOqH,EAAI,EAAI,KAAO,KAAOrH,CAC/D,CACF,IAEA,IAAIwc,EAAqB,CAAC,EACtBC,EAAgBnR,EAAIqB,QAAQrK,MAAM,KAQtC,SAASoa,EAAe/P,EAASgQ,GAG/B,IAFA,IAAIC,EAAgBD,EAAcA,EAAYra,MAAM,KAAOma,EACvDI,EAAUlQ,EAAQrK,MAAM,KACnB+E,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,GAAIuV,EAAcvV,GAAKwV,EAAQxV,GAC7B,OAAO,EACF,GAAIuV,EAAcvV,GAAKwV,EAAQxV,GACpC,OAAO,CAEX,CACA,OAAO,CACT,CASA2N,EAAWvE,aAAe,SAAsBsE,EAAWpI,EAAS2H,GAClE,IAAIwI,EAAenQ,GAAW+P,EAAe/P,GAE7C,SAASoQ,EAAcC,EAAKC,GAC1B,MAAO,WAAa3R,EAAIqB,QAAU,0BAA6BqQ,EAAM,IAAOC,GAAQ3I,EAAU,KAAOA,EAAU,GACjH,CAGA,OAAO,SAAShV,EAAO0d,EAAKpX,GAC1B,IAAkB,IAAdmP,EACF,MAAM,IAAIiC,MAAM+F,EAAcC,EAAK,wBAA0BrQ,IAc/D,OAXImQ,IAAiBN,EAAmBQ,KACtCR,EAAmBQ,IAAO,EAE1BE,QAAQC,KACNJ,EACEC,EACA,+BAAiCrQ,EAAU,8CAK1CoI,GAAYA,EAAUzV,EAAO0d,EAAKpX,EAC3C,CACF,EAgCAgF,EAAOvL,QAAU,CACfqd,eAAgBA,EAChBvH,cAzBF,SAAuB1L,EAAS2T,EAAQC,GACtC,GAAuB,iBAAZ5T,EACT,MAAM,IAAI3B,UAAU,6BAItB,IAFA,IAAI4B,EAAOvK,OAAOuK,KAAKD,GACnBpC,EAAIqC,EAAKrJ,OACNgH,KAAM,GAAG,CACd,IAAI2V,EAAMtT,EAAKrC,GACX0N,EAAYqI,EAAOJ,GACvB,GAAIjI,EAAJ,CACE,IAAIzV,EAAQmK,EAAQuT,GAChBpd,OAAmBqG,IAAV3G,GAAuByV,EAAUzV,EAAO0d,EAAKvT,GAC1D,IAAe,IAAX7J,EACF,MAAM,IAAIkI,UAAU,UAAYkV,EAAM,YAAcpd,EAGxD,MACA,IAAqB,IAAjByd,EACF,MAAMrG,MAAM,kBAAoBgG,EAEpC,CACF,EAKEhI,WAAYA,E,8BCrGd,IAAI5B,EAAO,EAAQ,MAIfhR,EAAWjD,OAAOwI,UAAUvF,SAQhC,SAASgF,EAAQwL,GACf,MAA8B,mBAAvBxQ,EAASwF,KAAKgL,EACvB,CAQA,SAASE,EAAYF,GACnB,YAAsB,IAARA,CAChB,CA2EA,SAAS2G,EAAS3G,GAChB,OAAe,OAARA,GAA+B,iBAARA,CAChC,CAQA,SAAS2F,EAAc3F,GACrB,GAA2B,oBAAvBxQ,EAASwF,KAAKgL,GAChB,OAAO,EAGT,IAAIjL,EAAYxI,OAAOme,eAAe1K,GACtC,OAAqB,OAAdjL,GAAsBA,IAAcxI,OAAOwI,SACpD,CAsCA,SAAS4V,EAAW3K,GAClB,MAA8B,sBAAvBxQ,EAASwF,KAAKgL,EACvB,CAuEA,SAAS5N,EAAQ5D,EAAKuV,GAEpB,GAAIvV,QAUJ,GALmB,iBAARA,IAETA,EAAM,CAACA,IAGLgG,EAAQhG,GAEV,IAAK,IAAIiG,EAAI,EAAGmW,EAAIpc,EAAIf,OAAQgH,EAAImW,EAAGnW,IACrCsP,EAAG/O,KAAK,KAAMxG,EAAIiG,GAAIA,EAAGjG,QAI3B,IAAK,IAAI2D,KAAO3D,EACVjC,OAAOwI,UAAU8V,eAAe7V,KAAKxG,EAAK2D,IAC5C4R,EAAG/O,KAAK,KAAMxG,EAAI2D,GAAMA,EAAK3D,EAIrC,CAuEAwJ,EAAOvL,QAAU,CACf+H,QAASA,EACT0F,cA1RF,SAAuB8F,GACrB,MAA8B,yBAAvBxQ,EAASwF,KAAKgL,EACvB,EAyRE/F,SAtSF,SAAkB+F,GAChB,OAAe,OAARA,IAAiBE,EAAYF,IAA4B,OAApBA,EAAItN,cAAyBwN,EAAYF,EAAItN,cAChD,mBAA7BsN,EAAItN,YAAYuH,UAA2B+F,EAAItN,YAAYuH,SAAS+F,EAClF,EAoSEvB,WAlRF,SAAoBuB,GAClB,MAA4B,oBAAb8K,UAA8B9K,aAAe8K,QAC9D,EAiREtE,kBAzQF,SAA2BxG,GAOzB,MAL4B,oBAAhB+K,aAAiCA,YAAkB,OACpDA,YAAYC,OAAOhL,GAEnB,GAAUA,EAAU,QAAMA,EAAIyG,kBAAkBsE,WAG7D,EAkQE3Q,SA1PF,SAAkB4F,GAChB,MAAsB,iBAARA,CAChB,EAyPEmI,SAjPF,SAAkBnI,GAChB,MAAsB,iBAARA,CAChB,EAgPE2G,SAAUA,EACVhB,cAAeA,EACfzF,YAAaA,EACbwH,OAlNF,SAAgB1H,GACd,MAA8B,kBAAvBxQ,EAASwF,KAAKgL,EACvB,EAiNEsG,OAzMF,SAAgBtG,GACd,MAA8B,kBAAvBxQ,EAASwF,KAAKgL,EACvB,EAwMEuG,OAhMF,SAAgBvG,GACd,MAA8B,kBAAvBxQ,EAASwF,KAAKgL,EACvB,EA+LE2K,WAAYA,EACZ3Q,SA9KF,SAAkBgG,GAChB,OAAO2G,EAAS3G,IAAQ2K,EAAW3K,EAAIvD,KACzC,EA6KEiK,kBArKF,SAA2B1G,GACzB,MAAkC,oBAApBiL,iBAAmCjL,aAAeiL,eAClE,EAoKEvL,qBAzIF,WACE,OAAyB,oBAAdoJ,WAAoD,gBAAtBA,UAAUoC,SACY,iBAAtBpC,UAAUoC,SACY,OAAtBpC,UAAUoC,WAI/B,oBAAX7B,QACa,oBAAbf,SAEX,EAgIElW,QAASA,EACToS,MAvEF,SAASA,IACP,IAAIxX,EAAS,CAAC,EACd,SAASme,EAAYnL,EAAK7N,GACpBwT,EAAc3Y,EAAOmF,KAASwT,EAAc3F,GAC9ChT,EAAOmF,GAAOqS,EAAMxX,EAAOmF,GAAM6N,GACxB2F,EAAc3F,GACvBhT,EAAOmF,GAAOqS,EAAM,CAAC,EAAGxE,GACfxL,EAAQwL,GACjBhT,EAAOmF,GAAO6N,EAAIlM,QAElB9G,EAAOmF,GAAO6N,CAElB,CAEA,IAAK,IAAIvL,EAAI,EAAGmW,EAAItI,UAAU7U,OAAQgH,EAAImW,EAAGnW,IAC3CrC,EAAQkQ,UAAU7N,GAAI0W,GAExB,OAAOne,CACT,EAsDE+T,OA5CF,SAAgBqK,EAAGC,EAAGjE,GAQpB,OAPAhV,EAAQiZ,GAAG,SAAqBrL,EAAK7N,GAEjCiZ,EAAEjZ,GADAiV,GAA0B,mBAARpH,EACXQ,EAAKR,EAAKoH,GAEVpH,CAEb,IACOoL,CACT,EAoCE9Z,KAhKF,SAAclB,GACZ,OAAOA,EAAIkB,KAAOlB,EAAIkB,OAASlB,EAAI6B,QAAQ,aAAc,GAC3D,EA+JEqL,SA7BF,SAAkBgO,GAIhB,OAH8B,QAA1BA,EAAQC,WAAW,KACrBD,EAAUA,EAAQxX,MAAM,IAEnBwX,CACT,E,iBCnUA,IAAIE,EAEJxT,EAAOvL,QAAU,WACf,IAAK+e,EAAO,CACV,IAEEA,EAAQ,EAAQ,sGAAR,CAAiB,mBAEL,CAAtB,MAAO1b,GAAe,CACD,mBAAV0b,IACTA,EAAQ,WAAoB,EAEhC,CACAA,EAAMnI,MAAM,KAAMf,UACpB,C,iBCdA,IAAIhQ,EAAM,EAAQ,MACdmZ,EAAMnZ,EAAImZ,IACVpT,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBoT,EAAW,iBACXC,EAAS,EAAQ,MACjBH,EAAQ,EAAQ,MAGhBI,EAAS,CAAC,QAAS,UAAW,UAAW,QAAS,SAAU,WAC5DC,EAAgBtf,OAAOyU,OAAO,MAClC4K,EAAOxZ,SAAQ,SAAU0Z,GACvBD,EAAcC,GAAS,SAAUC,EAAMC,EAAMC,GAC3CpZ,KAAKqZ,cAAcC,KAAKL,EAAOC,EAAMC,EAAMC,EAC7C,CACF,IAEA,IAAIwF,EAAkBpF,EACpB,kBACA,cACAnX,WAGEkX,EAAmBC,EACrB,6BACA,6BAEEC,EAAwBD,EAC1B,4BACA,wCAEEE,EAA6BF,EAC/B,kCACA,gDAEEG,EAAqBH,EACvB,6BACA,mBAIF,SAASI,EAAoB5V,EAAS6V,GAEpChB,EAAS1W,KAAKnC,MACdA,KAAK8Z,iBAAiB9V,GACtBhE,KAAK+Z,SAAW/V,EAChBhE,KAAKga,QAAS,EACdha,KAAKia,SAAU,EACfja,KAAKka,eAAiB,EACtBla,KAAKma,WAAa,GAClBna,KAAKoa,mBAAqB,EAC1Bpa,KAAKqa,oBAAsB,GAGvBR,GACF7Z,KAAKmK,GAAG,WAAY0P,GAItB,IAAIS,EAAOta,KACXA,KAAKua,kBAAoB,SAAU9Z,GACjC6Z,EAAKE,iBAAiB/Z,EACxB,EAGAT,KAAKya,iBACP,CAgZA,SAASC,EAAKC,GAEZ,IAAI/gB,EAAU,CACZwP,aAAc,GACdC,cAAe,UAIbuR,EAAkB,CAAC,EAgEvB,OA/DAlhB,OAAOuK,KAAK0W,GAAWpb,SAAQ,SAAU2E,GACvC,IAAIyD,EAAWzD,EAAS,IACpB2W,EAAiBD,EAAgBjT,GAAYgT,EAAUzW,GACvD4W,EAAkBlhB,EAAQsK,GAAUxK,OAAOyU,OAAO0M,GAuDtDnhB,OAAOqhB,iBAAiBD,EAAiB,CACvCxa,QAAS,CAAEzG,MArDb,SAAiBmhB,EAAOhX,EAAS6S,GAE/B,GAAItP,EAASyT,GAAQ,CACnB,IAAItT,EACJ,IACEA,EAASwT,EAAa,IAAItC,EAAIoC,GAKhC,CAHA,MAAO9X,GAELwE,EAASjI,EAAIsB,MAAMia,EACrB,CACA,IAAKzT,EAASG,EAAOC,UACnB,MAAM,IAAIiX,EAAgB,CAAE5D,UAE9BA,EAAQtT,CACV,MACSkR,GAAQoC,aAAiBpC,EAChCoC,EAAQE,EAAaF,IAGrBnE,EAAW7S,EACXA,EAAUgX,EACVA,EAAQ,CAAErT,SAAUA,IAmBtB,OAjBImQ,EAAW9T,KACb6S,EAAW7S,EACXA,EAAU,OAIZA,EAAUtK,OAAOyhB,OAAO,CACtB/R,aAAcxP,EAAQwP,aACtBC,cAAezP,EAAQyP,eACtB2R,EAAOhX,IACF4W,gBAAkBA,EACrBrT,EAASvD,EAAQqC,OAAUkB,EAASvD,EAAQoC,YAC/CpC,EAAQoC,SAAW,OAGrB0S,EAAOsC,MAAMpX,EAAQ2D,SAAUA,EAAU,qBACzCgR,EAAM,UAAW3U,GACV,IAAI4V,EAAoB5V,EAAS6S,EAC1C,EAW6BwE,cAAc,EAAMhgB,YAAY,EAAMigB,UAAU,GAC3EhgB,IAAK,CAAEzB,MATT,SAAamhB,EAAOhX,EAAS6S,GAC3B,IAAI0E,EAAiBT,EAAgBxa,QAAQ0a,EAAOhX,EAAS6S,GAE7D,OADA0E,EAAejQ,MACRiQ,CACT,EAKqBF,cAAc,EAAMhgB,YAAY,EAAMigB,UAAU,IAEvE,IACO1hB,CACT,CAGA,SAAS4hB,IAAqB,CAG9B,SAASN,EAAaO,GACpB,IAAIzX,EAAU,CACZ2D,SAAU8T,EAAU9T,SACpBvB,SAAUqV,EAAUrV,SAASsV,WAAW,KAEtCD,EAAUrV,SAASnF,MAAM,GAAI,GAC7Bwa,EAAUrV,SACZ7J,KAAMkf,EAAUlf,KAChBga,OAAQkF,EAAUlF,OAClBlV,SAAUoa,EAAUpa,SACpBD,KAAMqa,EAAUpa,SAAWoa,EAAUlF,OACrC5P,KAAM8U,EAAU9U,MAKlB,MAHuB,KAAnB8U,EAAUnV,OACZtC,EAAQsC,KAAOqV,OAAOF,EAAUnV,OAE3BtC,CACT,CAEA,SAAS4X,EAAsBC,EAAOlb,GACpC,IAAImb,EACJ,IAAK,IAAI/hB,KAAU4G,EACbkb,EAAM3W,KAAKnL,KACb+hB,EAAYnb,EAAQ5G,UACb4G,EAAQ5G,IAGnB,OAAO,MAAC+hB,OACNtb,EAAYub,OAAOD,GAAWrd,MAClC,CAEA,SAAS+a,EAAgB9O,EAAMmE,EAASgQ,GAEtC,SAAS5C,EAAY6C,GACnBvN,MAAM4K,kBAAkBnc,KAAMA,KAAKH,aACnCnG,OAAOyhB,OAAOnb,KAAM8e,GAAc,CAAC,GACnC9e,KAAK0K,KAAOA,EACZ1K,KAAK6O,QAAU7O,KAAKkc,MAAQrN,EAAU,KAAO7O,KAAKkc,MAAMrN,QAAUA,CACpE,CAMA,OAHAoN,EAAY/Z,UAAY,IAAK2c,GAAatN,OAC1C0K,EAAY/Z,UAAUrC,YAAcoc,EACpCA,EAAY/Z,UAAUhD,KAAO,UAAYwL,EAAO,IACzCuR,CACT,CAEA,SAASG,EAAa9b,GACpB,IAAK,IAAI2Y,KAASF,EAChBzY,EAAQ+b,eAAepD,EAAOD,EAAcC,IAE9C3Y,EAAQ6J,GAAG,QAASqR,GACpBlb,EAAQyK,OACV,CAQA,SAASxD,EAAS1N,GAChB,MAAwB,iBAAVA,GAAsBA,aAAiBkiB,MACvD,CAEA,SAASjE,EAAWje,GAClB,MAAwB,mBAAVA,CAChB,CAjiBA+f,EAAoB1X,UAAYxI,OAAOyU,OAAO0K,EAAS3W,WAEvD0X,EAAoB1X,UAAU6I,MAAQ,WACpCqR,EAAapc,KAAKsc,iBAClBtc,KAAKsZ,KAAK,QACZ,EAGAM,EAAoB1X,UAAU+S,MAAQ,SAAUxa,EAAM8hB,EAAU1F,GAE9D,GAAI7W,KAAKia,QACP,MAAM,IAAIN,EAIZ,IAAKpS,EAAS9M,KAqhBU,iBADRZ,EAphBiBY,MAqhBI,WAAYZ,IAphB/C,MAAM,IAAIwI,UAAU,iDAmhBxB,IAAkBxI,EAjhBZie,EAAWyE,KACb1F,EAAW0F,EACXA,EAAW,MAKO,IAAhB9hB,EAAKG,OAOLoF,KAAKoa,mBAAqB3f,EAAKG,QAAUoF,KAAK+Z,SAAS1Q,eACzDrJ,KAAKoa,oBAAsB3f,EAAKG,OAChCoF,KAAKqa,oBAAoBpX,KAAK,CAAExI,KAAMA,EAAM8hB,SAAUA,IACtDvc,KAAKsc,gBAAgBrH,MAAMxa,EAAM8hB,EAAU1F,KAI3C7W,KAAKsZ,KAAK,QAAS,IAAII,GACvB1Z,KAAK+K,SAdD8L,GACFA,GAeN,EAGA+C,EAAoB1X,UAAUoJ,IAAM,SAAU7Q,EAAM8hB,EAAU1F,GAY5D,GAVIiB,EAAWrd,IACboc,EAAWpc,EACXA,EAAO8hB,EAAW,MAEXzE,EAAWyE,KAClB1F,EAAW0F,EACXA,EAAW,MAIR9hB,EAIA,CACH,IAAI6f,EAAOta,KACPwc,EAAiBxc,KAAKsc,gBAC1Btc,KAAKiV,MAAMxa,EAAM8hB,GAAU,WACzBjC,EAAKN,QAAS,EACdwC,EAAelR,IAAI,KAAM,KAAMuL,EACjC,IACA7W,KAAKia,SAAU,CACjB,MAXEja,KAAKga,OAASha,KAAKia,SAAU,EAC7Bja,KAAKsc,gBAAgBhR,IAAI,KAAM,KAAMuL,EAWzC,EAGA+C,EAAoB1X,UAAUua,UAAY,SAAUvd,EAAMrF,GACxDmG,KAAK+Z,SAASpZ,QAAQzB,GAAQrF,EAC9BmG,KAAKsc,gBAAgBG,UAAUvd,EAAMrF,EACvC,EAGA+f,EAAoB1X,UAAUwa,aAAe,SAAUxd,UAC9Cc,KAAK+Z,SAASpZ,QAAQzB,GAC7Bc,KAAKsc,gBAAgBI,aAAaxd,EACpC,EAGA0a,EAAoB1X,UAAU4I,WAAa,SAAU6R,EAAO9F,GAC1D,IAAIyD,EAAOta,KAGX,SAAS4c,EAAiBC,GACxBA,EAAO/R,WAAW6R,GAClBE,EAAOR,eAAe,UAAWQ,EAAOvS,SACxCuS,EAAOC,YAAY,UAAWD,EAAOvS,QACvC,CAGA,SAASyS,EAAWF,GACdvC,EAAK0C,UACPC,aAAa3C,EAAK0C,UAEpB1C,EAAK0C,SAAWlS,YAAW,WACzBwP,EAAKhB,KAAK,WACV4D,GACF,GAAGP,GACHC,EAAiBC,EACnB,CAGA,SAASK,IAEH5C,EAAK0C,WACPC,aAAa3C,EAAK0C,UAClB1C,EAAK0C,SAAW,MAIlB1C,EAAK+B,eAAe,QAASa,GAC7B5C,EAAK+B,eAAe,QAASa,GAC7B5C,EAAK+B,eAAe,WAAYa,GAC5BrG,GACFyD,EAAK+B,eAAe,UAAWxF,GAE5ByD,EAAKuC,QACRvC,EAAKgC,gBAAgBD,eAAe,SAAUU,EAElD,CAqBA,OAlBIlG,GACF7W,KAAKmK,GAAG,UAAW0M,GAIjB7W,KAAK6c,OACPE,EAAW/c,KAAK6c,QAGhB7c,KAAKsc,gBAAgBa,KAAK,SAAUJ,GAItC/c,KAAKmK,GAAG,SAAUyS,GAClB5c,KAAKmK,GAAG,QAAS+S,GACjBld,KAAKmK,GAAG,QAAS+S,GACjBld,KAAKmK,GAAG,WAAY+S,GAEbld,IACT,EAGA,CACE,eAAgB,YAChB,aAAc,sBACdT,SAAQ,SAAUxB,GAClB6b,EAAoB1X,UAAUnE,GAAU,SAAUwa,EAAGC,GACnD,OAAOxY,KAAKsc,gBAAgBve,GAAQwa,EAAGC,EACzC,CACF,IAGA,CAAC,UAAW,aAAc,UAAUjZ,SAAQ,SAAU6d,GACpD1jB,OAAOC,eAAeigB,EAAoB1X,UAAWkb,EAAU,CAC7D9hB,IAAK,WAAc,OAAO0E,KAAKsc,gBAAgBc,EAAW,GAE9D,IAEAxD,EAAoB1X,UAAU4X,iBAAmB,SAAU9V,GAkBzD,GAhBKA,EAAQrD,UACXqD,EAAQrD,QAAU,CAAC,GAMjBqD,EAAQqC,OAELrC,EAAQoC,WACXpC,EAAQoC,SAAWpC,EAAQqC,aAEtBrC,EAAQqC,OAIZrC,EAAQ3C,UAAY2C,EAAQ5C,KAAM,CACrC,IAAIic,EAAYrZ,EAAQ5C,KAAK9G,QAAQ,KACjC+iB,EAAY,EACdrZ,EAAQ3C,SAAW2C,EAAQ5C,MAG3B4C,EAAQ3C,SAAW2C,EAAQ5C,KAAKkc,UAAU,EAAGD,GAC7CrZ,EAAQuS,OAASvS,EAAQ5C,KAAKkc,UAAUD,GAE5C,CACF,EAIAzD,EAAoB1X,UAAUuY,gBAAkB,WAE9C,IAAI9S,EAAW3H,KAAK+Z,SAASpS,SACzBkT,EAAiB7a,KAAK+Z,SAASa,gBAAgBjT,GACnD,GAAKkT,EAAL,CAOA,GAAI7a,KAAK+Z,SAAS3R,OAAQ,CACxB,IAAIlE,EAASyD,EAAS1G,MAAM,GAAI,GAChCjB,KAAK+Z,SAAShS,MAAQ/H,KAAK+Z,SAAS3R,OAAOlE,EAC7C,CAGA,IAAI5D,EAAUN,KAAKsc,gBACbzB,EAAeva,QAAQN,KAAK+Z,SAAU/Z,KAAKua,mBAEjD,IAAK,IAAItB,KADT3Y,EAAQ+Y,cAAgBrZ,KACN+Y,GAChBzY,EAAQ6J,GAAG8O,EAAOD,EAAcC,IAalC,GARAjZ,KAAKud,YAAc,MAAMrY,KAAKlF,KAAK+Z,SAAS3Y,MAC1C3B,EAAI+d,OAAOxd,KAAK+Z,UAGhB/Z,KAAK+Z,SAAS3Y,KAIZpB,KAAKyd,YAAa,CAEpB,IAAI7b,EAAI,EACJ0Y,EAAOta,KACP0d,EAAU1d,KAAKqa,qBAClB,SAASsD,EAAU1gB,GAGlB,GAAIqD,IAAYga,EAAKgC,gBAGnB,GAAIrf,EACFqd,EAAKhB,KAAK,QAASrc,QAGhB,GAAI2E,EAAI8b,EAAQ9iB,OAAQ,CAC3B,IAAIgZ,EAAS8J,EAAQ9b,KAEhBtB,EAAQsd,UACXtd,EAAQ2U,MAAMrB,EAAOnZ,KAAMmZ,EAAO2I,SAAUoB,EAEhD,MAESrD,EAAKN,QACZ1Z,EAAQgL,KAGd,CAtBA,EAuBF,CAvDA,MAFEtL,KAAKsZ,KAAK,QAAS,IAAIjX,UAAU,wBAA0BsF,GA0D/D,EAGAiS,EAAoB1X,UAAUsY,iBAAmB,SAAU/Z,GAEzD,IAAIiJ,EAAajJ,EAASiJ,WACtB1J,KAAK+Z,SAAS8D,gBAChB7d,KAAKma,WAAWlX,KAAK,CACnBxD,IAAKO,KAAKud,YACV5c,QAASF,EAASE,QAClB+I,WAAYA,IAYhB,IAAIvD,EAAW1F,EAASE,QAAQwF,SAChC,IAAKA,IAA8C,IAAlCnG,KAAK+Z,SAAS+D,iBAC3BpU,EAAa,KAAOA,GAAc,IAOpC,OANAjJ,EAASsd,YAAc/d,KAAKud,YAC5B9c,EAASud,UAAYhe,KAAKma,WAC1Bna,KAAKsZ,KAAK,WAAY7Y,QAGtBT,KAAKqa,oBAAsB,IAW7B,GANA+B,EAAapc,KAAKsc,iBAElB7b,EAAS6J,YAIHtK,KAAKka,eAAiBla,KAAK+Z,SAAS3Q,aACxCpJ,KAAKsZ,KAAK,QAAS,IAAIG,OADzB,CAMA,IAAI9N,EACAlF,EAAiBzG,KAAK+Z,SAAStT,eAC/BA,IACFkF,EAAiBjS,OAAOyhB,OAAO,CAE7B4D,KAAMte,EAAS6I,IAAI0V,UAAU,SAC5Bhf,KAAK+Z,SAASpZ,UAOnB,IAAI5C,EAASiC,KAAK+Z,SAAShc,SACP,MAAf2L,GAAqC,MAAfA,IAAgD,SAAzB1J,KAAK+Z,SAAShc,QAK5C,MAAf2L,IAAwB,iBAAiBxE,KAAKlF,KAAK+Z,SAAShc,WAC/DiC,KAAK+Z,SAAShc,OAAS,MAEvBiC,KAAKqa,oBAAsB,GAC3BuB,EAAsB,aAAc5b,KAAK+Z,SAASpZ,UAIpD,IASIsd,EATAC,EAAoBtC,EAAsB,UAAW5b,KAAK+Z,SAASpZ,SAGnEwd,EAAkB1e,EAAIsB,MAAMf,KAAKud,aACjCa,EAAcF,GAAqBC,EAAgB9X,KACnDgY,EAAa,QAAQnZ,KAAKiB,GAAYnG,KAAKud,YAC7C9d,EAAI+d,OAAO9jB,OAAOyhB,OAAOgD,EAAiB,CAAE9X,KAAM+X,KAIpD,IACEH,EAAcxe,EAAIuH,QAAQqX,EAAYlY,EAKxC,CAHA,MAAO+V,GAEL,YADAlc,KAAKsZ,KAAK,QAAS,IAAIC,EAAiB,CAAE2C,MAAOA,IAEnD,CAGAvD,EAAM,iBAAkBsF,GACxBje,KAAKyd,aAAc,EACnB,IAAIa,EAAmB7e,EAAIsB,MAAMkd,GAajC,GAZAvkB,OAAOyhB,OAAOnb,KAAK+Z,SAAUuE,IAIzBA,EAAiB3W,WAAawW,EAAgBxW,UACjB,WAA9B2W,EAAiB3W,UACjB2W,EAAiBjY,OAAS+X,IA0K/B,SAAqBG,EAAWpJ,GAC9B2D,EAAOvR,EAASgX,IAAchX,EAAS4N,IACvC,IAAIqJ,EAAMD,EAAU3jB,OAASua,EAAOva,OAAS,EAC7C,OAAO4jB,EAAM,GAAwB,MAAnBD,EAAUC,IAAgBD,EAAUE,SAAStJ,EACjE,CA7KMuJ,CAAYJ,EAAiBjY,KAAM+X,KACrCxC,EAAsB,8BAA+B5b,KAAK+Z,SAASpZ,SAIjEmX,EAAWrR,GAAiB,CAC9B,IAAIkY,EAAkB,CACpBhe,QAASF,EAASE,QAClB+I,WAAYA,GAEVuV,EAAiB,CACnBxf,IAAK4e,EACLtgB,OAAQA,EACR4C,QAASgL,GAEX,IACElF,EAAezG,KAAK+Z,SAAU4E,EAAiBM,EAKjD,CAHA,MAAO/b,GAEL,YADAlD,KAAKsZ,KAAK,QAASpW,EAErB,CACAlD,KAAK8Z,iBAAiB9Z,KAAK+Z,SAC7B,CAGA,IACE/Z,KAAKya,iBAIP,CAFA,MAAOyB,GACLlc,KAAKsZ,KAAK,QAAS,IAAIC,EAAiB,CAAE2C,MAAOA,IACnD,CA1FA,CA2FF,EA4JA/W,EAAOvL,QAAU8gB,EAAK,CAAElV,KAAMA,EAAMC,MAAOA,IAC3CN,EAAOvL,QAAQ8gB,KAAOA,C,oCC3mBtB,IAAIwE,EAAmBlf,MAAQA,KAAKkf,kBAAqBxlB,OAAOyU,OAAS,SAAUgR,EAAGC,EAAGC,EAAGC,QAC7E9e,IAAP8e,IAAkBA,EAAKD,GAC3B,IAAI7H,EAAO9d,OAAO6lB,yBAAyBH,EAAGC,GACzC7H,KAAS,QAASA,GAAQ4H,EAAExjB,WAAa4b,EAAK8D,UAAY9D,EAAK6D,gBAClE7D,EAAO,CAAEnc,YAAY,EAAMC,IAAK,WAAa,OAAO8jB,EAAEC,EAAI,IAE5D3lB,OAAOC,eAAewlB,EAAGG,EAAI9H,EAChC,EAAI,SAAU2H,EAAGC,EAAGC,EAAGC,QACT9e,IAAP8e,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACb,GACGG,EAAgBxf,MAAQA,KAAKwf,cAAiB,SAASJ,EAAGxlB,GAC1D,IAAK,IAAI6lB,KAAKL,EAAa,YAANK,GAAoB/lB,OAAOwI,UAAU8V,eAAe7V,KAAKvI,EAAS6lB,IAAIP,EAAgBtlB,EAASwlB,EAAGK,EAC3H,EACA/lB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8lB,gBAAkB9lB,EAAQ+lB,wBAAqB,EACvDH,EAAa,EAAQ,MAAuB5lB,GAC5C,MAAMgmB,EAAU,EAAQ,MAIxB,MAAMD,UAA2BC,EAAQC,WACrChgB,YAAYigB,GACRC,QACA/f,KAAK8f,SAAWA,CACpB,CACIE,cAIA,OAHKhgB,KAAKigB,WACNjgB,KAAKigB,SAAWC,cAAcC,iBAAiBngB,KAAK8f,WAEjD9f,KAAKigB,QAChB,CACIG,UAIA,OAHKpgB,KAAKqgB,OACNrgB,KAAKqgB,KAAOH,cAAcI,gBAAgBtgB,KAAK8f,WAE5C9f,KAAKqgB,IAChB,CACI5I,cAIA,OAHKzX,KAAKugB,WACNvgB,KAAKugB,SAAWL,cAAcM,iBAAiBxgB,KAAK8f,WAEjD9f,KAAKugB,QAChB,CACArgB,wBAAwBzF,EAAMgmB,GAC1B,OAAOC,aAAaC,kBAAkBlmB,EAAMgmB,EAAU,CAClDG,SAAU5gB,KAAKiR,IAEvB,CACA4P,sBAAsBC,GAClB,MAAoC,iBAAzBA,EAAYF,SACZ5gB,KAAKyX,QACTyI,cAAca,gBAAgBD,EAAYF,SAAU5gB,KAAK8f,SACpE,CACAkB,uBACShhB,KAAKihB,eACFjhB,KAAK8f,SACL9f,KAAKihB,aAAef,cAAcgB,eAAelhB,KAAK8f,UAGtD9f,KAAKihB,aAAef,cAAcgB,iBAG9C,CAIAC,cAAcC,EAAgBC,GAC1B,OAAOnB,cAAciB,cAAcnhB,KAAK8f,SAAUsB,EAAgBC,EACtE,EAEJznB,EAAQ+lB,mBAAqBA,EAI7B,MAAMD,UAAwBE,EAAQC,WAClChgB,YAAYmE,GACR+b,QACA/f,KAAKshB,WAAa,IAAIC,IACtBvhB,KAAK8f,SAAW0B,cAAcC,cAAczhB,KAAKiR,KAAK6O,SACtD9f,KAAK0hB,YAAc1d,EAAQ0d,YAC3B1hB,KAAK2hB,sBAAwB3d,EAAQ2d,sBACrC3hB,KAAK4hB,mBAAqB5d,EAAQ4d,mBAClC5hB,KAAKihB,aAAejd,EAAQ6d,iBAKxB7hB,KAAKihB,aAAaa,iCAAmC5B,cAAc6B,mBAAqD,iBAAzB/hB,KAAKihB,aAAahQ,KACjHjR,KAAKihB,aAAef,cAAc6B,kBAAkB/hB,KAAKihB,aAAahQ,GAAIjR,KAAKihB,aAAae,WAEhGhiB,KAAKiiB,sBAAwBje,EAAQie,qBACzC,CACIjC,cACA,IAAKhgB,KAAKigB,SAAU,CAChB,MAAM2B,EAAqB5hB,KAAK4hB,mBAC1BM,EAAkBliB,KAAKiR,IAAM2Q,EAAqB,IAAMA,EAAqB,IACnF5hB,KAAKigB,SAAWC,cAAciC,gBAAgBD,EAAiBliB,KAAKiiB,sBACxE,CACA,OAAOjiB,KAAKigB,QAChB,CACIxI,cAOA,OANKzX,KAAKugB,WACFL,cAAca,gBACd/gB,KAAKugB,SAAWL,cAAca,gBAAgB/gB,KAAKiR,GAAIjR,KAAKiiB,uBAE5DjiB,KAAKugB,SAAWL,cAAcM,iBAAiBxgB,KAAKiiB,wBAErDjiB,KAAKugB,QAChB,CACArgB,wBAAwBzF,EAAMgmB,GAC1B,OAAOC,aAAaC,kBAAkBlmB,EAAMgmB,EAAU,CAClDG,SAAU5gB,KAAKiR,IAEvB,CACA4P,sBAAsBC,GAClB,MAAoC,iBAAzBA,EAAYF,SACZ5gB,KAAKyX,QACTyI,cAAca,gBAAgBD,EAAYF,SAAU5gB,KAAKiiB,sBACpE,CAIAd,cAAcC,EAAgBC,GAC1B,OAAOnB,cAAckC,aAAapiB,KAAKiR,GAAIjR,KAAMohB,EAAgBC,EACrE,CACAL,uBACA,CACAqB,eAAeC,GACXtiB,KAAKshB,WAAWiB,IAAID,EACxB,CACAE,UACI,IAAK,MAAMzK,KAAK/X,KAAKshB,WACjBvJ,EAAEsE,gBAEV,EAEJziB,EAAQ8lB,gBAAkBA,EAC1B,WACI,SAAS+C,EAAgBC,GACrB,OAAO,WAEH,OADA1iB,KAAKghB,uBACEhhB,KAAKihB,eAAeyB,EAC/B,CACJ,CACA,SAASC,EAAgBD,GACrB,OAAO,SAAU7oB,GACbmG,KAAKghB,uBACAhhB,KAAKihB,aAGNjhB,KAAKihB,aAAayB,GAAS7oB,EAF3B4d,QAAQC,KAAK,kKAGrB,CACJ,CACA,IAAK,MAAMkL,KAASlpB,OAAO+J,OAAOmc,EAAQiD,2BAClCD,IAAUhD,EAAQiD,0BAA0B/C,WAEhDpmB,OAAOC,eAAegmB,EAAmBzd,UAAW0gB,EAAO,CACvDE,IAAKH,EAAgBC,GACrBtnB,IAAKmnB,EAAgBG,KAEzBlpB,OAAOC,eAAe+lB,EAAgBxd,UAAW0gB,EAAO,CACpDE,IAAKH,EAAgBC,GACrBtnB,IAAKmnB,EAAgBG,KAGhC,CA5BD,GA6BA,IAAIG,EAAM,CAAC,EACX,IACI,IAAIC,EACJ,IACIA,EAAaC,gBAGjB,CADA,MAAO9O,GACP,CACA4O,EAAMrpB,OAAOyhB,OAAO4H,EAAK,CACrB3C,IAAKF,cAAcI,qBAAgB9f,GACnC0f,cACAgD,gBACAxC,aACAc,cACA2B,iBACGH,IAEP,IACIxB,cAAc4B,kCAAkCxD,EAAQyD,cAAezD,EAAQ0D,+BAA+BC,OAAM,QAGxH,CADA,MAAOpP,GACP,CAIJ,CAFA,MAAOA,GACHsD,QAAQxa,MAAM,mFAAoFkX,EACtG,CACAva,EAAA,QAAkBmpB,C,4BCjMlBrpB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4pB,kBAAoB5pB,EAAQ6pB,kBAAoB7pB,EAAQ8pB,iBAAmB9pB,EAAQ+pB,0BAA4B/pB,EAAQgqB,mBAAqBhqB,EAAQiqB,WAAajqB,EAAQkqB,YAAclqB,EAAQmqB,UAAYnqB,EAAQoqB,oBAAsBpqB,EAAQqqB,eAAiBrqB,EAAQsqB,gBAAkBtqB,EAAQuqB,QAAUvqB,EAAQwqB,aAAexqB,EAAQyqB,mBAAqBzqB,EAAQ0pB,6BAA+B1pB,EAAQ0qB,wBAA0B1qB,EAAQipB,0BAA4BjpB,EAAQimB,WAAajmB,EAAQypB,mBAAgB,EACpgBzpB,EAAQypB,cAAgB,SAGxBzpB,EAAQimB,WAFR,QAIA,SAAWgD,GACPA,EAA8B,GAAI,KAClCA,EAAgC,KAAI,OACpCA,EAAsC,WAAI,aAC1CA,EAAkC,OAAI,SACtCA,EAAgC,KAAI,OACpCA,EAAoC,SAAI,WACxCA,EAAoC,SAAI,WACxCA,EAA8C,mBAAI,qBAClDA,EAAwC,aAAI,eAC5CA,EAAwC,aAAI,eAC5CA,EAAwC,aAAI,eAC5CA,EAAsC,WAAI,aAC1CA,EAAgC,KAAI,OACpCA,EAAgC,KAAI,OACpCA,EAA8B,GAAI,KAClCA,EAAsC,WAAI,aAC1CA,EAA4C,iBAAI,mBAChDA,EAA+B,IAAI,MACnCA,EAA+B,IAAI,MACnCA,EAAmC,QAAI,UACvCA,EAAkC,OAAI,SACtCA,EAAkC,OAAI,SACtCA,EAA8C,mBAAI,qBAClDA,EAAgD,qBAAI,uBACpDA,EAAoD,yBAAI,2BACxDA,EAA0C,eAAI,iBAC9CA,EAA8C,mBAAI,qBAClDA,EAAkD,uBAAI,yBACtDA,EAAiD,sBAAI,wBACrDA,EAAuC,YAAI,cAC3CA,EAA2C,gBAAI,kBAC/CA,EAAoC,SAAI,WACxCA,EAA2C,gBAAI,kBAC/CA,EAAqC,UAAI,YACzCA,EAAqC,UAAI,YACzCA,EAAwC,aAAI,eAC5CA,EAAuC,YAAI,cAC3CA,EAAkC,OAAI,SACtCA,EAAwC,aAAI,eAC5CA,EAAsC,WAAI,aAC1CA,EAAuC,YAAI,cAC3CA,EAAoC,SAAI,WACxCA,EAAyC,cAAI,gBAC7CA,EAAyC,cAAI,gBAC7CA,EAA0C,eAAI,iBAC9CA,EAAwC,aAAI,eAC5CA,EAAoC,SAAI,WACxCA,EAAmC,QAAI,UACvCA,EAAuC,YAAI,cAC3CA,EAAqC,UAAI,YACzCA,EAAoC,SAAI,WACxCA,EAA+C,oBAAI,sBACnDA,EAAuC,YAAI,cAC3CA,EAAuC,YAAI,cAC3CA,EAAsC,WAAI,aAC1CA,EAAsC,WAAI,aAC1CA,EAAkC,OAAI,SACtCA,EAAsC,WAAI,aAC1CA,EAA2C,gBAAI,kBAC/CA,EAA+B,IAAI,MACnCA,EAA2C,gBAAI,iBAClD,CA9DD,CA8D+BjpB,EAAQipB,4BAA8BjpB,EAAQipB,0BAA4B,CAAC,IAE1G,SAAWyB,GACPA,EAAgC,OAAI,SACpCA,EAA+B,MAAI,QACnCA,EAAmC,UAAI,YACvCA,EAAiC,QAAI,UACrCA,EAAiC,QAAI,UACrCA,EAAiC,QAAI,UACrCA,EAAuC,cAAI,gBAC3CA,EAAiC,QAAI,UACrCA,EAAgC,OAAI,SACpCA,EAAuC,cAAI,gBAC3CA,EAA4C,mBAAI,qBAChDA,EAA4C,mBAAI,qBAChDA,EAA6C,oBAAI,sBACjDA,EAAgC,OAAI,SACpCA,EAAgC,OAAI,SACpCA,EAA0C,iBAAI,mBAC9CA,EAA+B,MAAI,QACnCA,EAA8B,KAAI,OAClCA,EAA+B,MAAI,QACnCA,EAAgC,OAAI,SACpCA,EAA8B,KAAI,OAClCA,EAAwC,eAAI,iBAC5CA,EAA2C,kBAAI,oBAC/CA,EAA+C,sBAAI,wBACnDA,EAAmD,0BAAI,4BACvDA,EAAkD,yBAAI,2BACtDA,EAA4C,mBAAI,qBAChDA,EAA2C,kBAAI,oBAC/CA,EAAqC,YAAI,cACzCA,EAAwC,eAAI,iBAC5CA,EAAsC,aAAI,eAC1CA,EAAqC,YAAI,cACzCA,EAAwC,eAAI,iBAC5CA,EAA+C,sBAAI,wBACnDA,EAA4C,mBAAI,qBAChDA,EAAuD,8BAAI,gCAC3DA,EAAmD,0BAAI,4BACvDA,EAAqD,4BAAI,8BACzDA,EAAoC,WAAI,aACxCA,EAA2C,kBAAI,oBAC/CA,EAAsC,aAAI,eAC1CA,EAA+C,sBAAI,wBACnDA,EAAuC,cAAI,gBAC3CA,EAA0C,iBAAI,mBAC9CA,EAA+C,sBAAI,wBACnDA,EAAuC,cAAI,gBAC3CA,EAAsC,aAAI,eAC1CA,EAA8B,KAAI,OAClCA,EAAgC,OAAI,SACpCA,EAAqC,YAAI,cACzCA,EAAsC,aAAI,eAC1CA,EAAwC,eAAI,iBAC5CA,EAAkC,SAAI,WACtCA,EAAoC,WAAI,aACxCA,EAAsC,aAAI,eAC1CA,EAAoC,WAAI,aACxCA,EAAmC,UAAI,YACvCA,EAAmC,UAAI,YACvCA,EAAuC,cAAI,gBAC3CA,EAAqC,YAAI,cACzCA,EAAyC,gBAAI,kBAC7CA,EAAsC,aAAI,eAC1CA,EAAiD,wBAAI,0BACrDA,EAA6C,oBAAI,sBACjDA,EAAiC,QAAI,UACrCA,EAAwC,eAAI,iBAC5CA,EAA8B,KAAI,OAClCA,EAA8B,KAAI,OAClCA,EAAkC,SAAI,WACtCA,EAAsC,aAAI,eAC1CA,EAAiC,QAAI,UACrCA,EAAqC,YAAI,cACzCA,EAAoC,WAAI,aACxCA,EAA2C,kBAAI,oBAC/CA,EAA8C,qBAAI,uBAClDA,EAA2C,kBAAI,oBAC/CA,EAAqC,YAAI,cACzCA,EAAyC,gBAAI,kBAC7CA,EAAkC,SAAI,WACtCA,EAAkC,SAAI,WACtCA,EAAsC,aAAI,eAC1CA,EAAmC,UAAI,YACvCA,EAAsC,aAAI,eAC1CA,EAAgC,OAAI,SACpCA,EAA6B,IAAI,MACjCA,EAA8B,KAAI,OAClCA,EAAqC,YAAI,cACzCA,EAAoC,WAAI,aACxCA,EAAsC,aAAI,eAC1CA,EAA2C,kBAAI,oBAC/CA,EAAwC,eAAI,iBAC5CA,EAAuC,cAAI,gBAC3CA,EAAkD,yBAAI,2BACtDA,EAA2C,kBAAI,oBAC/CA,EAAqC,YAAI,cACzCA,EAAgC,OAAI,SACpCA,EAAkD,yBAAI,2BACtDA,EAAmD,0BAAI,4BACvDA,EAAsD,6BAAI,+BAC1DA,EAA6C,oBAAI,qBACpD,CArGD,CAqG6B1qB,EAAQ0qB,0BAA4B1qB,EAAQ0qB,wBAA0B,CAAC,IACpG1qB,EAAQ0pB,6BAA+B,CACnCiB,eAAgB,CACZrlB,KAAM,iBACNslB,QAAS,CACL,SACA,QACA,YACA,UACA,UACA,WAEJ1F,WAAY,CACR,KACA,OACA,aACA,SACA,OACA,WACA,WACA,qBACA,eACA,eACA,eACA,aACA,OACA,SAGR2F,eAAgB,CACZvlB,KAAM,iBACNslB,QAAS,CACL,iBAEJ1F,WAAY,IAEhB4F,MAAO,CACHxlB,KAAM,QACNslB,QAAS,CACL,UACA,UAEJ1F,WAAY,CACR,OAGR6F,WAAY,CACRzlB,KAAM,aACNslB,QAAS,CACL,iBAEJ1F,WAAY,CACR,eAGR8F,wBAAyB,CACrB1lB,KAAM,0BACNslB,QAAS,CACL,qBACA,qBACA,uBAEJ1F,WAAY,CACR,qBAGR+F,gBAAiB,CACb3lB,KAAM,kBACNslB,QAAS,CACL,UAEJ1F,WAAY,CACR,QAGRgG,gBAAiB,CACb5lB,KAAM,kBACNslB,QAAS,CACL,UAEJ1F,WAAY,CACR,QAGRiG,SAAU,CACN7lB,KAAM,WACNslB,QAAS,CACL,oBAEJ1F,WAAY,IAEhBkG,UAAW,CACP9lB,KAAM,YACNslB,QAAS,CACL,QACA,QAEJ1F,WAAY,CACR,YAGRmG,MAAO,CACH/lB,KAAM,QACNslB,QAAS,CACL,QACA,UAEJ1F,WAAY,CACR,WAGRoG,KAAM,CACFhmB,KAAM,OACNslB,QAAS,CACL,QAEJ1F,WAAY,CACR,WAGRqG,mBAAoB,CAChBjmB,KAAM,qBACNslB,QAAS,CACL,iBACA,oBACA,wBACA,4BACA,4BAEJ1F,WAAY,CACR,qBACA,uBACA,2BACA,iBACA,qBACA,yBACA,0BAGRsG,YAAa,CACTlmB,KAAM,cACNslB,QAAS,CACL,sBAEJ1F,WAAY,CACR,cACA,oBAGRuG,eAAgB,CACZnmB,KAAM,iBACNslB,QAAS,GACT1F,WAAY,CACR,aAGRwG,OAAQ,CACJpmB,KAAM,SACNslB,QAAS,CACL,oBACA,eAEJ1F,WAAY,IAEhByG,WAAY,CACRrmB,KAAM,aACNslB,QAAS,CACL,kBAEJ1F,WAAY,IAEhB0G,QAAS,CACLtmB,KAAM,UACNslB,QAAS,CACL,eACA,eAEJ1F,WAAY,IAEhB2G,YAAa,CACTvmB,KAAM,cACNslB,QAAS,CACL,iBACA,yBAEJ1F,WAAY,IAEhB4G,cAAe,CACXxmB,KAAM,gBACNslB,QAAS,CACL,qBACA,gCACA,4BACA,+BAEJ1F,WAAY,IAEhB6G,YAAa,CACTzmB,KAAM,cACNslB,QAAS,CACL,cAEJ1F,WAAY,CACR,oBAGR8G,cAAe,CACX1mB,KAAM,gBACNslB,QAAS,CACL,qBAEJ1F,WAAY,IAEhB+G,WAAY,CACR3mB,KAAM,aACNslB,QAAS,CACL,eACA,wBACA,gBACA,oBAEJ1F,WAAY,IAEhBgH,yBAA0B,CACtB5mB,KAAM,2BACNslB,QAAS,CACL,yBAEJ1F,WAAY,IAEhBiH,SAAU,CACN7mB,KAAM,WACNslB,QAAS,CACL,gBACA,gBAEJ1F,WAAY,IAEhBkH,KAAM,CACF9mB,KAAM,OACNslB,QAAS,CACL,OACA,UAEJ1F,WAAY,CACR,cAGRmH,cAAe,CACX/mB,KAAM,gBACNslB,QAAS,CACL,cACA,eACA,kBAEJ1F,WAAY,IAEhBoH,MAAO,CACHhnB,KAAM,QACNslB,QAAS,CACL,WACA,aACA,gBAEJ1F,WAAY,IAEhBqH,MAAO,CACHjnB,KAAM,QACNslB,QAAS,CACL,aACA,aAEJ1F,WAAY,IAEhBsH,YAAa,CACTlnB,KAAM,cACNslB,QAAS,GACT1F,WAAY,CACR,cAGRuH,eAAgB,CACZnnB,KAAM,iBACNslB,QAAS,CACL,YACA,iBAEJ1F,WAAY,IAEhBwH,gBAAiB,CACbpnB,KAAM,kBACNslB,QAAS,CACL,cACA,mBAEJ1F,WAAY,IAEhByH,cAAe,CACXrnB,KAAM,gBACNslB,QAAS,CACL,eACA,2BAEJ1F,WAAY,IAEhB0H,QAAS,CACLtnB,KAAM,UACNslB,QAAS,GACT1F,WAAY,CACR,iBAGR2H,QAAS,CACLvnB,KAAM,UACNslB,QAAS,GACT1F,WAAY,CACR,gBAGR4H,QAAS,CACLxnB,KAAM,UACNslB,QAAS,CACL,sBACA,WAEJ1F,WAAY,IAEhB6H,YAAa,CACTznB,KAAM,cACNslB,QAAS,CACL,iBACA,OACA,OACA,WACA,gBAEJ1F,WAAY,IAEhB8H,OAAQ,CACJ1nB,KAAM,SACNslB,QAAS,GACT1F,WAAY,CACR,WAGR+H,gBAAiB,CACb3nB,KAAM,kBACNslB,QAAS,CACL,WAEJ1F,WAAY,CACR,eACA,eAGRgI,SAAU,CACN5nB,KAAM,WACNslB,QAAS,CACL,cACA,cAEJ1F,WAAY,IAEhBiI,aAAc,CACV7nB,KAAM,eACNslB,QAAS,GACT1F,WAAY,CACR,gBAGRkI,aAAc,CACV9nB,KAAM,eACNslB,QAAS,GACT1F,WAAY,CACR,aAGRmI,YAAa,CACT/nB,KAAM,cACNslB,QAAS,GACT1F,WAAY,CACR,kBAGRoI,YAAa,CACThoB,KAAM,cACNslB,QAAS,GACT1F,WAAY,CACR,kBAGRqI,aAAc,CACVjoB,KAAM,eACNslB,QAAS,GACT1F,WAAY,CACR,mBAGRsI,mBAAoB,CAChBloB,KAAM,qBACNslB,QAAS,GACT1F,WAAY,CACR,iBAGRuI,gBAAiB,CACbnoB,KAAM,kBACNslB,QAAS,GACT1F,WAAY,CACR,aAGRwI,YAAa,CACTpoB,KAAM,cACNslB,QAAS,GACT1F,WAAY,CACR,YAGRyI,kBAAmB,CACfroB,KAAM,oBACNslB,QAAS,GACT1F,WAAY,CACR,gBAGR0I,gBAAiB,CACbtoB,KAAM,kBACNslB,QAAS,GACT1F,WAAY,CACR,cAGR2I,eAAgB,CACZvoB,KAAM,iBACNslB,QAAS,GACT1F,WAAY,CACR,aAGR4I,eAAgB,CACZxoB,KAAM,iBACNslB,QAAS,CACL,oBACA,wBAEJ1F,WAAY,CACR,wBAGR6I,WAAY,CACRzoB,KAAM,aACNslB,QAAS,GACT1F,WAAY,CACR,gBAGR8I,WAAY,CACR1oB,KAAM,aACNslB,QAAS,GACT1F,WAAY,CACR,gBAGR+I,UAAW,CACP3oB,KAAM,YACNslB,QAAS,GACT1F,WAAY,CACR,eAGRgJ,UAAW,CACP5oB,KAAM,YACNslB,QAAS,GACT1F,WAAY,CACR,eAGRiJ,UAAW,CACP7oB,KAAM,YACNslB,QAAS,GACT1F,WAAY,CACR,WAGRkJ,iBAAkB,CACd9oB,KAAM,mBACNslB,QAAS,GACT1F,WAAY,CACR,eAGRmJ,OAAQ,CACJ/oB,KAAM,SACNslB,QAAS,CACL,qBAEJ1F,WAAY,IAEhBoJ,YAAa,CACThpB,KAAM,cACNslB,QAAS,CACL,cACA,mBAEJ1F,WAAY,IAEhBqJ,cAAe,CACXjpB,KAAM,gBACNslB,QAAS,CACL,WACA,WACA,gBAEJ1F,WAAY,IAEhBsJ,mBAAoB,CAChBlpB,KAAM,qBACNslB,QAAS,CACL,aAEJ1F,WAAY,IAEhBuJ,gBAAiB,CACbnpB,KAAM,kBACNslB,QAAS,CACL,gBAEJ1F,WAAY,IAEhBwJ,YAAa,CACTppB,KAAM,cACNslB,QAAS,CACL,UAEJ1F,WAAY,IAEhByJ,QAAS,CACLrpB,KAAM,UACNslB,QAAS,CACL,OAEJ1F,WAAY,IAEhB0J,WAAY,CACRtpB,KAAM,aACNslB,QAAS,CACL,OACA,cACA,cAEJ1F,WAAY,IAEhB2J,cAAe,CACXvpB,KAAM,gBACNslB,QAAS,CACL,gBAEJ1F,WAAY,IAEhB4J,eAAgB,CACZxpB,KAAM,iBACNslB,QAAS,CACL,oBACA,kBAEJ1F,WAAY,IAEhB6J,gBAAiB,CACbzpB,KAAM,kBACNslB,QAAS,CACL,gBACA,2BACA,qBAEJ1F,WAAY,IAEhB8J,gBAAiB,CACb1pB,KAAM,kBACNslB,QAAS,CACL,eAEJ1F,WAAY,CACR,oBAGR+J,IAAK,CACD3pB,KAAM,MACNslB,QAAS,CACL,UAEJ1F,WAAY,CACR,QAGRgK,oBAAqB,CACjB5pB,KAAM,sBACNslB,QAAS,CACL,4BAEJ1F,WAAY,IAEhBiK,mBAAoB,CAChB7pB,KAAM,qBACNslB,QAAS,CACL,6BAEJ1F,WAAY,IAEhBkK,oBAAqB,CACjB9pB,KAAM,sBACNslB,QAAS,GACT1F,WAAY,CACR,oBAGRmK,aAAc,CACV/pB,KAAM,eACNslB,QAAS,CACL,gCAEJ1F,WAAY,IAEhBoK,oBAAqB,CACjBhqB,KAAM,sBACNslB,QAAS,CACL,uBAEJ1F,WAAY,KAOpB,SAAWuF,GACPA,EAA4B,QAAI,UAChCA,EAA2B,OAAI,SAC/BA,EAAwB,IAAI,MAC5BA,EAA0B,MAAI,QAC9BA,EAA2B,OAAI,SAC/BA,EAA2B,OAAI,SAC/BA,EAA2B,OAAI,SAC/BA,EAA0B,MAAI,QAC9BA,EAA4B,QAAI,UAChCA,EAA+B,WAAI,aACnCA,EAA2B,OAAI,SAC/BA,EAA6B,SAAI,WACjCA,EAA+B,WAAI,aACnCA,EAAyB,KAAI,OAC7BA,EAAoC,gBAAI,kBAIxCA,EAA4B,QAAI,UAIhCA,EAAiC,aAAI,eACrCA,EAA4B,QAAI,UAIhCA,EAAiC,aAAI,eACrCA,EAA0B,MAAI,QAC9BA,EAA0B,MAAI,QAC9BA,EAA2B,OAAI,SAC/BA,EAAmC,eAAI,iBACvCA,EAA+B,WAAI,aACnCA,EAAwB,IAAI,MAC5BA,EAA6B,SAAI,WACjCA,EAA+B,WAAI,aACnCA,EAA0B,MAAI,QAC9BA,EAA2B,OAAI,SAC/BA,EAAmC,eAAI,iBACvCA,EAAmC,eAAI,iBACvCA,EAA0B,MAAI,QAC9BA,EAA4B,QAAI,SACnC,CA3CD,CA2CwBzqB,EAAQyqB,qBAAuBzqB,EAAQyqB,mBAAqB,CAAC,IAErF,SAAWD,GACPA,EAAuB,SAAI,WAC3BA,EAAyB,WAAI,aAC7BA,EAAmB,KAAI,OACvBA,EAAkB,IAAI,KACzB,CALD,CAKkBxqB,EAAQwqB,eAAiBxqB,EAAQwqB,aAAe,CAAC,IAEnE,SAAWD,GACPA,EAAc,KAAI,OAClBA,EAAgB,OAAI,QACvB,CAHD,CAGavqB,EAAQuqB,UAAYvqB,EAAQuqB,QAAU,CAAC,IAEpD,SAAWD,GACPA,EAAmB,EAAI,IACvBA,EAAmB,EAAI,GAC1B,CAHD,CAGqBtqB,EAAQsqB,kBAAoBtqB,EAAQsqB,gBAAkB,CAAC,IAE5E,SAAWD,GACPA,EAAoB,IAAI,MACxBA,EAAqB,KAAI,OACzBA,EAAqB,KAAI,OACzBA,EAAyB,SAAI,WAC7BA,EAAqB,KAAI,OACzBA,EAAwB,QAAI,UAC5BA,EAAyB,SAAI,WAC7BA,EAAoB,IAAI,MACxBA,EAAoB,IAAI,MACxBA,EAAmB,GAAI,IAC1B,CAXD,CAWoBrqB,EAAQqqB,iBAAmBrqB,EAAQqqB,eAAiB,CAAC,IAEzE,SAAWD,GACPA,EAA8B,SAAI,WAClCA,EAA8B,SAAI,UACrC,CAHD,CAGyBpqB,EAAQoqB,sBAAwBpqB,EAAQoqB,oBAAsB,CAAC,IAExF,SAAWD,GACPA,EAAkB,OAAI,SACtBA,EAAoB,SAAI,WACxBA,EAAkB,OAAI,QACzB,CAJD,CAIenqB,EAAQmqB,YAAcnqB,EAAQmqB,UAAY,CAAC,IAE1D,SAAWD,GACPA,EAAqB,QAAI,UACzBA,EAAsB,SAAI,WAC1BA,EAAyB,YAAI,cAChC,CAJD,CAIiBlqB,EAAQkqB,cAAgBlqB,EAAQkqB,YAAc,CAAC,IAEhE,SAAWD,GACPA,EAAoB,QAAI,UACxBA,EAAsB,UAAI,YAC1BA,EAAiB,KAAI,OACrBA,EAAiB,KAAI,OACrBA,EAAqB,SAAI,WACzBA,EAAiB,KAAI,MACxB,CAPD,CAOgBjqB,EAAQiqB,aAAejqB,EAAQiqB,WAAa,CAAC,IAE7D,SAAWD,GACPA,EAA6B,SAAI,WACjCA,EAA8B,UAAI,YAClCA,EAA8B,UAAI,YAClCA,EAA+B,WAAI,YACtC,CALD,CAKwBhqB,EAAQgqB,qBAAuBhqB,EAAQgqB,mBAAqB,CAAC,IAErF,SAAWD,GACPA,EAAkC,OAAI,SACtCA,EAAoC,SAAI,WACxCA,EAAgC,KAAI,OACpCA,EAAiC,MAAI,OACxC,CALD,CAK+B/pB,EAAQ+pB,4BAA8B/pB,EAAQ+pB,0BAA4B,CAAC,IAE1G,SAAWD,GACPA,EAAuB,KAAI,OAC3BA,EAA0B,QAAI,UAC9BA,EAAyB,OAAI,SAC7BA,EAA4B,UAAI,WACnC,CALD,CAKsB9pB,EAAQ8pB,mBAAqB9pB,EAAQ8pB,iBAAmB,CAAC,IAE/E,SAAWD,GACPA,EAAkC,eAAI,iBACtCA,EAAkC,eAAI,iBACtCA,EAAyB,MAAI,QAC7BA,EAA8B,WAAI,aAClCA,EAA2C,wBAAI,0BAC/CA,EAAmC,gBAAI,kBACvCA,EAAmC,gBAAI,kBACvCA,EAA4B,SAAI,WAChCA,EAA6B,UAAI,YACjCA,EAAyB,MAAI,QAC7BA,EAAwB,KAAI,OAC5BA,EAAsC,mBAAI,qBAC1CA,EAA+B,YAAI,cACnCA,EAAkC,eAAI,iBACtCA,EAA0B,OAAI,SAC9BA,EAA8B,WAAI,aAClCA,EAA2B,QAAI,UAC/BA,EAA+B,YAAI,cACnCA,EAAiC,cAAI,gBACrCA,EAA+B,YAAI,cACnCA,EAAiC,cAAI,gBACrCA,EAA8B,WAAI,aAClCA,EAA4C,yBAAI,2BAChDA,EAA4B,SAAI,WAChCA,EAAwB,KAAI,OAC5BA,EAAiC,cAAI,gBACrCA,EAAyB,MAAI,QAC7BA,EAAyB,MAAI,QAC7BA,EAA+B,YAAI,cACnCA,EAAkC,eAAI,iBACtCA,EAAmC,gBAAI,kBACvCA,EAAiC,cAAI,gBACrCA,EAA2B,QAAI,UAC/BA,EAA2B,QAAI,UAC/BA,EAA2B,QAAI,UAC/BA,EAA+B,YAAI,cACnCA,EAA0B,OAAI,SAC9BA,EAAmC,gBAAI,kBACvCA,EAA4B,SAAI,WAChCA,EAAgC,aAAI,eACpCA,EAAgC,aAAI,eACpCA,EAA+B,YAAI,cACnCA,EAA+B,YAAI,cACnCA,EAAgC,aAAI,eACpCA,EAAsC,mBAAI,qBAC1CA,EAAmC,gBAAI,kBACvCA,EAA+B,YAAI,cACnCA,EAAqC,kBAAI,oBACzCA,EAAmC,gBAAI,kBACvCA,EAAkC,eAAI,iBACtCA,EAAkC,eAAI,iBACtCA,EAA8B,WAAI,aAClCA,EAA8B,WAAI,aAClCA,EAA6B,UAAI,YACjCA,EAA6B,UAAI,YACjCA,EAA6B,UAAI,YACjCA,EAAoC,iBAAI,mBACxCA,EAA0B,OAAI,SAC9BA,EAA+B,YAAI,cACnCA,EAAiC,cAAI,gBACrCA,EAAsC,mBAAI,qBAC1CA,EAAmC,gBAAI,kBACvCA,EAA+B,YAAI,cACnCA,EAA2B,QAAI,UAC/BA,EAA8B,WAAI,aAClCA,EAAiC,cAAI,gBACrCA,EAAkC,eAAI,iBACtCA,EAAmC,gBAAI,kBACvCA,EAAmC,gBAAI,kBACvCA,EAAuB,IAAI,MAC3BA,EAAuC,oBAAI,sBAC3CA,EAAsC,mBAAI,qBAC1CA,EAAuC,oBAAI,sBAC3CA,EAAgC,aAAI,eACpCA,EAAuC,oBAAI,qBAC9C,CA5ED,CA4EuB7pB,EAAQ6pB,oBAAsB7pB,EAAQ6pB,kBAAoB,CAAC,IAElF,SAAWD,GACPA,EAAuB,IAAI,aAC3BA,EAAoC,iBAAI,4BACxCA,EAA4B,SAAI,mBAChCA,EAAgC,aAAI,uBACpCA,EAAgC,aAAI,gCACpCA,EAAkC,eAAI,mBACtCA,EAA+B,YAAI,qCACnCA,EAAsC,mBAAI,6CAC1CA,EAAsC,mBAAI,uCAC1CA,EAAuC,oBAAI,qCAC3CA,EAA+B,YAAI,4BACnCA,EAAyC,sBAAI,uCAC7CA,EAAuC,oBAAI,8CAC3CA,EAAuC,oBAAI,8CAC3CA,EAA2C,wBAAI,kDAC/CA,EAAyB,MAAI,6BAChC,CAjBD,CAiBuB5pB,EAAQ4pB,oBAAsB5pB,EAAQ4pB,kBAAoB,CAAC,G,+FCjgClF,+BACI,KAAA5F,UAAW,EAGX,KAAAzS,QAAsB,IAAItE,SAAQ,CAACG,EAASC,KACxCjH,KAAKgH,QAAU4N,IACX5U,KAAK4d,UAAW,EAChB5W,EAAQ4N,EAAE,EAEd5U,KAAKiH,OAASkN,IACVnU,KAAK4d,UAAW,EAChB3W,EAAOkN,EAAE,CACZ,GAET,E,qVCbA,gBACA,aAmBOjU,eAAeipB,EAAQC,EAAsBC,EAAiBC,GACjEF,EAAOzb,KAAK0b,EAASC,SACf,IAAAnM,MAAKiM,EAAQ,aACnB,MAAM9iB,EAAO8iB,EAAOE,UAAUhjB,KAC9B,MAAO,CACHA,OACA7G,IAAK,mBAAmB6G,IAEhC,CAMOpG,eAAeqpB,EAAeC,GACjC,OAAOC,EAAc,EAAGD,EAC5B,CAQOtpB,eAAeupB,EAAcJ,EAAiBG,GACjD,MAAMJ,EAAS,UAAMM,aAAaF,GAAc,SAC1C,KAAEljB,EAAI,IAAE7G,SAAc0pB,EAAQC,EAAQC,GAC5C,MAAO,CACHD,SACA9iB,OACA7G,MAER,CAjDA,aAAOS,eAA0B2c,GAC7B,GAAKA,EAEL,UACU,IAAIhW,SAAQ,CAAC8iB,EAAGC,KAClB,IACI/M,EAAOgN,MAAMF,E,CAEjB,MAAOxV,GACHyV,EAAEzV,E,KAId,MAAOA,G,CAEX,EAEA,YAUA,WAAOjU,eAAwBkpB,GAC3B,OAAOD,EAAQC,EAAQ,EAC3B,EAEA,mBAIA,iBAAOlpB,iBACH,MAAM4pB,QAAYP,IAElB,aADM,IAAI1iB,SAAQG,GAAW8iB,EAAIV,OAAOS,OAAM,IAAM7iB,OAAQxG,OACrDspB,EAAIxjB,IACf,EAEA,kBAUA,OAAOpG,eAAoBkpB,EAAsB9iB,GAG7C,OAFA8iB,EAAOzb,KAAKrH,SACN,IAAA6W,MAAKiM,EAAQ,aACZ,CACH9iB,OACA7G,IAAK,mBAAmB6G,IAEhC,EAEA,cAAS,4EAAAyjB,UAAU,IAAE,wFAAAC,sBAAsB,IAAE,oGAAAC,kCAAkC,G,ygBChE/E,Y,8MCKA,4BAAoCC,EAAmCnsB,EAA0BosB,EAAgB,GAC7G,GAAID,GAAI/e,QACJ,OAAO+e,EAEX,MAAM/e,EAAUpN,IAWhB,OAVKmsB,EAODA,EAAG/e,QAAUA,EANb+e,EAAK,CACD/e,UACAgf,iBAMRhf,EAAQif,SAAQ,IAAMtf,YAAW,IAAMof,EAAG/e,aAAU3K,GAAW0pB,EAAGC,iBAC3DD,CACX,EAEA,MAAaG,UAAwB9Y,MACjC1R,YAAmBsL,GACf4U,MAAM,uBADS,KAAA5U,QAAAA,CAEnB,EAHJ,iBAMA,0BAAkCR,EAAiBQ,GAC/C,OAAO,IAAItE,SAAW,CAACG,EAASC,KAC5B,MAAMqjB,EAAIxf,YAAW,IAAM7D,EAAO,IAAIojB,EAAalf,KAAWR,GAE9DQ,EACKC,MAAKwJ,IACFqI,aAAaqN,GACbtjB,EAAQ4N,EAAE,IAEb2O,OAAMpP,IACH8I,aAAaqN,GACbrjB,EAAOkN,EAAE,GACX,GAEd,EAEA,2BAAmCxJ,EAAiBif,GAChD,OAAO,IAAI/iB,SAAW,CAACG,EAASC,KAC5B,IAAIsjB,GAAa,EACjB,MAAMpf,EAAUye,GAAE,IAAMW,IAElBD,EAAIxf,YAAW,KACjByf,GAAa,EACbtjB,EAAO,IAAIojB,EAAalf,GAAS,GAClCR,GAEHQ,EACKC,MAAKwJ,IACFqI,aAAaqN,GACbtjB,EAAQ4N,EAAE,IAEb2O,OAAMpP,IACH8I,aAAaqN,GACbrjB,EAAOkN,EAAE,GACX,GAEd,EAEA,oCACI,IAAIqW,EAEJ,OAAQC,IACCD,IACDA,EAAUC,IAAOL,SAAQ,IAAMI,OAAUhqB,KACtCgqB,EAEf,EAEA,uCACI,MAAM5rB,EAAM,IAAI8rB,IAEhB,MAAO,CAACprB,EAAUmrB,KACd,MAAME,EAASzW,KAAKE,UAAU9U,GAC9B,IAAIzF,EAAQ+E,EAAItD,IAAIqvB,GAKpB,OAJK9wB,IACDA,EAAQ4wB,IAAOL,SAAQ,IAAMxrB,EAAIgsB,OAAOD,KACxC/rB,EAAIkkB,IAAI6H,EAAQ9wB,IAEbA,CAAK,CAEpB,C,6KCxFA,gBAEA,qBAAOqG,eAAkC2qB,EAAoB7mB,GAO3D,IAAI/G,EACJ,MAAM,WAAE6tB,EAAU,SAAEjU,GAAa7S,EAC3B+mB,EAAS/mB,EAAQ+mB,QAAU,EAC3BC,EAAehnB,EAAQgnB,cAAgB,EAI7C,IAAIjxB,EACAa,EAHJiwB,EAAS1gB,GAAG,SAASgK,GAAKlX,EAAQkX,IAIlC,IAAI8W,EAAY,EACZC,EAAY,EAEhB,MAAMC,EAAa,KACjBD,IACAje,GAAM,EAGFA,EAAO,KACX,OAAa,CACX,GAAIge,IAAcC,EAChB,OACF,GAAKnxB,EAWA,CACH,MAAMU,EAAOowB,EAAS5d,KAAKrS,GAC3B,IAAKH,EACH,OACFoc,EAAS9c,EAAQU,GACjBV,OAASyG,C,KAhBE,CAEX,GADAzG,EAAS8wB,EAAS5d,KAAK+d,IAClBjxB,EACH,OACF,GAAI+wB,IAAa/wB,EAAQoxB,GAAa,CACpCF,IACAlxB,OAASyG,EACT,Q,CAEF5F,EAASb,EAAOqxB,aAAaL,E,IAgBnC,MAJA9d,IACA4d,EAAS1gB,GAAG,WAAY8C,SAElB,IAAAkQ,MAAK0N,EAAU,OACf,IAAItZ,MAAM,eAClB,EAEA,MAAa8Z,UAAuB9Z,MAClC1R,cACEkgB,OACF,EAGK7f,eAAeorB,EAAWT,EAAoBjwB,GACnD,GAAIiwB,EAASU,eAAiBV,EAASW,UACrC,MAAM,IAAIja,MAAM,gBAElB,IAAK3W,EACH,OAAO6B,OAAOgvB,MAAM,GAGtB,CACE,MAAMC,EAAMb,EAAS5d,KAAKrS,GAC1B,GAAI8wB,EACF,OAAOA,C,CAIX,OAAO,IAAI7kB,SAAQ,CAACG,EAASC,KAC3B,MAAM0iB,EAAI,KACR,MAAM+B,EAAMb,EAAS5d,KAAKrS,GAC1B,GAAI8wB,EAGF,OAFAC,SACA3kB,EAAQ0kB,IAINb,EAASU,eAAiBV,EAASW,YACrCvkB,EAAO,IAAIsK,MAAM,4BAA4B,EAG3C4C,EAAI,KACRwX,IACA1kB,EAAO,IAAIokB,EAAiB,EAGxBM,EAAU,KACdd,EAASxO,eAAe,WAAYsN,GACpCkB,EAASxO,eAAe,MAAOlI,EAAE,EAGnC0W,EAAS1gB,GAAG,WAAYwf,GACxBkB,EAAS1gB,GAAG,MAAOgK,EAAE,GAEzB,CA/CA,mBAMA,eA2CA,MAAMyX,EAAmB,KAAKlT,WAAW,GAElCxY,eAAe2rB,EAAUhB,EAAoBiB,GAClD,MAAMrxB,EAAO,GACb,IAAIwF,EAAQ,EACZ,OAAa,CACX,MAAM2T,QAAe0X,EAAWT,EAAU,GAC1C,IAAKjX,EACH,MAAM,IAAIrC,MAAM,iBAClB,GAAIqC,EAAO,KAAOkY,EAChB,MACFrxB,EAAKwF,KAAW2T,EAAO,E,CAEzB,OAAOnX,OAAOC,KAAKjC,GAAMkC,UAC3B,CAZA,cAcA,WAAOuD,eAAwB2qB,GAC7B,OAAOgB,EAAUhB,EAAUe,EAC7B,EAEA,aAAO1rB,eAA0B2qB,GAC/B,IAAIpwB,EAAO,GAOX,OANAowB,QAAiBA,GACR1gB,GAAG,QAAQyJ,IAClBnZ,GAAQmZ,EAAOjX,UAAU,IAE3BkuB,EAASkB,eACH,IAAA5O,MAAK0N,EAAU,OACdpwB,CACT,C,26CCzIA,mBAEA,UACA,UACA,UACA,aAEA,aACA,UACA,SACA,UACA,UACA,UACA,UAEA,UAEMqB,EAAiC,CAAC,QAAS,SAsB1CoE,eAAe8rB,EAAYC,GAC9B,IAAIC,EAA2B,GAC/B,OAAa,CACT,IAAItV,QAAa,IAAAuV,UAASF,GAE1B,GADArV,EAAOA,EAAKnY,QACPmY,EACD,OAAOsV,EACXA,EAAejpB,KAAK2T,E,CAE5B,CAGO1W,eAAeksB,EAASH,EAAkBxrB,GAC7C,MAAM4rB,EAAKzhB,SAASnK,EAAS,mBAC7B,GAAI4rB,EACA,OAAO,IAAAf,YAAWW,EAAQI,EAClC,CAGA,SAAgBC,EAAaL,EAAkBM,EAAqBhoB,EAAc5D,EAAkB8W,GAChG,IAAI5I,OAA0BrO,IAAhB+rB,EAA4B,GAAGA,QAAoB,GAC7DhoB,IACA5D,EAAQ,kBAAoB4D,EAAK3J,OAAO+B,YAC5C,IAAK,MAAO2C,EAAKzF,KAAUH,OAAO6H,QAAQZ,GACtCkO,GAAW,GAAGvP,MAAQzF,QAE1BgV,GAAW,OACXod,EAAOhX,MAAMpG,GACb4I,GAAS2I,IAAI,0BAA2BvR,GACxC4I,GAAS2I,MACL7b,GACA0nB,EAAOhX,MAAM1Q,EACrB,CAsBA,SAAgBioB,EAAiBC,EAA0BC,GACvD,GAAyB,SAArBD,EAAYlyB,KAEhB,OAAOoyB,EAAuBF,EAAYG,OAAOH,EAAYG,OAAOhyB,OAAS,GAAGiyB,SAAS,IAAKH,EAClG,CAEA,SAAgBC,EAAuBG,EAAcJ,GACjD,MAAMK,EAA0B,GAAVD,EAAK,GAC3B,GAAIC,IAAkB,EAAAC,qBAAsB,CACxC,IAAIC,EAAM,EACV,KAAOA,EAAMH,EAAKlyB,QAAQ,CACtB,MAAMsyB,EAAaJ,EAAK1B,aAAa6B,GACrCA,GAAO,EAEP,IAD8B,GAAZH,EAAKG,MACLP,EACd,OAAOI,EAAKD,SAASI,EAAKA,EAAMC,GACpCD,GAAOC,C,OAGV,GAAIH,IAAkB,EAAAI,mBAAoB,CAC3C,MAAMC,EAAoB,GAAVN,EAAK,GACfO,KAAyB,IAAVP,EAAK,IAE1B,GAAIM,IAAYV,GAAYW,EACxB,OAAOP,EAAKD,SAAS,E,MAExB,GAAIE,IAAkBL,EACvB,OAAOI,CAGf,CAkBA,SAAgBQ,EAAmBR,EAAcS,GAAkB,EAAOC,GAAgB,GACtF,MAAM9B,EAAM,IAAInK,IACVmL,EAAqB,GAAVI,EAAK,GACtB,GAAIJ,IAAa,EAAAM,qBAAsB,CACnCtB,EAAInJ,IAAI,EAAAyK,sBACR,IAAIC,EAAM,EACV,KAAOA,EAAMH,EAAKlyB,QAAQ,CACtB,MAAMsyB,EAAaJ,EAAK1B,aAAa6B,GACrCA,GAAO,EACP,MAAMQ,EAAwB,GAAZX,EAAKG,GACvBvB,EAAInJ,IAAIkL,GACRR,GAAOC,C,OAGV,GAAIR,IAAa,EAAAS,mBAAoB,CACtCzB,EAAInJ,IAAI,EAAA4K,oBACR,MAAMC,EAAoB,GAAVN,EAAK,GACrB,GAAIS,EAAiB,IACc,IAAVT,EAAK,KAEtBpB,EAAInJ,IAAI6K,E,MAEX,GAAII,EAAe,IACS,GAAVV,EAAK,KAEpBpB,EAAInJ,IAAI6K,E,MAGZ1B,EAAInJ,IAAI6K,E,MAIZ1B,EAAInJ,IAAImK,GAGZ,OAAOhB,CACX,CAiFA,SAAgBlgB,EAAa7K,GACzB,MAAM+qB,EAAW,CAAC,EAClB,IAAK,MAAM3xB,KAAU4G,EAAQM,MAAM,GAAI,CACnC,MAAMysB,EAAQ3zB,EAAOO,QAAQ,KAC7B,IAAIT,EAAQ,IACG,IAAX6zB,IACA7zB,EAAQE,EAAOujB,UAAUoQ,EAAQ,GAAGjvB,QAExCitB,EADY3xB,EAAOujB,UAAU,EAAGoQ,GAAOlzB,eAC5BX,C,CAEf,OAAO6xB,CACX,CAEA,SAAgBiC,EAA2BhtB,GACvC,IAAK,MAAM5G,KAAU4G,EAAQM,MAAM,GAAI,CACnC,MAAMysB,EAAQ3zB,EAAOO,QAAQ,KAC7B,IAAIT,EAAQ,IACG,IAAX6zB,IACA7zB,EAAQE,EAAOujB,UAAUoQ,EAAQ,GAAGjvB,QAExC,GAAY,qBADA1E,EAAOujB,UAAU,EAAGoQ,GAAOlzB,cAEnC,OAAOX,C,CAEnB,CAEA,SAAgB+zB,EAAwB/zB,GACpC,MAAMg0B,EAAkC,CAAC,EACzC,IAAK,MAAMhvB,KAAQhF,EAAMgD,MAAM,KAAM,CACjC,MAAOyC,EAAKzF,GAASgF,EAAKhC,MAAM,IAAK,GACrCgxB,EAAKvuB,GAAOzF,C,CAGhB,OAAOg0B,CACX,CAtQa,EAAAC,iBAAmB,GAUhC,gBAYA,aAOA,iBAiBa,EAAAC,wBAA0B,EAC1B,EAAAC,yBAA2B,GAC3B,EAAAC,yBAA2B,GAE3B,EAAAC,kBAAoB,EACpB,EAAAC,kBAAoB,EACpB,EAAAC,kBAAoB,EACpB,EAAAC,kBAAoB,EAEpB,EAAArB,qBAAuB,GACvB,EAAAsB,qBAAuB,GAEvB,EAAAnB,mBAAqB,GACrB,EAAAoB,mBAAqB,GAErB,EAAAC,qBAAuB,GACvB,EAAAC,qBAAuB,GAEpC,qBAMA,2BA0BA,wBAA6BhC,GACzB,MAAyB,SAArBA,EAAYlyB,KACL,IAAIgnB,IACR+L,EAAmBb,EAAYG,OAAOH,EAAYG,OAAOhyB,OAAS,GAAGiyB,SAAS,IACzF,EAEA,sCAA2CC,GACvC,MACM4B,GADqB,GAAV5B,EAAK,MACG,EAAAK,mBACzB,MAAO,CACHuB,MACAC,SAAUD,MAAoB,IAAV5B,EAAK,IACzB8B,OAAQF,MAAoB,GAAV5B,EAAK,IAE/B,EAEA,uBAsCA,4BAAiC9oB,GAC7B,IAAIgD,EAEJ,MAAO,CACH6nB,UAAW,OACXC,YAAa,qBAAsB,IAAA5tB,aAAY,GAAGvE,SAAS,OAC3DoyB,eAAgB,CACZ,kBACA,OAEJC,gBAAiB,CACb,kBACA,SACIhrB,GAASirB,QAAU,MACnBjrB,GAASkrB,QAAU,GACvB,KAAM,QAEVC,cAAcC,GACV,IAAIC,EACAC,EAEA,CAAC,EAEL,MAAMC,EAAkB,IACRH,EAAanuB,MAAMouB,GAOnC,IAAK,IAAIG,EAAiB,EAAGA,EAAiBJ,EAAax0B,OAAQ40B,IAAkB,CACjF,MAAM/C,EAAc2C,EAAaI,GACR,SAArB/C,EAAYlyB,KAKZiyB,EAAiBC,EAAa,EAAA2B,qBAC9BiB,EAAaG,GALbF,EAAS7C,EAAYlyB,MAAQkyB,C,CAQrC,QAAmBjsB,IAAf6uB,EACA,OAAOE,IAEXD,EAAW,CAAC,EAEZ,IAAK,IAAIE,EAAiB,EAAGA,EAAiBJ,EAAax0B,OAAQ40B,IAAkB,CACjF,MAAM/C,EAAc2C,EAAaI,GACR,SAArB/C,EAAYlyB,KAIZiyB,EAAiBC,EAAa,EAAAyB,qBAC9BmB,EAAaG,GAJbF,EAAS7C,EAAYlyB,MAAQkyB,C,CAOrC,YAAmBjsB,IAAf6uB,EACOE,SADX,CAIJ,EACAE,IAAK,IAAI5oB,SAAgB8iB,GAAK3iB,EAAU2iB,IACxCzpB,YAAawvB,EAAQC,EAAOC,GACxB,MAAMxG,EAAS,IAAIyG,EAAWH,SACxBtG,EAAO0G,cACb9oB,EAAQoiB,EAAOqG,KACf,UAAW,MAAM,KAAEl1B,EAAI,KAAEw1B,EAAI,OAAEh2B,EAAM,OAAEi2B,KAAY5G,EAAO6G,oBAChD,CACFrD,OAAQ,CAAC7yB,EAAQi2B,GACjBz1B,KAAM,GAAGw1B,EAAO,QAAU,KAAKx1B,IAC/Bo1B,QACAC,SAGZ,EAER,EAEA,iBAaA,+BAYA,4BAuBA,MAAaM,UAAwB3e,MACjC1R,YAAmBa,GACfqf,MAAM,eAAerf,EAAOkW,QADb,KAAAlW,OAAAA,CAEnB,EAHJ,oBAMA,MAAayvB,EAITtwB,cACA,CAEAoV,MAAMsX,EAAqB5rB,EAAkB4D,GACzC+nB,EAAatsB,KAAKisB,OAAQM,EAAahoB,EAAM5D,EAASX,KAAKyX,QAC/D,CAEAvX,oBACI,MAAM2O,QAAgBmd,EAAYhsB,KAAKisB,QAGvC,OAFAjsB,KAAKyX,SAAS2I,IAAI,0BAA2BvR,EAAQ/R,KAAK,OAC1DkD,KAAKyX,SAAS2I,MACPvR,CACX,EAhBJ,aAsCA,2BAAgCshB,EAU5BtwB,YAAmBJ,GACfsgB,QADe,KAAAtgB,IAAAA,EATnB,KAAA2wB,KAAO,EAIP,KAAAC,eAAgB,EAChB,KAAAC,aAAe,IAAI5F,IACnB,KAAA6F,gBAAiB,EACjB,KAAAC,iBAAkB,EAId,MAAMC,EAAI,IAAI,EAAA7X,IAAInZ,GACZ6G,EAAOsE,SAAS6lB,EAAEnqB,OAAS,IAC7B7G,EAAIic,WAAW,SACf1b,KAAKisB,OAAS,UAAIyE,QAAQ,CACtBC,oBAAoB,EACpBrqB,OACAD,KAAMoqB,EAAErqB,WAIZpG,KAAKisB,OAAS,UAAIyE,QAAQpqB,EAAMmqB,EAAErqB,UAEtCpG,KAAKisB,OAAO9hB,GAAG,SAASgK,IACpBnU,KAAKyX,SAAS2I,IAAI,eAAgBjM,EAAE,GAE5C,CAEAjU,qBAEI,IAAIF,KAAKuwB,eAAT,CAEAvwB,KAAKuwB,gBAAiB,EACtB,IACIvwB,KAAK4wB,sBACC,IAAAC,OAAM,I,CAEhB,MAAO1c,G,SAIHnU,KAAKisB,OAAO3hB,S,CAVN,CAYd,CAEAwmB,aAAa/yB,EAAgB4C,EAAmBS,EAAemD,GAC3D5D,EAAUA,GAAW,CAAC,EAEtB,IAAIowB,EAAU/wB,KAAKP,IACf2B,IAEIA,EAAKR,SAAS,YAAcQ,EAAKR,SAAS,YAC1CmwB,EAAU3vB,EAMV2vB,IAAYA,EAAQtS,SAAS,KAAO,GAAK,KAAOrd,GAIxD,MAAM4vB,EAAY,IAAI,EAAApY,IAAImY,GAC1BC,EAAU50B,SAAW,GACrB40B,EAAU30B,SAAW,GAErB,MAAMua,EAAO,GAAG7Y,KAAUizB,aACpBZ,EAAOpwB,KAAKowB,OAClBzvB,EAAc,KAAIyvB,EAAKzzB,WACvBgE,EAAQ,cAAgB,WAEpBX,KAAKa,kBACLF,EAAuB,cAAIX,KAAKixB,0BAA0BlzB,EAAQ,IAAI,EAAA6a,IAAImY,KAE1E/wB,KAAKkxB,UACLvwB,EAAiB,QAAIX,KAAKkxB,SAE9BlxB,KAAKiV,MAAM2B,EAAMjW,EAAS4D,EAC9B,CAEArE,wBAAwBnG,GAEpB,GAAIA,EAAO,KAAO,EAAA+zB,iBACd,MAAM,IAAIvc,MAAM,qKAAuKxX,EAAO4C,YAElM,MAAMw0B,EAAUp3B,EAAOq3B,UAAU,GAC3Bx2B,EAASb,EAAOqxB,aAAa,GAC7B3wB,QAAa,IAAA6wB,YAAWtrB,KAAKisB,OAAQrxB,GAE3BoF,KAAKswB,aAAah1B,IAAI61B,IAC7BE,QAAQt3B,EAAQU,EAC7B,CAEAyF,wBACI,MAAMnG,QAAe,IAAAuxB,YAAWtrB,KAAKisB,OAAQ,GAC7C,OAAOjsB,KAAKsxB,kBAAkBv3B,EAClC,CAEAw3B,gBAAgBx3B,GACZ,OAAO,IAAIwX,MAAM,qKAAuKxX,EAAO4C,WACnM,CAEAuD,uBACI,IACI,OACQF,KAAKqwB,gBACLrwB,KAAKqwB,eAAgB,EACjBrwB,KAAKwwB,sBACCxwB,KAAKwxB,qBAELxxB,KAAKgE,iBAEbhE,KAAKyxB,iB,CAGnB,MAAOtd,GAEH,MADAnU,KAAKisB,OAAO3hB,QAAQ6J,GACdA,C,CAEd,CAEAjU,iBACI,MAAMwxB,EAAW,IAAI,EAAAC,SAErB,IAAI53B,EACAo3B,EACAv2B,EAEJ,MAAMqS,EAAO/M,UACLF,KAAKqwB,gBACLrwB,KAAKqwB,eAAgB,EACjBrwB,KAAKwwB,gBACLxwB,KAAK4xB,oBAEL5xB,KAAK6xB,gBAGb,IACI,OAAa,CAET,IAAK93B,EAAQ,CAGT,GAFAA,EAASiG,KAAKisB,OAAOhf,KAAK,IAErBlT,EACD,OAGJ,GAAIA,EAAO,KAAO,EAAA+zB,iBAAkB,CAChC,GAA0B,SAAtB/zB,EAAO4C,WACP,MAAMqD,KAAKuxB,gBAAgBx3B,GAE/BiG,KAAKisB,OAAO9b,QAAQpW,GACpBA,OAASyG,EAGTR,KAAKisB,OAAO5P,eAAe,WAAYpP,GAGvC,MAAM4B,QAAgBkR,MAAMiM,oBACThsB,KAAKosB,SAAS5gB,EAAaqD,IAG9C7O,KAAKisB,OAAO9hB,GAAG,WAAY8C,GAE3B,Q,CAGJkkB,EAAUp3B,EAAOq3B,UAAU,GAC3Bx2B,EAASb,EAAOqxB,aAAa,E,CAGjC,MAAM3wB,EAAOuF,KAAKisB,OAAOhf,KAAKrS,GAC9B,IAAKH,EACD,OAEJ,MAAM0W,EAAIpX,EACVA,OAASyG,EACOR,KAAKswB,aAAah1B,IAAI61B,IAC7BE,QAAQlgB,EAAG1W,E,EAG5B,MAAO0Z,GACHud,EAASzqB,OAAOkN,GAChBnU,KAAKisB,OAAO3hB,S,GAIpB2C,IACAjN,KAAKisB,OAAO9hB,GAAG,WAAY8C,SAErBpG,QAAQ4H,IAAI,EAAC,IAAA0O,MAAKnd,KAAKisB,OAAQ,QACzC,CAMA/rB,oBACI,OAAa,CACT,MAAMnG,QAAe,IAAAuxB,YAAWtrB,KAAKisB,OAAQ,GAC7C,GAAIlyB,EAAO,KAAO,EAAA+zB,iBAAkB,CAChC,GAA0B,SAAtB/zB,EAAO4C,WAAuB,CAC9BqD,KAAKisB,OAAO9b,QAAQpW,GAEpB,aADsBgmB,MAAMiM,a,CAGhC,MAAMhsB,KAAKuxB,gBAAgBx3B,E,OAGzBiG,KAAKsxB,kBAAkBv3B,E,CAErC,CAEAk3B,0BAA0BlzB,EAAgB0B,GACtC,IAAKO,KAAKa,gBACN,MAAM,IAAI0Q,MAAM,6BAEpB,GAAIvR,KAAKa,gBAAgBD,SAAS,SAAU,CAExC,MAAO,SADM,EAAA5E,MAAMQ,YAAYiD,I,CAUnC,MAAMqyB,GAAU,IAAA51B,mCACZ8D,KAAKa,gBAGL,CACIvG,QAAS,IAAM,GAEnBwB,GAGEi2B,EAAY,IAAI,EAAAnZ,IAAI5Y,KAAKP,KACzBrD,EAAWuZ,mBAAmBoc,EAAU31B,UACxCC,EAAWsZ,mBAAmBoc,EAAU11B,UAExC21B,EAAc,IAAI,EAAApZ,IAAInZ,EAAI9C,YAChCq1B,EAAY51B,SAAW,GACvB41B,EAAY31B,SAAW,GAEvB,MAAMuB,EAAM,UAAOH,WAAW,OAAOC,OAAO,GAAGtB,KAAY01B,EAAQj0B,SAASxB,KAAYsB,OAAO,OACzFG,EAAM,UAAOL,WAAW,OAAOC,OAAO,GAAGK,KAAUi0B,KAAer0B,OAAO,OACzEpB,EAAO,UAAOkB,WAAW,OAAOC,OAAO,GAAGE,KAAOk0B,EAAQ7zB,SAASH,KAAOH,OAAO,OAEhFwD,EAAS,CACX/E,WACAyB,MAAOi0B,EAAQj0B,MACfI,MAAO6zB,EAAQ7zB,MACfD,IAAKg0B,EAAYr1B,WACjBW,UAAW,MACXmD,SAAUlE,GAId,MAAO,UADc7C,OAAO6H,QAAQJ,GAAQvC,KAAI,EAAEU,EAAKzF,MAAW,SAAGyF,KAAOzF,IAvRrE0D,EAuRoF1D,EAvR5D,IAAI0D,EAAI6B,QAAQ,KAAM,aAA/C,IAAC7B,CAuR4F,IAAET,KAAK,OAE9G,CAEAoD,eAAeO,GACX,OAAO2rB,EAASpsB,KAAKisB,OAAQxrB,EACjC,CAEAP,cAAcnC,EAAgB4C,EAAmBS,EAAemD,EAAe0tB,GAC3EjyB,KAAK8wB,aAAa/yB,EAAQ4C,EAASS,EAAMmD,GAEzC,MAAMsK,EAAU7O,KAAKkyB,qBAAuB,IAAAC,gBAAenyB,KAAKkyB,eAAgBlyB,KAAKgsB,qBAAuBhsB,KAAKgsB,cAC3GoG,EAAavjB,EAAQ,IACpB3H,EAASmrB,EAAYrjB,GAAUojB,EAAWv1B,MAAM,IAAK,GACtD6N,EAAOE,SAASynB,GAChB5xB,EAAW+K,EAAaqD,GAExBnO,EAAS,CACXkW,KAAMwb,EACN1nB,OACAxD,UACA8H,UAGJ,GAAa,MAATtE,IAAiBjK,EAAS,oBAC1B,MAAM,IAAIyvB,EAAgBxvB,GAI9B,MAAMG,EAAkB8sB,EAA2B9e,IAAYpO,EAAS,oBACxE,GAAII,EAAiB,CACjB,GAAIoxB,EACA,MAAM,IAAI1gB,MAAM,eAIpB,OAFAvR,KAAKa,gBAAkBA,EAEhBb,KAAKM,QAAQvC,EAAQ4C,EAASS,EAAMmD,GAAM,E,CAErD,MAAO,CACH5D,QAASF,EACT8D,WAAYvE,KAAKosB,SAAS3rB,GAC1BC,SAER,CAEAR,gBACI,MACMwrB,QAAY1rB,KAAKM,QAAQ,UADN,CAAC,GAEpBgyB,EAAe5G,EAAI/qB,QAAgB,OAGzC,OAFI2xB,IACAtyB,KAAKwwB,gBAAkB8B,EAAa93B,cAAcoG,SAAS,kBACxD8qB,CACX,CAEAmG,eACI,OAAO7xB,KAAK8wB,aAAa,UAC7B,CAEA5wB,qBACI,OAAOF,KAAKM,QAAQ,gBACxB,CAEAsxB,oBACI,OAAO5xB,KAAK8wB,aAAa,gBAC7B,CAEA5wB,eAAeS,GACX,OAAOX,KAAKM,QAAQ,WAAY,IACxBK,GAAW,CAAC,EAChB4xB,OAAQ,mBAEhB,CAEAryB,YAAY8D,GACR,MAAM2D,EAA4B,QAAjB3D,EAAQzJ,KAAiB,GAAK,OACzC0xB,EAA0B,QAAjBjoB,EAAQzJ,KAAiB,cAAgB,cACxD,IAAI+L,EACJ,GAAqB,QAAjBtC,EAAQzJ,KACR+L,EAAOtC,EAAQsC,SAEd,CACD,IAAKtC,EAAQwuB,MAAO,CAChB,MAAM1I,QAAY,IAAAP,kBAClBvlB,EAAQwuB,MAAQ1I,EAAIV,OACpBppB,KAAKisB,OAAO9hB,GAAG,SAAS,KAAM,IAAAsoB,YAAW3I,EAAIV,S,CAEjD9iB,EAAOtC,EAAQwuB,MAAMlJ,UAAUhjB,KAC/BtC,EAAQwuB,MAAMroB,GAAG,WAAW1P,GAAQuJ,EAAQqtB,WAAM7wB,EAAW/F,I,CAEjE,MAAMkG,EAAe,CACjB+xB,UAAW,UAAU/qB,aAAoBskB,KAAU3lB,KAAQA,EAAO,KAEhE7F,QAAiBT,KAAKM,QAAQ,QAASK,EAASqD,EAAQ5C,MAC9D,IAAIuxB,EAIJ,GAAIlyB,EAASE,QAAQuwB,QAAS,CAC1B,MAAM0B,EAAchF,EAAwBntB,EAASE,QAAQuwB,SAC7D,IAAIvmB,EAAUC,SAASgoB,EAAqB,SAC5C,GAAIjoB,EAAS,CAIT,IACIkoB,EAAQC,aAAY,IAAM9yB,KAAKqwB,eAAgB,GADpB,KAAf1lB,EAAU,IAE1B3K,KAAKisB,OAAO9O,KAAK,SAAS,IAAM4V,cAAcF,I,CAGlD7yB,KAAKkxB,QAAUzwB,EAASE,QAAQuwB,QAAQr0B,MAAM,KAAK,E,CAEvD,GAAI4D,EAASE,QAAQ2H,UAAW,CAC5B,MAAM5J,EAAQ+B,EAASE,QAAQ2H,UAAU5J,MAAM,oCAC/C,GAAIA,EAAO,CACP,MAAOs0B,EAAGC,EAAO3nB,GAAO5M,EACpBu0B,GAAS3nB,IACTqnB,EAAc,CACVM,MAAOroB,SAASqoB,GAChB3nB,IAAKV,SAASU,I,EAO9B,MAFqB,QAAjBtH,EAAQzJ,MACRyF,KAAKswB,aAAaxN,IAAI6P,EAAcA,EAAYM,MAAQ3sB,EAAMtC,GAC3DtK,OAAOyhB,OAAO,CAAEwX,cAAa3uB,WAAWvD,EACnD,CAEAP,WAAWS,EAAmB,CAAC,EAAGkE,EAAQ,SAEtC,OADAlE,EAAe,MAAI,OAAOkE,KACnB7E,KAAKM,QAAQ,OAAQK,EAChC,CAEAuyB,UAAUruB,EAAgB,SACtB,MAAMlE,EAAe,CACjBwyB,MAAO,OAAOtuB,MAElB,OAAO7E,KAAK8wB,aAAa,OAAQnwB,EACrC,CAEAyyB,gBAAgBr5B,EAAgBs5B,GAE5B,OADArzB,KAAKisB,OAAOhX,MAAMlb,GACXiG,KAAKisB,OAAOhX,MAAMxY,OAAOC,KAAK22B,GACzC,CAEA3lB,KAAK2lB,EAAalC,GACd,MAAMp3B,EAAS0C,OAAOgvB,MAAM,GAK5B,OAJA1xB,EAAOu5B,WAAW,EAAAxF,iBAAkB,GACpC/zB,EAAOu5B,WAAWnC,EAAS,GAC3Bp3B,EAAOw5B,cAAcF,EAAIz4B,OAAQ,GAE1BoF,KAAKozB,gBAAgBr5B,EAAQs5B,EACxC,CAEAnzB,cACI,OAAOF,KAAKM,QAAQ,QACxB,CAEAJ,iBACI,IAEI,aAAaF,KAAKM,QAAQ,W,SAG1BN,KAAKisB,OAAO3hB,S,CAEpB,CAEAsmB,gBACI5wB,KAAK8wB,aAAa,WACtB,GAYJ,MAAajB,EAOThwB,YAAmBosB,EAAuBwD,EAAqB3F,EAAsB0J,GAAlE,KAAAvH,OAAAA,EAAuB,KAAAwD,IAAAA,EAAqB,KAAA3F,IAAAA,EAAsB,KAAA0J,aAAAA,EAJrF,KAAAC,YAEI,CAAC,EAqGL,KAAAC,iBAAmB,CAAC,WAAY,UAAW,QAAS,OAAQ,QAAS,WAAY,WAAY,SAAU,iBAlGnG1zB,KAAKkxB,SAAU,IAAAhwB,aAAY,GAAGvE,SAAS,OACnC8yB,IACAA,EAAMA,EAAIhxB,QAEVwtB,aAAkB,UAAI0H,QACtB1H,EAAO2H,YAAW,EAC1B,CAEA1zB,kBAAkBskB,EAAU,CAAC,OAAQ,SAAU,aAC3C,IAAI0H,EAA2B,GAC/B,OAAa,CACT,IAAItV,QAAa,IAAAuV,UAASnsB,KAAKisB,QAE/B,GADArV,EAAOA,EAAKnY,OACPmY,EAOLsV,EAAejpB,KAAK2T,OAPpB,CACI,MAAM7Y,QAAeiC,KAAKW,QAAQurB,GAClC,GAAI1H,EAAQ5jB,SAAS7C,GACjB,OAAOA,EACXmuB,EAAiB,E,EAK7B,CAEAhsB,uBACI,OAAOF,KAAK8vB,aAChB,CAEA5vB,uBACI,OAAOF,KAAK8vB,aAChB,CAEA5vB,qBAMI,OAAa,CACT,MAAMnG,QAAe,IAAAuxB,YAAWtrB,KAAKisB,OAAQ,GAG7C,GAAIlyB,EAAO,KAAO,EAAA+zB,iBACd,MAAM,IAAIvc,MAAM,kDAAoDxX,EAAO4C,YAC/E,MAAM/B,EAASb,EAAOqxB,aAAa,GAC7B4E,QAAe,IAAA1E,YAAWtrB,KAAKisB,OAAQrxB,GACvCqW,EAAKlX,EAAOq3B,UAAU,GACtByC,EAAc5iB,EAAMA,EAAK,EACzB6iB,EAAQp6B,OAAO+J,OAAOzD,KAAKyzB,aAAaM,MAAKD,GAASA,EAAMD,cAAgBA,IAClF,IAAKC,EACD,MAAM,IAAIviB,MAAM,yCAA2CN,QAEzD,CACF1W,KAAMu5B,EAAME,MACZjE,KAAM9e,EAAK,GAAM,EACjBlX,SACAi2B,S,CAGZ,CAEAoD,gBAAgBr5B,EAAgBs5B,GAE5B,OADArzB,KAAKisB,OAAOhX,MAAMlb,GACXiG,KAAKisB,OAAOhX,MAAMxY,OAAOC,KAAK22B,GACzC,CAEA3lB,KAAK2lB,EAAalC,GACd,MAAMp3B,EAAS0C,OAAOgvB,MAAM,GAK5B,OAJA1xB,EAAOu5B,WAAW,GAAI,GACtBv5B,EAAOu5B,WAAWnC,EAAS,GAC3Bp3B,EAAOw5B,cAAcF,EAAIz4B,OAAQ,GAE1BoF,KAAKozB,gBAAgBr5B,EAAQs5B,EACxC,CAEAY,QAAQnK,EAAmBxjB,EAAc0pB,GAErClG,EAAIpc,KAAKsiB,EAAQ1pB,EAAM,YAC3B,CAEA4tB,UAAUC,EAAiBnE,EAAgBD,GACvC,MAAM+D,EAAQ9zB,KAAKyzB,YAAYU,GAC/B,OAAKL,EAKkB,QAAnBA,EAAMnsB,UACD3H,KAAK8pB,IAGN9pB,KAAKi0B,QAAQlE,EAAO+D,EAAM/D,KAAO+D,EAAMT,IAAKS,EAAMD,YAAa7D,GAF/DhwB,KAAKyX,SAASC,KAAK,0CAGhB,GAGJ1X,KAAK0N,KAAKsiB,EAAQD,EAAO+D,EAAMD,YAAc,EAAIC,EAAMD,cAZ1D7zB,KAAKyX,SAASC,KAAK,+BAAgCyc,IAC5C,EAYf,CAGAnwB,QAAQvE,EAAakM,GACjB,MAAMhL,EAAmB,CAAC,EAC1BA,EAAgB,OAAIX,KAAK0zB,iBAAiB52B,KAAK,MAE/CkD,KAAKo0B,QAAQ,IAAK,KAAMzoB,EAAgBhL,EAC5C,CAEAT,oBAAoBT,EAAakM,GAE7B3L,KAAKo0B,QAAQ,IAAK,KAAMzoB,EADC,CAAC,EAE9B,CAEA0oB,SAAS50B,EAAakM,GAClB,MAAMhL,EAAmB,CAAC,EAC1BA,EAAQ,gBAAkBlB,EAC1BkB,EAAQ,gBAAkB,kBAC1BX,KAAKo0B,QAAQ,IAAK,KAAMzoB,EAAgBhL,EAASlE,OAAOC,KAAKsD,KAAKyvB,KACtE,CAEA6E,iBAAiBC,EAAoBC,EAAaC,GAC9Cz0B,KAAKyzB,YAAYc,EAASG,SAAW,CACjCA,QAASH,EAASG,QAClB/sB,SAAU,MACVksB,YAAaW,EACbR,MAAOO,EAASP,MAExB,CAOA9zB,YAAYT,EAAakM,GACrB,MAAMhL,EAAmB,CAAC,EAC1B,IAAI2H,EAAYqD,EAA0B,UAC1ChL,EAAiB,QAAIX,KAAKkxB,QAC1B,MACMqD,GADY,IAAAI,UAAS30B,KAAKyvB,KACLmF,UAAUb,MAAKQ,GAAY90B,EAAIgf,SAAS8V,EAASG,WAC5E,GAAKH,EAAL,CAKA,GAAIjsB,EAAU1H,SAAS,OACnB,GAAIZ,KAAK60B,mBAAoB,CACzB,MAAOL,EAAKC,GAAQz0B,KAAK60B,mBAAmBN,GAC5Cv0B,KAAKs0B,iBAAiBC,EAAUC,EAAKC,GACrCnsB,EAAY,mCAAmCksB,KAAOC,G,KAErD,CACD,MAAM/1B,EAAQ4J,EAAU5J,MAAM,oCAC9B,GAAIA,EAAO,CACP,MAAM81B,EAAM5pB,SAASlM,EAAM,IACrB+1B,EAAO7pB,SAASlM,EAAM,IAC5BsB,KAAKs0B,iBAAiBC,EAAUC,EAAKC,E,MAI5C,CACD,IAAKz0B,KAAK8pB,IAEN,YADA9pB,KAAKo0B,QAAQ,IAAK,wBAAyBzoB,EAAgB,CAAC,GAGhE,MAAMjN,EAAQ4J,EAAU5J,MAAM,qCACvBs0B,EAAGK,EAAKtD,GAAQrxB,EAEjBo2B,QAAkB,IAAAvL,kBAClBwL,QAAmB,IAAAtL,eAAcqL,EAAUxuB,KAAO,GACxDtG,KAAKisB,OAAO9hB,GAAG,SAAS,KAAM,IAAAsoB,YAAWqC,EAAU1L,UACnDppB,KAAKisB,OAAO9hB,GAAG,SAAS,KAAM,IAAAsoB,YAAWsC,EAAW3L,UACpDppB,KAAKyzB,YAAYc,EAASG,SAAW,CACjCA,QAASH,EAASG,QAClB/sB,SAAU,MACVksB,YAAajpB,SAASyoB,GACtBW,MAAOO,EAASP,MAChBX,IAAKyB,EAAU1L,OACf2G,KAAMgF,EAAW3L,QAErB9gB,EAAYA,EAAUlJ,QAAQ,cAAe,WAAWA,QAAQ,UAAW,eAC3EkJ,GAAa,gBAAgBwsB,EAAUxuB,QAAQyuB,EAAWzuB,M,CAE9D3F,EAAmB,UAAI2H,EACvBtI,KAAKo0B,QAAQ,IAAK,KAAMzoB,EAAgBhL,E,MA3CpCX,KAAKo0B,QAAQ,IAAK,YAAazoB,EAAgBhL,EA4CvD,CAEAq0B,KAAKv1B,EAAakM,GACd,MAAMhL,EAAmB,CAAC,EAGpBs0B,EAFWv7B,OAAO+J,OAAOzD,KAAKyzB,aAAa70B,KAAIk1B,GAAS,OAAOr0B,KAAOq0B,EAAMY,YAEzD53B,KAAK,KAC9B6D,EAAQ,YAAcs0B,EACtBt0B,EAAe,MAAI,WACnBA,EAAiB,QAAIX,KAAKkxB,QAC1BlxB,KAAKo0B,QAAQ,IAAK,KAAMzoB,EAAgBhL,EAC5C,CAEAT,eAAeT,EAAakM,GACxB,MAAMupB,EAAgBtqB,SAASe,EAAe,mBACxCwpB,QAAkB,IAAA7J,YAAWtrB,KAAKisB,OAAQiJ,GAChDl1B,KAAKyvB,IAAM0F,EAAUx4B,WACrB,MAAMgE,EAAmB,CAAC,EAC1BA,EAAiB,QAAIX,KAAKkxB,QAE1BlxB,KAAKo0B,QAAQ,IAAK,KAAMzoB,EAAgBhL,EAC5C,CAEAT,aAAaT,EAAakM,GACtB,MAAMhL,EAAmB,CAAC,EAC1BA,EAAiB,QAAIX,KAAKkxB,QAC1BlxB,KAAKo0B,QAAQ,IAAK,KAAMzoB,EAAgBhL,EAC5C,CAEAT,eAAeT,EAAakM,GACxB,MAAMhL,EAAmB,CAAC,EAC1BA,EAAiB,QAAIX,KAAKkxB,QAC1BlxB,KAAKo0B,QAAQ,IAAK,KAAMzoB,EAAgBhL,GACxCX,KAAKisB,OAAO3hB,SAChB,CAEApK,cAAcS,GACVX,KAAKyX,SAAS2I,IAAI,kBAAmBzf,EAAQ7D,KAAK,OAElD,IAAKiB,EAAQ0B,GAAOkB,EAAQ,GAAG9D,MAAM,IAAK,GAC1CkB,EAASA,EAAOvD,cAChB,MAAMmR,EAAiBH,EAAa7K,GACpC,GAAIX,KAAKwzB,aAAc,CACnB,IAAI4B,EACJ,IACIA,QAAcp1B,KAAKwzB,aAAaz1B,EAAQ0B,EAAKkM,EAAgBhL,E,CAEjE,MAAOwT,GACHnU,KAAKyX,SAASxa,MAAM,yBAA0BkX,E,CAElD,IAAKihB,EAGD,MAFAp1B,KAAKo0B,QAAQ,IAAK,cAAezoB,EAAgB,CAAC,GAClD3L,KAAKisB,OAAO3hB,UACN,IAAIiH,MAAM,uB,CAKxB,GADgBvR,KACHjC,IAAYiC,KAAK0zB,iBAAiB9yB,SAAS7C,EAAOoK,eAM/D,aAPgBnI,KAMFjC,GAAQ0B,EAAKkM,GACpB5N,EALHiC,KAAKo0B,QAAQ,IAAK,cAAezoB,EAAgB,CAAC,EAM1D,CAEAyoB,QAAQ1pB,EAAcmE,EAAiBlD,EAAyBhL,EAAkBiT,GAC9E,IAAInT,EAAW,YAAYiK,KAAQmE,QAC/BlD,EAAqB,OACrBhL,EAAc,KAAIgL,EAAqB,MACvCiI,IACAjT,EAAQ,kBAAoBiT,EAAOhZ,OAAO+B,YAC9C,IAAK,MAAO2C,EAAKzF,KAAUH,OAAO6H,QAAQZ,GACtCF,GAAY,GAAGnB,MAAQzF,QAE3BmG,KAAKyX,SAAS2I,IAAI,mBAAoB3f,GACtCA,GAAY,OACZT,KAAKisB,OAAOhX,MAAMxU,GACdmT,IACA5T,KAAKisB,OAAOhX,MAAMrB,GAClB5T,KAAKyX,SAAS2I,IAAI,gBAAiBxM,EAAOjX,YAElD,CAEA2N,UACItK,KAAKisB,OAAO3hB,UACZ,IAAK,MAAMwpB,KAASp6B,OAAO+J,OAAOzD,KAAKyzB,cACnC,IAAAhB,YAAWqB,EAAMT,MACjB,IAAAZ,YAAWqB,EAAM/D,KAEzB,EA1RJ,eA6RA,yBAAO7vB,eAA4D8D,GAK/D,MAAMqxB,EAAYrxB,GAASqxB,WAAa,UAAOn0B,YAAY,GAAGvE,SAAS,OACvE,IAAI,IAAE8C,EAAG,cAAE61B,EAAa,OAAElM,SAAiB,IAAAY,wBAAuBhmB,GAASoC,UAE3E,MAAMmvB,EAAiB,IAAMF,EAC7B51B,EAAMA,EAAIL,QAAQ,OAAQ,SAAWm2B,EAErC,MAAMC,EAAoBF,EAAclqB,MAAK6gB,IACzC,MAEMwJ,GAFezxB,GAAS0xB,cAAgB,CAAChG,GAAU,IAAIG,EAAWH,KAExCzD,GAMhC,OALAwJ,EAAWjC,aAAetzB,MAAOnC,EAAQ0B,EAAKkB,EAASkO,KACnD4mB,EAAWjC,kBAAehzB,EAE1B,OADU,IAAI,EAAAoY,IAAInZ,GACT4B,WAAak0B,CAAc,EAEjCE,CAAe,IAG1B,MAAO,CACHh2B,MACA+1B,oBACApM,SAER,C,4BChkCA,SAAgBuM,EAAiBlG,GAC7B,IAAImG,EAAQnG,EAAI5yB,MAAM,MAAM+B,KAAIgY,GAAQA,EAAKnY,SAC7Cm3B,EAAQA,EAAMziB,QAAOyD,IAASA,EAAKhW,SAAS,gBAC5C,IAAIi1B,EAAa,EACjB,IAAK,IAAIj0B,EAAI,EAAGA,EAAIg0B,EAAMh7B,OAAQgH,IAAK,CACtBg0B,EAAMh0B,GACT8Z,WAAW,QAErBka,EAAME,OAAOl0B,EAAI,EAAG,EAAG,qBAAuBi0B,GAC9CA,I,CAEJ,OAAOD,EAAM94B,KAAK,OACtB,CAqDA,SAAgBi5B,EAAgBtG,EAAal1B,EAAcy7B,EAA+B,CAAC,WAAY,aACnG,MAAMC,EANV,SAAqBxG,GAEjB,OADkB,KAAOA,GAAK5yB,MAAM,OAExC,CAGqBq5B,CAAYzG,GAAKtc,QAAO2gB,GAASA,EAAMpY,WAAWnhB,KAEnE,IAAK,MAAM47B,KAAWF,EAAU,CAC5B,MAAMG,EAAc,KAChB,MAAMR,EAAQO,EAAQt5B,MAAM,MAAM+B,KAAIgY,GAAQA,EAAKnY,SAC7C43B,EAAgB,aAChB3B,EAAUkB,EAAM7B,MAAKnd,GAAQA,EAAK8E,WAAW2a,KACnD,MAAO,CACHF,QAAS,KAAOA,EAChBhC,QAASO,EAAQpX,UAAU+Y,EAAcz7B,QAC5C,EAGL,IAAK,MAAM07B,KAAON,EACd,GAAIG,EAAQv1B,SAAS,KAAK01B,KACtB,OAAOF,IAKf,GAAKJ,EAAWp1B,SAAS,cACjBu1B,EAAQv1B,SAAS,cACjBu1B,EAAQv1B,SAAS,YACrB,OAAOw1B,G,CAGnB,CAWA,SAAgBG,EAAuBC,GACnC,MAAMC,EAAyB,GAC/B,IAAK,MAAMC,KAAMF,EAAM35B,MAAM,KAAKoE,MAAM,IAAM,GAC1Cw1B,EAAaxzB,KAAK2H,SAAS8rB,IAE/B,OAAOD,CACX,CAEA,SAAgBE,EAAWH,GAEvB,MAAM35B,EAAQ25B,EAAM35B,MAAM,KAE1B,MAAO,CACHtC,KAFSsC,EAAM,GAAGygB,UAAU,GAG5BhX,KAAMsE,SAAS/N,EAAM,IACrB8K,SAAU9K,EAAM,GAChB45B,aAAcF,EAAuBC,GAE7C,C,uRAzIA,wBAA6B/G,EAAamH,EAAmBC,GAKzD,OAJgBpH,EACXrwB,QAAQ,UAAW,sBACnBA,QAAQ,cAAe,WAAWw3B,KAClCx3B,QAAQ,cAAe,WAAWy3B,IAE3C,EAEA,8BAAmCpH,EAAa0G,EAAiB7vB,GAC7D,MAAMuV,EAAQ,IAAInG,OAAO,KAAKygB,UAI9B,OAHgB1G,EACXrwB,QAAQ,UAAW,sBACnBA,QAAQyc,EAAO,KAAKsa,KAAW7vB,IAExC,EAEA,qBAiBA,0BAA+BswB,EAAmBC,EAAmBpH,GAEjE,IAAIqH,EAAYrH,EACXrwB,QAAQ,UAAW,sBACnBA,QAAQ,cAAe,WAAWw3B,KAClCx3B,QAAQ,cAAe,WAAWy3B,KAGnCjB,EAAQkB,EAAUj6B,MAAM,MAAM+B,KAAIgY,GAAQA,EAAKnY,SAenD,OAdAm3B,EAAQA,EACHziB,QAAOyD,IAASA,EAAKhW,SAAS,gBAC9BuS,QAAOyD,IAASA,EAAKhW,SAAS,iBAC9BuS,QAAOyD,IAASA,EAAKhW,SAAS,WAEnCk2B,EAAYlB,EAAM94B,KAAK,QAEvBg6B,EAAYnB,EAAiBmB,GAG7BA,EAAYA,EAAUj6B,MAAM,MACvBoE,MAAM,GACNrC,KAAIgY,GAAQ,KAAOA,IACnB9Z,KAAK,IACHg6B,CACX,EAGA,oBAAyBrH,EAAauE,GAClC,IAAI4B,EAAQnG,EAAI5yB,MAAM,MAAM+B,KAAIgY,GAAQA,EAAKnY,SAE7C,MAAMs4B,EAAK,IAAIrhB,OAAO,mBAAmBse,KAEzC,OADgB4B,EAAMh3B,KAAIgY,GAAQA,EAAKlY,MAAMq4B,KAAK5jB,QAAOzU,KAAWA,IACrDE,KAAIF,IACf,MAAMs4B,EAAcpsB,SAASlM,EAAM,IAC7Bu4B,EAAa,UAAUD,KACvBE,EAAOtB,EAAM7B,MAAKnd,GAAQA,EAAK8E,WAAWub,MAAc3Z,UAAU2Z,EAAWr8B,QACnF,MAAO,CACHo8B,cACAE,OACH,GAET,EAOA,oBA+BA,4BAAiCzH,EAAauG,EAA+B,CAAC,WAAY,aACtF,MAAO,CACHmB,MAAOpB,EAAgBtG,EAAK,QAASuG,IAAa7B,QAClDiD,MAAOrB,EAAgBtG,EAAK,QAASuG,IAAa7B,QAE1D,EAEA,2BAQA,eAaA,SAAgBkD,EAAU9C,GACtB,OAAOA,EAASphB,QAAOyD,GAAQA,EAAK8E,WAF1B,YAGL9c,KAAI04B,IACD,MAAMC,EAAaD,EAASh9B,QAAQ,KACpC,IAAoB,IAAhBi9B,EACA,OACJ,MAAML,EAAOI,EAASha,UAAU,EAAGia,GAC7BC,EAAYF,EAASha,UAAUia,EAAa,GAC5CP,EAAcpsB,SAASssB,EAAKr6B,MAAM,KAAK,IAE7C,IAAKq6B,IAASM,GAAa7b,OAAO9Q,MAAOmsB,GACrC,OAGJ,MAAMS,EAEF,CAAC,EAML,OAJAD,EAAU36B,MAAM,KAAK+B,KAAI84B,GAASA,EAAMj5B,SAAQc,SAAQm4B,IACpD,MAAOp4B,KAAQzF,GAAS69B,EAAM76B,MAAM,KACpC46B,EAAWn4B,GAAOzF,EAAMiD,KAAK,IAAI,IAE9B,CACHk6B,cACAS,aACH,IAEJtkB,QAAO+jB,KAAUA,GAC1B,CAIA,SAAgBS,EAAYC,EAAmBC,GAC3C,MAAMn5B,EAAQm5B,GAAQn5B,MAAM,mCAI5B,IAAIs1B,EA4BJ,OA9BA6D,EAASA,GAAQr9B,cAGbq9B,GAAQj3B,SAAS,SACjBozB,EAAQ,MAEH6D,GAAQj3B,SAAS,QACtBozB,EAAQ,OAEH6D,GAAQj3B,SAAS,QACtBozB,EAAQ,WAEH6D,GAAQj3B,SAAS,QACtBozB,EAAQ,WAEH6D,GAAQj3B,SAAS,OACtBozB,EAAQ,MAEH6D,GAAQj3B,SAAS,QACtBozB,EAAQ,OAEH6D,GAAQj3B,SAAS,QACtBozB,EAAQ,OAEF6D,GAAwB,UAAdD,IAGhB5D,EAAQ,YAGL,CACHpd,KAAMihB,EACN7D,QACA8D,SAAUp5B,IAAQ,GAClBq5B,MAAOntB,SAASlM,IAAQ,IACxBs4B,YAAapsB,SAASlM,IAAQ,IAEtC,CAxEA,cAgCA,gBA0CA,MAAMs5B,EAAW,aACXC,EAAU,YAChB,SAAgBC,EAAc3D,GAC1B,MAAMG,EAAUH,EAASR,MAAKnd,GAAQA,EAAK8E,WAAWsc,MAAY1a,UAAU0a,EAASp9B,QAC/Eu9B,EAAc5D,EAASR,MAAKnd,GAAQA,EAAK8E,WAAWuc,KACpDzB,EAAQG,EAAWpC,EAAS,IAElC,IAAIP,EAAQ2D,EAAYnB,EAAMj8B,KAAM49B,GAAanE,MAEjD,MAAMoE,EAAU7D,EAASphB,QAAOyD,GAAQA,EAAK8E,WAAWuc,KAAUr5B,KAAIgY,GAAQ+gB,EAAYnB,EAAMj8B,KAAMqc,KAEtG,IAAIyhB,EACJ,IAAK,MAAMC,IAAkB,CAAC,WAAY,WAAY,WAAY,YAAa,CAE3E,GADc/D,EAASR,MAAKnd,GAAQA,IAAS,KAAO0hB,IACzC,CACPD,EAAYC,EACZ,K,EAIR,MAAM5M,EAAM,IACL8K,EACHU,KAAMG,EAAU9C,GAChBqB,MAAOrB,EACP6D,UACA/5B,SAAUk2B,EAASz3B,KAAK,QACxB43B,UACAV,QACAqE,YACAE,MAAO,IACI7M,EAAIkK,MAAM94B,KAAK,SAI9B,OAAO4uB,CACX,CAjCA,kBAqCA,oBAAyB+D,GACrB,MAAMmG,EAAQnG,EAAI5yB,MAAM,MAAM+B,KAAIgY,GAAQA,EAAKnY,SACzC1E,EAAmB,GACnB66B,EAAwB,GAC9B,IAAIL,EAEJ,IAAK,MAAM3d,KAAQgf,EACXhf,EAAK8E,WAAW,QACZ6Y,GACAK,EAAU3xB,KAAKsxB,GAEnBA,EAAW,IAGXA,EACAA,EAAStxB,KAAK2T,GAGd7c,EAAOkJ,KAAK2T,GAIhB2d,GACAK,EAAU3xB,KAAKsxB,GAEnB,MAAM7I,EAAM,CACR3xB,OAAQ,CACJ67B,MAAO77B,EACPsE,SAAUtE,EAAO+C,KAAK,SAE1B83B,UAAWA,EAAUh2B,IAAIs5B,GACzBK,MAAO,IACI,IAAI7M,EAAI3xB,OAAO67B,SAAUlK,EAAIkJ,UAAUh2B,KAAI21B,GAAYA,EAASqB,QAAO4C,QAAQ17B,KAAK,SAInG,OAAO4uB,CACX,EAEA,qBACIyK,GASA,MAAMsC,EAAStC,GAASe,OAAO,IAAIO,aAAa,yBAAyB56B,MAAM,KAG/E,GAAuB,IAAnB47B,GAAQ79B,OACR,MAAO,CACH89B,SAAKl4B,EACLm4B,SAAKn4B,GAIb,MAAOk4B,EAAKC,GAAOF,EAEnB,MAAO,CACHC,IAAKj8B,OAAOC,KAAKg8B,EAAK,UACtBC,IAAKl8B,OAAOC,KAAKi8B,EAAK,UAE9B,C,ygBC/TA,Y,qNCAA,mBAIA,SAEA,IAAYC,GAAZ,SAAYA,GACR,8CACA,4CACA,+CACA,6CACA,iDACA,iDACA,+CACA,6CACA,2CACA,2DACA,yDACA,qDACA,oDACA,gDACA,mDACH,CAhBD,CAAYA,EAAA,EAAAA,eAAA,EAAAA,aAAY,KAmBxB,4BAGI/4B,YAAmBg5B,EAAYz8B,EAAkBC,EAAyBob,GAAvD,KAAAohB,GAAAA,EAAuD,KAAAphB,QAAAA,EACtEzX,KAAK84B,WAAa,IAAI,UAAgB,CAClC18B,WACAC,YAER,CAEA6D,yBAOI,aANuBF,KAAK84B,WAAWx4B,QAAQ,CAC3C0H,WAAY,EAAA+wB,kBACZh7B,OAAQ,MACRiM,aAAc,OACdvK,IAAK,UAAUO,KAAK64B,qDAEPp+B,KAAgBmG,SAAS,WAC9C,CASAV,sBACI,OAAO,IAAA84B,eAAch5B,KAAK84B,WAAY94B,KAAK64B,GAC/C,CAEA34B,qBAEI,MAAMO,QAAiBT,KAAK84B,WAAWx4B,QAAQ,CAC3C0H,WAAY,EAAA+wB,kBACZh7B,OAAQ,MACRiM,aAAc,cACdvK,IAAK,UAAUO,KAAK64B,4BAGxB,OAAOp8B,OAAOC,KAAK+D,EAAShG,KAChC,CAEAyF,qBACI,MAAMT,EAAM,UAAUO,KAAK64B,wDAC3BphB,QAAQ2I,IAAI,2BAA4B3gB,GAExC,MAMM+J,SANiBxJ,KAAK84B,WAAWx4B,QAAQ,CAC3C0H,WAAY,EAAA+wB,kBACZh7B,OAAQ,MACRiM,aAAc,SACdvK,SAEoBhF,KAyBxB,OAxBA+O,EAAOqT,OAAOoc,cAAa,GAE3BzvB,EAAOW,GAAG,QAASyJ,IACf,MAAMnZ,EAAOmZ,EAAOjX,WACdgY,EAAQla,EAAKoC,MAAM,KACzB,IAAI6wB,EACJ,IACI,IAAK,MAAM7uB,KAAQ8V,EACX9V,EAAK6c,WAAW,WAChBgS,EAAQ7uB,EAAKhC,MAAM,KAAK,IAAI4B,O,CAIxC,MAAO0V,GACHnU,KAAKyX,QAAQxa,MAAM,sBAAuBxC,E,CAG9C,IAAK,MAAMwe,KAASvf,OAAO+J,OAAOm1B,IACD,IAAzBn+B,EAAKH,QAAQ2e,IACbzP,EAAO8P,KAAK,QAASL,EAAOyU,EAAOjzB,E,IAKxC+O,CACX,CAEAtJ,+BAA+BixB,GAC3B,IAAK,IAAIvvB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,MAAMnC,EAAM,UAAUO,KAAK64B,wDAAwD1H,EAAU,kBAAkBvvB,4BACzGnB,QAAiBT,KAAK84B,WAAWx4B,QAAQ,CAC3C0H,WAAY,EAAA+wB,kBACZh7B,OAAQ,OACR0B,QAEJO,KAAKyX,QAAQ2I,IAAI3f,EAAShG,K,CAElC,E,6yBCpHJ,gBACA,UACA,aACA,aACA,UACA,UACA,UACA,UACA,UAEM,aAAEimB,GAAiB,UAEnBwY,EAAwB,mBACxBC,EAAsB,iBAE5B,SAASC,EAAUC,EAAcC,EAAgBh6B,GAC7C,MACMzF,EADQw/B,EAAKx8B,MAAM,MACLk3B,MAAKnd,GAAQA,EAAK8E,WAAW,GAAG4d,KAAUh6B,OAC9D,IAAKzF,EACD,OAGJ,OADcA,EAAMgD,MAAM,KACb,EACjB,CAEA,MAAM08B,UAAsB,EAAAC,gBAOxB35B,YAAYigB,EAAkB2Z,GAC1B1Z,MAAMD,EAAU2Z,GAHpB,KAAAC,cAAgB,IAAI,EAAAC,cAAc35B,MAIkB,SAA5CA,KAAKggB,QAAQ4Z,QAAQ,qBACrB55B,KAAKggB,QAAQ6Z,QAAQ,eAAgBX,GACrCl5B,KAAKggB,QAAQ8Z,WAAW,oBAG5B95B,KAAK+5B,kBACT,CAEAC,8BAA8BC,GAC1B,MAAM,IAAI1oB,MAAM,0BACpB,CAEA2oB,4BAA4BC,GACxB,MAAM,IAAI5oB,MAAM,0BACpB,CAEArR,yBAAyB8D,GAErB,MAAMo2B,EAAY,IAAI7kB,KAAKvR,EAAQo2B,WAC7BC,GAASD,EAAUE,WAAa,GAAG39B,WAAW49B,SAAS,EAAG,KAC1DC,EAAOJ,EAAUK,UAAU99B,WAAW49B,SAAS,EAAG,KAClDG,EAAON,EAAUO,cACjBC,EAAQR,EAAUS,WAAWl+B,WAAW49B,SAAS,EAAG,KACpDO,EAAUV,EAAUW,aAAap+B,WAAW49B,SAAS,EAAG,KACxDS,EAAUZ,EAAUa,aAAat+B,WAAW49B,SAAS,EAAG,KAExD96B,EAAM,UAAUO,KAAKk7B,qDAAqDR,KAAQL,KAASG,KAAQI,KAASE,KAAWE,IACvHjJ,EAAY/xB,KAAKm7B,mBAAmB17B,GAC1C,OAAOO,KAAKo7B,qBAAqBrJ,OAAWvxB,EAChD,CAEA66B,4BACI,OAAOr7B,KAAKs7B,uBAChB,CAEAp7B,yBACI,MAAM24B,EAAK74B,KAAKggB,QAAQ4Z,QAAQ,MAChC,IAAKf,EACD,OAEJ,MAAM0C,EAAgB,UAAU1C,IAC1B2C,EAAgC,IAC/Bx7B,KAAKy7B,KACR5C,KACA0C,iBAGEG,EAAmB,CACrB,CAAEC,OAAQ,YAAav8B,QAAS,UAAWw8B,UAAW,gBACtD,CAAED,OAAQ,cAAev8B,QAAS,MAAOw8B,UAAW,gBACpD,CAAED,OAAQ,gBAAiBv8B,QAAS,QAASw8B,UAAW,SACxD,CAAED,OAAQ,qBAAsBv8B,QAAS,WAAYw8B,UAAW,aAGpE,IAAK,MAAMC,KAAWH,EAClB,IACI,MAAMj7B,QAAiBT,KAAK87B,YAAYhD,WAAWx4B,QAAQ,CACvDb,IAAK,UAAUO,KAAK+7B,gDAAgDF,EAAQF,WAG1ExhC,EAAS4hB,OAAOtb,EAAShG,MAAM2E,QAAQy8B,EAAQz8B,QAAS,IAAIX,OAClE+8B,EAAWK,EAAQD,WAAazhC,C,CAEpC,MAAOga,GACHnU,KAAKyX,QAAQxa,MAAM,iCAAkC4+B,EAAQF,OAAQxnB,E,CAI7EnU,KAAKy7B,KAAOD,CAChB,CAEAt7B,4BAA4B8D,GACxB,IAAKA,EAAQiN,IAAIyK,WAAW,WACxB,MAAM,IAAInK,MAAM,cACpB,MAAM4f,EAAUvmB,SAAS5K,KAAKg8B,mBAAqB,EAC7CC,EAAerxB,SAAS5G,EAAQiN,IAAIqM,UAAU,UAAU1iB,SAAW,EAEnE6Z,EAAS,UAAU0c,EAAU,MADL,aAAfntB,EAAQiN,GAAoB,aAAe,iBACPgrB,KAC7C96B,EAAS,IAAIiX,gBACnB,GAAIpU,EAAQozB,OAAO8E,QAAS,CACxB,IAAIA,EAAUl4B,GAASozB,OAAO8E,QAC9B,IAAKA,EACD,OACJA,EAAUC,KAAKC,MAAMF,EAAU,KAC/B/6B,EAAO2hB,IAAI,GAAGrO,kBAAwBynB,EAAQv/B,W,CAqBlD,GAnB6B,SAAzBqH,EAAQozB,OAAOpD,OACf7yB,EAAO2hB,IAAI,GAAGrO,sBAA4B,SAEjB,SAAzBzQ,EAAQozB,OAAOpD,OACf7yB,EAAO2hB,IAAI,GAAGrO,sBAA4B,SAE1CzQ,EAAQozB,OAAOzH,OAAS3rB,EAAQozB,OAAOxH,QACvCzuB,EAAO2hB,IAAI,GAAGrO,qBAA2B,GAAGzQ,EAAQozB,MAAMzH,SAAS3rB,EAAQozB,MAAMxH,UAEjF5rB,EAAQozB,OAAOiF,MACfl7B,EAAO2hB,IAAI,GAAGrO,cAAoBzQ,EAAQozB,MAAMiF,IAAI1/B,YAChDqH,EAAQozB,OAAOkF,mBACfn7B,EAAO2hB,IAAI,GAAGrO,eAAqBzQ,EAAQozB,MAAMiF,IAAMr4B,EAAQozB,OAAOkF,kBAAoB,KAAM3/B,aAGpGqH,EAAQozB,OAAOmF,gBACfp7B,EAAO2hB,IAAI,GAAGrO,yBAAgE,aAAjCzQ,EAAQozB,MAAMmF,eAAgC,MAAQ,QAGlG,IAAIp7B,EAAO8C,QAAQrJ,OACpB,OAEJ,MAAM6F,QAAiBT,KAAK87B,YAAYhD,WAAWx4B,QAAQ,CACvDb,IAAK,UAAUO,KAAK+7B,+DAA+D56B,MAEvFnB,KAAKyX,QAAQ2I,IAAI,qBAAsB3f,EAAShG,KACpD,CAEAqhC,YAGI,OAFK97B,KAAKisB,SACNjsB,KAAKisB,OAAS,IAAI,EAAAuQ,oBAAoBx8B,KAAK+7B,iBAAkB/7B,KAAKy8B,cAAez8B,KAAK08B,cAAe18B,KAAKyX,UACvGzX,KAAKisB,MAChB,CAEA/rB,qBACI,MAAM+rB,EAAS,IAAI,EAAAuQ,oBAAoBx8B,KAAK+7B,iBAAkB/7B,KAAKy8B,cAAez8B,KAAK08B,cAAe18B,KAAKyX,SACrGsB,QAAekT,EAAO0Q,eACtBC,EAAe58B,KAAKggB,QAAQ4Z,QAAQ,gBACpCiD,EAAW78B,KAAKggB,QAAQ4Z,QAAQ,YAChCkD,EAA8D,SAA5C98B,KAAKggB,QAAQ4Z,QAAQ,mBAE7C,IAAImD,EA0DJ,OAxDAhkB,EAAO5O,GAAG,SAAS,CAAC8O,EAAqByU,EAAe5X,KACpD,MAAMknB,EAAgBh9B,KAAKg8B,iBAC3B,GAAIgB,EAAe,CAEf,IADYpyB,SAAS8iB,GAAS,GACtB/wB,aAAeqgC,EACnB,M,CAEJ/jB,IAAU,EAAA2f,aAAaqE,YACvBj9B,KAAKk9B,gBAAiB,EAEjBjkB,IAAU,EAAA2f,aAAauE,WAC5Bn9B,KAAKk9B,gBAAiB,EAEjBjkB,IAAU,EAAA2f,aAAawE,WAC5Bp9B,KAAKq9B,eAAgB,EAEhBpkB,IAAU,EAAA2f,aAAa0E,UAC5Bt9B,KAAKq9B,eAAgB,EAEhBpkB,IAAU,EAAA2f,aAAa2E,YACzBtkB,IAAU,EAAA2f,aAAa4E,sBACvBvkB,IAAU,EAAA2f,aAAa6E,eACvBxkB,IAAU,EAAA2f,aAAa8E,gBACtBzkB,IAAU,EAAA2f,aAAa8E,iBAAmB5nB,GAAWgnB,EAEjDhnB,EAAQlV,SAASi8B,KAEjB78B,KAAK29B,aAAc,GAIvB39B,KAAK29B,aAAc,EAGlB1kB,IAAU,EAAA2f,aAAagF,YACzB3kB,IAAU,EAAA2f,aAAaiF,qBACvB5kB,IAAU,EAAA2f,aAAakF,cACvB7kB,IAAU,EAAA2f,aAAamF,eACvB9kB,IAAU,EAAA2f,aAAaoF,gBAC1Bh+B,KAAK29B,aAAc,EAEd1kB,IAAU,EAAA2f,aAAaqF,WAAarB,IAAiB1D,EACtDpjB,EAAQlV,SAAS,UACjBZ,KAAK29B,aAAc,EAEd7nB,EAAQlV,SAAS,YACtBZ,KAAK29B,aAAc,GAGlB1kB,IAAU,EAAA2f,aAAasF,gBAAkBtB,IAAiBzD,IAC/Dlc,aAAa8f,GACbA,EAAejyB,YAAW,IAAM9K,KAAK29B,aAAc,GAAO,KAC1D39B,KAAK29B,aAAc,E,IAIpB5kB,CACX,CAEA7Y,yBACI,MAAMwrB,QAAY3L,MAAMoe,mBACxBzS,EAAIzoB,KACA,CACIm7B,MAAO,gBACPC,QAAS,CACL,iBACAnF,EACAC,GAEJnnB,YAAa,sEACbnY,MAAOmG,KAAKggB,QAAQ4Z,QAAQ,iBAAmB,iBAC/Ct6B,IAAK,iBAIb,MAAMs9B,EAAe58B,KAAKggB,QAAQ4Z,QAAQ,gBACpC0E,EAAa1B,IAAiB1D,GAAyB0D,IAAiBzD,EAE9E,IAAIoF,EAAcv+B,KAAKggB,QAAQ4Z,QAAQ,eAEvC,MAAMyE,EAAU,CACZ,UACA,SAGCC,GACDD,EAAQluB,QAAQ,QAEpBouB,EAAcF,EAAQtK,MAAK5kB,GAAKA,IAAMovB,IAEjCA,IACDA,EAAcD,EAAa,UAAY,QAGvC1B,GAAgBzD,GAEhBzN,EAAIzoB,KACD,CACCm7B,MAAO,wBACP9+B,IAAK,kBACL0S,YAAa,gFACbzX,KAAM,UACNV,OAAoD,SAA5CmG,KAAKggB,QAAQ4Z,QAAQ,oBAA+Bj9B,aAuCpE,OAlCwBqD,KAAKggB,QAAQ4Z,QAAQ,oBAIzClO,EAAIzoB,KACA,CACIm7B,MAAO,YACP9+B,IAAK,WACL0S,YAAa,YACbzX,KAAM,SACNV,MAAOmG,KAAKggB,QAAQ4Z,QAAQ,cAMxClO,EAAIzoB,KACA,CACIm7B,MAAO,gBACPvkC,MAAO0kC,EACPj/B,IAAK,cACL0S,YAAa,8HACbqsB,YAYD3S,CAEX,CAKAxrB,6BAA6Bs+B,GACzB,OAAOx+B,KAAK2gB,wBAAwB3gB,KAAK87B,YAAY2C,eAAgB,aACzE,CAEAv+B,uBACI,MAAO,CACH,CACIZ,IAAK,cACL8+B,MAAO,0BACPM,SAAU,WACV1sB,YAAa,sEACb2sB,YAAa,IACb9kC,MAAOmG,KAAKggB,QAAQ4Z,QAAQ,yBAEvB7Z,MAAM6e,iBAEvB,CAEA5C,iBACI,OAAOh8B,KAAKggB,QAAQ4Z,QAAQ,cAChC,CAGAiF,6BAA6Bp/B,EAAaiuB,GACtC,MAAMhC,EAAM3L,MAAM8e,6BAA6Bp/B,EAAKiuB,GAEpD,OADAhC,EAAIoT,KAAO,WACJpT,CACX,CAEAxrB,yCACI,MAAM+rB,EAASjsB,KAAK87B,YAkGpB,OAhGK97B,KAAK++B,qBACN/+B,KAAK++B,mBAAqB,WACtB,IAAIC,EACJ,IAMIA,SALuB/S,EAAO6M,WAAWx4B,QAAQ,CAC7Cb,IAAK,UAAUO,KAAK+7B,wFACpB/xB,aAAc,OACdhC,WAAY,EAAA+wB,qBAEDt+B,KAAKoC,MAAM,KAAK,GAAG4B,OAClCuB,KAAKggB,QAAQ6Z,QAAQ,kBAAmBmF,EAAIriC,W,CAEhD,MAAOwX,GACHnU,KAAKyX,QAAQxa,MAAM,qCAAsCkX,GACzD6qB,EAAMh/B,KAAKggB,QAAQ4Z,QAAQ,kB,CAG/B,MAAMqF,EAAkBr0B,SAASo0B,IAAQ,EACnC7N,EAAUvmB,SAAS5K,KAAKg8B,mBAAqB,EAC7CkD,EAAO,IAAIp/B,MAAMm/B,EAAkB,GAAGh7B,QAAQrF,KAAIugC,GAAWn/B,KAAK6+B,6BAA6B,UAAU7+B,KAAKk7B,4CAA4C/J,aAAmBgO,IAAWA,KAE9L,IACI,MAAMC,QAAoBnT,EAAO6M,WAAWx4B,QAAQ,CAChDb,IAAK,UAAUO,KAAK+7B,qEACpB/xB,aAAc,OACdhC,WAAY,EAAA+wB,oBAEhB/4B,KAAKyX,QAAQ2I,IAAIgf,EAAY3kC,MAC7B,MAAM4kC,QAAuBpT,EAAO6M,WAAWx4B,QAAQ,CACnDb,IAAK,UAAUO,KAAK+7B,0EACpB/xB,aAAc,OACdhC,WAAY,EAAA+wB,oBAEhB/4B,KAAKyX,QAAQ2I,IAAIif,EAAe5kC,MAEhC,IAAK,IAAImH,EAAI,EAAGA,EAAIs9B,EAAKtkC,OAAQgH,IAAK,CAClC,MAAM09B,EAAMJ,EAAKt9B,GACjB,IAAI29B,EACAC,EACM,IAAN59B,GACA29B,EAAU,QAAQpO,EAAU,mBAC5BqO,EAAU,gBAAgBrO,EAAU,qBAGpCoO,EAAU,QAAQpO,EAAU,kBAAkBvvB,EAAI,KAClD49B,EAAU,gBAAgBrO,EAAU,kBAAkBvvB,EAAI,MAG9D,MAAM69B,EAAarG,EAAUiG,EAAe5kC,KAAM+kC,EAAS,sBACrDpgC,QAAQ,IAAK,KAAK5E,eAAeiE,OACvC,IAAIihC,EAAatG,EAAUiG,EAAe5kC,KAAM+kC,EAAS,sBACnDpgC,QAAQ,IAAK,KAAK5E,eAAeiE,OACnCihC,GAAY9+B,SAAS,OACrB8+B,EAAa,MACRA,EAAW9+B,SAAS,SACzB8+B,EAAa,WACRA,EAAW9+B,SAAS,SACzB8+B,EAAa,WACRA,EAAW9+B,SAAS,UACzB8+B,EAAa,OAEbJ,EAAInI,QACJmI,EAAInI,MAAMnD,MAAQ0L,GACtBJ,EAAIlI,MAAMpD,MAAQyL,EAElB,MAAM9P,EAAQyJ,EAAUiG,EAAe5kC,KAAM+kC,EAAS,eAChD5P,EAASwJ,EAAUiG,EAAe5kC,KAAM+kC,EAAS,gBACnD7P,GAASC,IACT0P,EAAIlI,MAAMzH,MAAQ/kB,SAAS+kB,GAC3B2P,EAAIlI,MAAMxH,OAAShlB,SAASglB,IAGhC,MAAM+P,EAAiBvG,EAAUgG,EAAY3kC,KAAM8kC,EAAS,wBAC5D,IAAKI,EACD,SAEJ,MAAMC,EAAgBxG,EAAUiG,EAAe5kC,KAAM+kC,EAAS,iBAC9D,IAAKI,EACD,SAEJ,MAAOC,EAAKC,GAAOH,EAAe9iC,MAAM,KACnCgjC,GAAQC,IAEbR,EAAIlI,MAAM8E,QAAoC,IAA1BtxB,SAASg1B,GAC7BN,EAAIlI,MAAM2I,WAA6B,IAAhBn1B,SAASk1B,GAChCR,EAAIlI,MAAM4I,WAA6B,IAAhBp1B,SAASi1B,G,EAGxC,MAAO1rB,GACHnU,KAAKyX,QAAQxa,MAAM,yCAA0CkX,E,CAGjE,OAAO+qB,CACV,EA5FyB,IA+FvBl/B,KAAK++B,kBAChB,CAEA7+B,iBAAiBZ,EAAazF,GAC1B,GAAY,wBAARyF,EACA,GAAc,SAAVzF,EACA,UACUmG,KAAK87B,YAAYmE,yBAAyBr1B,SAAS5K,KAAKg8B,mBAAqB,GACnFh8B,KAAKggB,QAAQ6Z,QAAQ,sBAAuB,O,CAEhD,MAAO1lB,GACHnU,KAAKogB,IAAI7H,EAAE,qDACXvY,KAAKyX,QAAQxa,MAAM,oDAAqDkX,E,MAI5EnU,KAAKggB,QAAQ8Z,WAAW,uBAIhC95B,KAAKisB,YAASzrB,EACdR,KAAK++B,wBAAqBv+B,EAE1Buf,MAAMmgB,WAAW5gC,EAAKzF,GACtB,MAAM+iC,EAAe58B,KAAKggB,QAAQ4Z,QAAQ,gBACpC0E,EAAa1B,IAAiB1D,GAAyB0D,IAAiBzD,EAExEoF,EAAsD,SAAxCv+B,KAAKggB,QAAQ4Z,QAAQ,gBACM,UAAxC55B,KAAKggB,QAAQ4Z,QAAQ,gBACmB,YAAxC55B,KAAKggB,QAAQ4Z,QAAQ,eAEtBuG,EAAangC,KAAKy5B,SAAS2G,gBACjC,IAAI7lC,EACA+jC,IACA/jC,EAAO,EAAA8pB,mBAAmBgc,SAC1BF,EAAWl9B,KAAK,EAAAwgB,kBAAkBsD,gBAElCuX,GAAcC,IACd4B,EAAWl9B,KAAK,EAAAwgB,kBAAkBsC,UAEsC,SAAhD/lB,KAAKggB,QAAQ4Z,QAAQ,wBAE7CuG,EAAWl9B,KAAK,EAAAwgB,kBAAkBiC,eACtC1lB,KAAKy5B,SAAS6G,aAAatgC,KAAK8f,SAAU9f,KAAKd,KAAMihC,EAAY5lC,GAEjEyF,KAAK+5B,kBACT,CAEA75B,oBAAoBqgC,GAChB,GAA4C,UAAxCvgC,KAAKggB,QAAQ4Z,QAAQ,eAA4B,CACjD,MACMpwB,SADgBxJ,KAAKwgC,oCACJ,GACjB/gC,EAAM,IAAImZ,IAAIpP,EAAO/J,KAK3B,OAFAA,EAAIghC,aAAa3d,IAAI,QAAS,SAC9B9iB,KAAK05B,cAAcj6B,IAAMA,EAAI9C,WACtBqD,KAAK05B,cAAcgH,cAAcH,E,CAK5C,MAAMpP,EAAUnxB,KAAKg8B,kBAAoB,IAEnCpoB,QAAe8M,EAAaigB,2BAA2BJ,EAAO,EAAA/c,kBAAkBod,aAGhFpsB,EAFcN,KAAKnT,MAAM6S,EAAOjX,YAEboyB,eAAe9tB,QACxCuT,EAAKrE,QAAQ,gBAEbqE,EAAKvR,KACD,MACA,UAAW,MACX,KAAM,OACN,UAGJjD,KAAKyX,QAAQ2I,IAAI,kBAAmB5L,GAEpC,MAAMqsB,QAAengB,EAAaogB,gBAClC9gC,KAAK+gC,GAAK,UAAcC,MAAMH,EAAQrsB,EAAM,CACxCysB,MAAO,CAAC,OAAQ,OAAQ,OAAQ,UAEpCjhC,KAAK+gC,GAAG52B,GAAG,QAAQ,IAAMnK,KAAK+gC,QAAKvgC,KACnC,IAAA0gC,wBAAuBlhC,KAAKyX,QAASzX,KAAK+gC,IAC1C,MAAMlkB,EAAS7c,KAAK+gC,GAAGE,MAAM,GAE7B,WACI,MAAMxhC,EAAM,UAAUO,KAAK+7B,mFAAmF5K,IAC9GnxB,KAAKyX,QAAQ2I,IAAI,wBAAyB3gB,GAI1C,MAAM0hC,EAAc,IAAI,EAAAC,YACxBphC,KAAK87B,YAAYhD,WAAWx4B,QAAQ,CAChCvC,OAAQ,OACR0B,MACAkB,QAAS,CACL,eAAgB,YAChB,iBAAkB,WAEtBqH,WAAY,EAAA+wB,kBACZt+B,KAAM0mC,IAGV,IACI,OAAa,CACT,MAAM1mC,QAAa,IAAA6wB,YAAWzO,EAAQ,MACtCskB,EAAYl+B,KAAKxI,E,EAGzB,MAAO0Z,G,SAGHnU,KAAKyX,QAAQ2I,IAAI,kBACjB+gB,EAAY71B,K,CAGhBtL,KAAKqhC,cACR,EAhCD,EAiCJ,CAEAnhC,qBACI,GAA4C,UAAxCF,KAAKggB,QAAQ4Z,QAAQ,eACrB,OAAO55B,KAAK05B,cAAc2H,eAG9BrhC,KAAK+gC,IAAIO,OACTthC,KAAK+gC,QAAKvgC,CACd,CAEA+gC,sBACI,OAAO,CACX,EAGJ,MAAMC,UAAwB,EAAAC,aAC1BC,0BACI,MAAO,CACH,EAAAje,kBAAkBqC,yBAClB,EAAArC,kBAAkB6B,OAClB,EAAA7B,kBAAkByD,YAClB,EAAAzD,kBAAkB0D,aAE1B,CAGAjnB,mBAAmByhC,EAAiC7hB,GAChD,MAAM8hB,EAAc,GAAGD,EAAS9I,MAAM8I,EAASE,UAAY,KAC3D,IAAIpG,EAA0B,CAAC,EAE/B,MAAMr/B,EAAWulC,EAASvlC,UAAUO,WAC9BN,EAAWslC,EAAStlC,UAAUM,WAEpC,IAAI4hC,EACJ,KAF+C,SAA1BoD,EAASG,cAEX,CACf,MAAMC,EAAM,IAAI,EAAAvF,oBAAoBoF,EAAaxlC,EAAUC,EAAU2D,KAAKyX,SAC1E,IACI,MAAM+jB,QAAmBuG,EAAI/I,gBAE7B2I,EAASK,UAAYxG,EAAWyG,WAChCxG,EAAKyG,MAAQ1G,EAAWyG,WACxBxG,EAAK0G,aAAe3G,EAAW2G,Y,CAEnC,MAAOhuB,GAEH,MADAnU,KAAKyX,QAAQxa,MAAM,8BAA+BkX,GAC5CA,C,CAGV,UACc4tB,EAAIK,qBAEV7D,EAAc,Q,CAGtB,MAAOpqB,GACHnU,KAAKyX,QAAQC,KAAK,8BAA+BvD,E,EAGzDwtB,EAASK,YAAc,iBAEvBliB,QAAiBC,MAAMsiB,aAAaV,EAAU7hB,GAE9C,MAAMwiB,QAAetiC,KAAKuiC,UAAUziB,GAQpC,OAPAwiB,EAAO7G,KAAOA,EACd6G,EAAOpC,WAAW,WAAY9jC,GAC9BkmC,EAAOpC,WAAW,WAAY7jC,GAC9BimC,EAAOE,aAAab,EAAS9I,IAAIl8B,YACjC2lC,EAAOG,oBAAoBd,EAASE,UAAUllC,YAC1C4hC,GACA+D,EAAOpC,WAAW,cAAe3B,GAC9Bze,CACX,CAEA5f,gCACI,MAAO,CACH,CACIZ,IAAK,WACL8+B,MAAO,YAEX,CACI9+B,IAAK,WACL8+B,MAAO,WACP7jC,KAAM,YAEV,CACI+E,IAAK,KACL8+B,MAAO,aACPO,YAAa,iBAEjB,CACIr/B,IAAK,WACL8+B,MAAO,YACPpsB,YAAa,gEACb2sB,YAAa,MAEjB,CACIr/B,IAAK,eACL8+B,MAAO,kBACPpsB,YAAa,yEACbzX,KAAM,WAGlB,CAEAmoC,aAAa5iB,GACT,OAAO,IAAIyZ,EAAczZ,EAAU9f,KACvC,EAGJ,UAAewhC,C,mNC7pBf,mBAEa,EAAAzI,kBAAoB,IAAI,UAAM4J,MAAM,CAC7ChS,oBAAoB,IAaxB,gBAAOzwB,eAA6B44B,EAA6BxP,GAC7D,MAMMsM,SANiBkD,EAAWx4B,QAAQ,CACtC0H,WAAY,EAAA+wB,kBACZh7B,OAAQ,MACRiM,aAAc,OACdvK,IAAK,UAAU6pB,iDAEK7uB,KAAgBoC,MAAM,MACxC+lC,EAEF,CAAC,EACL,IAAK,MAAMhsB,KAAQgf,EAAO,CACtB,IAAIlI,EAAQ9W,EAAKtc,QAAQ,MACV,IAAXozB,IACAA,EAAQ9W,EAAKhc,QACjB,MAAMykB,EAAIzI,EAAK0G,UAAU,EAAGoQ,GACtB9Y,EAAIgC,EAAK0G,UAAUoQ,EAAQ,GACjCkV,EAAKvjB,GAAKzK,EAAEnW,M,CAGhB,MAAO,CACHwjC,WAAYW,EAAKX,WACjBY,gBAAiBD,EAAKC,gBACtBV,aAAcS,EAAKT,aAE3B,C,s1BCzCA,mBACA,aACA,UACA,cAEM,cAAEjiB,EAAa,aAAEQ,GAAiB,UAElC1Y,EAAa,IAAI,UAAM26B,MAAM,CAC/BhS,oBAAoB,IAOxB,MAAsBmS,UAAyD,EAAAnjB,mBAI3E9f,YAAYigB,EAAyB2Z,GACjC1Z,MAAMD,GAD2B,KAAA2Z,SAAAA,CAErC,CAEUv5B,qBAAqB6iC,GACtB/iC,KAAKgjC,eACNhjC,KAAKgjC,aAAe,IAAI,UAAgB,CACpC5mC,SAAU4D,KAAKy8B,cACfpgC,SAAU2D,KAAK08B,iBAGvB,MAAMj8B,QAAiBT,KAAKgjC,aAAa1iC,QAAQ,CAC7C0H,aACAjK,OAAQ,MACRiM,aAAc,cACdvK,IAAKsjC,IAGT,OAAOriB,EAAaC,kBAAkBlkB,OAAOC,KAAK+D,EAAShG,MAAOgG,EAASE,QAAQ,iBAAmB,aAC1G,CAEAT,kBAAkBs+B,GAMd,OALKx+B,KAAKijC,iBACNjjC,KAAKijC,eAAiBjjC,KAAKkjC,qBAAqB1E,GAChDx+B,KAAKijC,eAAe7Y,SAAQ,IAAMpqB,KAAKijC,oBAAiBziC,KAGrDR,KAAKijC,cAChB,CAIA/iC,0BAEA,CAEAA,8BAEI,OADaF,KAAKmjC,0BAEtB,CAIAC,kBACI,MAA2C,SAApCpjC,KAAKggB,QAAQ4Z,QAAQ,UAChC,CAEA15B,qBAAqB8D,GACjB,MAAMk7B,QAAal/B,KAAKs7B,wBAClBgE,EAAMJ,GAAMnL,MAAK/qB,GAAKA,EAAEiI,KAAOjN,GAASiN,MAAOjR,KAAKqjC,iBAAiBnE,GAC3E,OAAOl/B,KAAKsjC,kBAAkBhE,EAClC,CAIAp/B,uBACI,MAAO,EAEX,CAEAu8B,cACI,OAAOz8B,KAAKggB,QAAQ4Z,QAAQ,WAChC,CAEA8C,cACI,OAAO18B,KAAKggB,QAAQ4Z,QAAQ,WAChC,CAEA15B,yBACI,MAAO,EACX,CAEAmjC,iBAAiBnE,GACb,OAAOA,IAAO,EAClB,CAEAh/B,0BACI,MAAO,EACX,CAEAqjC,yBACI,MAAO,gDACX,CAEAC,yBACI,MAAO,gDACX,CAEAtjC,oBACI,MAAMwrB,EAAiB,CACnB,CACIpsB,IAAK,WACL8+B,MAAO,WACPvkC,MAAOmG,KAAKy8B,cACZzqB,YAAahS,KAAKujC,0BAEtB,CACIjkC,IAAK,WACL8+B,MAAO,WACPvkC,MAAOmG,KAAK08B,cACZniC,KAAM,WACNyX,YAAahS,KAAKwjC,mCAEbxjC,KAAK4+B,0BACL5+B,KAAKyjC,6BACLzjC,KAAKm+B,mBACd,CACI7+B,IAAK,UACL8+B,MAAO,WACPpsB,YAAa,0EACbzX,KAAM,UACNV,MAAQmG,KAAKojC,kBAAmBzmC,aAIxC,IAAK,MAAMqM,KAAK0iB,EACZ1iB,EAAE06B,MAAQ1jC,KAAKy5B,SAASv6B,KAAKE,QAAQ,SAAU,IAAIX,OACnDuK,EAAE01B,WAAa,UAGnB,OAAOhT,CACX,CAEAxrB,qBAAqBZ,EAAazF,GAC9B,GAAY,kBAARyF,EAAyB,CACzB,MACMkK,SADaxJ,KAAKs7B,yBACJvH,MAAKuL,GAAOA,EAAIpgC,OAASrF,IAC7CmG,KAAKggB,QAAQ6Z,QAAQ,gBAAiBrwB,GAAQyH,IAAM,G,MAGpDjR,KAAKggB,QAAQ6Z,QAAQv6B,EAAKzF,EAAM8C,YAGpCqD,KAAKgjC,kBAAexiC,EAEpBR,KAAKmhB,cAAc,EAAAsC,kBAAkBqD,cAAUtmB,EACnD,CAEAN,iBAAiBZ,EAAazF,GAC1BmG,KAAK2jC,eAAerkC,EAAKzF,EAC7B,EAhJJ,eAmJA,MAAsB+pC,UAAiE,EAAAjkB,mBAGnF9f,YAAYigB,GACRC,MAAMD,GAHV,KAAA+jB,QAAU,IAAInZ,IAKV,IAAK,MAAMoZ,KAAS5jB,EAAc6jB,eAC1BD,GACA9jC,KAAKuiC,UAAUuB,EAE3B,CAEA5jC,mBAAmByhC,EAAiC7hB,GAChDA,KAAa,IAAA5e,aAAY,GAAGvE,SAAS,OACrC,MAAMuC,EAAOyiC,EAASK,WAAWrlC,YAAc,aAE/C,aADMqD,KAAKsgC,aAAaxgB,EAAU5gB,EAAMc,KAAKogC,iBACtCtgB,CACX,CAEA5f,gCACI,MAAO,CACH,CACIZ,IAAK,YACL8+B,MAAO,aACPO,YAAa,yDAGzB,CAEA+C,0BACI,MAAO,EAEX,CAEAtB,gBACI,MAAO,CACH,EAAA3c,kBAAkBgC,YAClB,EAAAhC,kBAAkBqD,YACf9mB,KAAK0hC,0BAEhB,CAEApB,aAAaxgB,EAAkB5gB,EAAcihC,EAAsB5lC,GAC/D,OAAO2lB,EAAc8jB,mBAAmB,CACpClkB,WACA5gB,OACAihC,aACA5lC,KAAMA,GAAQ,EAAA8pB,mBAAmBiB,OACjCmW,KAAMvb,EAAc6jB,eAAenjC,SAASkf,GAAYI,EAAcgB,eAAepB,IAAW2b,UAAOj7B,GAE/G,CAIA+hC,UAAUziB,GACN,IAAI4L,EAAM1rB,KAAK6jC,QAAQvoC,IAAIwkB,GAM3B,OALK4L,IACDA,EAAM1rB,KAAK0iC,aAAa5iB,GACpB4L,GACA1rB,KAAK6jC,QAAQ/gB,IAAIhD,EAAU4L,IAE5BA,CACX,CAEAxrB,oBAAoB+Q,EAAY6O,GAC5B9f,KAAK6jC,QAAQjZ,OAAO9K,EACxB,EAlEJ,sB,o0BClKA,mBAEA,UACA,UACA,UACA,aACA,SACA,cAEM,aAAEY,GAAiB,UAOnBujB,EAAoC,GAC1C,SAASC,EAAkBC,EAAqBC,GAC5CH,EAAgBhhC,KAAK,CACjBkhC,cACAC,WAER,CAmBAF,EAAkB,YAAa,QAC/BA,EAAkB,WAAY,QAC9BA,EAAkB,YAAa,OAC/BA,EAAkB,aAAc,QAChCA,EAAkB,MAAO,iBASzB,MAAMG,EAAa,kCACnB,SAAUC,EAAYC,GAClB,IAAK,MAAM7lC,KAAS6lC,EAAaC,SAASH,GAAa,CACnD,MAAOrR,EAAGgE,EAAaoN,EAASK,EAAYC,EAAOC,GAAYjmC,OACzD,CACFs4B,cACAoN,UACAK,aACAE,W,CAGZ,CAEA,MAAMC,EAAU,kCAEhB,sBAII/kC,YAAmBglC,GAAA,KAAAA,OAAAA,CACnB,CAEA3kC,sBACI,MAAM9D,EAAW4D,KAAK6kC,OAAO7kB,QAAQ4Z,QAAQ,YACvCv9B,EAAW2D,KAAK6kC,OAAO7kB,QAAQ4Z,QAAQ,YACvCn6B,EAAM,IAAImZ,IAAI5Y,KAAKP,KACzBA,EAAIrD,SAAWA,EACfqD,EAAIpD,SAAWA,EACf2D,KAAK8kC,eAAiB,IAAI,EAAAC,WAAWtlC,EAAI9C,YACzCqD,KAAK8kC,eAAertB,QAAUzX,KAAK6kC,OAAOptB,cACpCzX,KAAK8kC,eAAe9gC,UAE1B,MAAMqwB,QAAiBr0B,KAAK8kC,eAAezQ,SAAS,CAChDuQ,YAEJ5kC,KAAK6kC,OAAOptB,QAAQ2I,IAAI,0BACxBpgB,KAAK6kC,OAAOptB,QAAQ2I,IAAIiU,EAAS9vB,MAAM5H,YACvC,MACMqoC,GADY,IAAArQ,UAASN,EAAS9vB,KAAK5H,YACNi4B,UAAUb,MAAKQ,GAA8B,UAAlBA,EAASh6B,MAA2C,aAAvBg6B,EAAS8D,YACpG,IAAK2M,EACD,MAAM,IAAIzzB,MAAM,qCAEpB,OAAOyzB,CACX,CAEA9kC,oBAAoBqgC,SACVvgC,KAAKqhC,eAEX,MAAM2D,QAAyBhlC,KAAKilC,gBACpC,IAAKD,EACD,MAAM,IAAIzzB,MAAM,qCAEpB,MAAM8hB,QAAY,IAAA6R,kBACZnV,EAAOsD,EAAM,EAEnB,IAAIwF,EACAsM,EACAC,EACJ,IACI,MAAMzkC,EAAe,CACjBikC,UACAlS,UAAW,+BAA+BW,KAAOtD,KAG/CtvB,QAAiBT,KAAK8kC,eAAexkC,QAAQ,QAASK,EAASqkC,EAAiBtQ,SACtF0Q,GAAgB,IAAAxX,yBAAwBntB,EAASE,QAAQ2H,WACzDtI,KAAK8kC,eAAe5T,QAAUzwB,EAASE,QAAQuwB,QAAQr0B,MAAM,KAAK,GAClEg8B,EAAK74B,KAAK6kC,OAAOQ,eAEjB,MAAM,YAAEC,GAAgBF,EAClBG,EAAcD,EAAYzoC,MAAM,KACtCsoC,EAAYv6B,SAAS26B,EAAY,G,CAErC,MAAOpxB,GACHnU,KAAK6kC,OAAOptB,QAAQxa,MAAM,oDAAqDkX,GAE/E,MAAMxT,EAAe,CACjBikC,UACAlS,UAAW,uCAGTjyB,QAAiBT,KAAK8kC,eAAexkC,QAAQ,QAASK,EAASqkC,EAAiBtQ,SACtF0Q,GAAgB,IAAAxX,yBAAwBntB,EAASE,QAAQ2H,WACzDtI,KAAK8kC,eAAe5T,QAAUzwB,EAASE,QAAQuwB,QAAQr0B,MAAM,KAAK,GAClEg8B,EAAK,YACL,MAAMzP,QAAe,IAAAG,gBAAe,QACpCvpB,KAAK8kC,eAAe7Y,OAAO9hB,GAAG,SAAS,IAAMif,EAAOA,OAAOS,UAC3Dsb,EAAY/b,EAAO9iB,KACnB8iB,EAAOA,OAAOjf,GAAG,WAAW1P,IACxBuF,KAAK8kC,eAAep3B,KAAKjT,EAAM,EAAE,G,CAGzCuF,KAAK6kC,OAAOptB,QAAQ2I,IAAI,wBAAyBglB,GAEjD,MAAMI,QAAoB9kB,EAAa+kB,yBAAsClF,EAAO,EAAA/c,kBAAkBod,aAEhG8E,EAAkB,IAAIpB,EAAYU,EAAiB3mC,WACzD,IAAIK,EACAs1B,EAYA2R,EAXJ,IAAK,MAAMC,KAAaF,EAEpB,GADA1R,EAAQiQ,EAAgBlQ,MAAK8R,GAASA,EAAMzB,SAAS5pC,gBAAkBorC,EAAUxB,QAAQ5pC,gBACrFw5B,EAAO,CACPt1B,EAAQknC,EACR,K,CAIR,IAAKlnC,EACD,MAAM,IAAI6S,MAAM,iDAIhBo0B,EADAP,EAAcU,KACDrpC,OAAOC,KAAK0oC,EAAcU,KAAM,OAGhC,UAAO5kC,YAAY,GAGpC,MAAM4kC,EAAOH,EAAWI,YAAY,GAE9BvxB,EAAO,CACT,kBACGgxB,EAAYzW,eACf,MACA,UAAWiF,EAAMmQ,YACjB,MAAOzlC,EAAM+lC,WACb,MAAO/lC,EAAMimC,UAAY,IACzB,gBAAiBjmC,EAAMs4B,YACvB,QAAS8O,EAAKnpC,WACd,KAAM,MACN,SAASk8B,KAAMsM,kBAA0B9R,mBAAqBtD,MAElE,IAAAiW,0BAAyBhmC,KAAK6kC,OAAOptB,QAASjD,GAC9C,MAAMusB,EAAK,UAAcC,YAAYtgB,EAAaogB,gBAAiBtsB,IAEnE,IAAA0sB,wBAAuBlhC,KAAK6kC,OAAOptB,QAASspB,SAEtC/gC,KAAK8kC,eAAe9P,KAAK,CAC3B4P,YAEJ5kC,KAAK6kC,OAAOptB,QAAQ2I,IAAI,mBAC5B,CAEAlgB,qBACIF,KAAK8kC,gBAAgB7Y,QAAQ3hB,UAC7BtK,KAAK8kC,oBAAiBtkC,CAC1B,E,k2BCxMJ,mBAEA,UACA,aACA,WAIM,aAAEkgB,GAAiB,UAEzB,MAAaulB,UAAmB,EAAAnD,WAC5BI,qBAAqB1E,GACjB,MAAM,IAAIjtB,MAAM,iHACpB,CAEAstB,6BAA6Bp/B,EAAaiuB,GACtC,MAAO,CACHzc,GAAI,UAAUyc,IACdxuB,KAAM,UAAUwuB,EAAQ,IACxBjuB,MACAovB,UAAW,OACXuI,MAAO,CAAC,EAERD,MAAOn3B,KAAKojC,kBAAoB,KAAO,CAAC,EAEhD,CAEA8C,mCAAmCj1B,GAC/B,OAAOA,EAAGqM,UAAU,UAAU1iB,OAClC,CAEAuoC,2BACI,IAAIgD,EAAiB,GACrB,IACIA,EAAOjyB,KAAKnT,MAAMf,KAAKggB,QAAQ4Z,QAAQ,Q,CAE3C,MAAOzlB,GACH,MAAM1U,EAAMO,KAAKggB,QAAQ4Z,QAAQ,OAC7Bn6B,IACA0mC,EAAKljC,KAAKxD,GACVO,KAAKggB,QAAQ6Z,QAAQ,OAAQ3lB,KAAKE,UAAU+xB,IAC5CnmC,KAAKggB,QAAQ8Z,WAAW,O,CAKhC,MAAMpO,EAAMya,EAAKhzB,QAAO1T,KAASA,IAAKb,KAAI,CAACa,EAAKiuB,IAAU1tB,KAAK6+B,6BAA6Bp/B,EAAKiuB,KAEjG,GAAKhC,EAAI9wB,OAET,OAAO8wB,CACX,CAEAyP,mBAAmBiL,GAOf,MAAMC,EAAY,UAAItlC,MAAMqlC,GAC5BpmC,KAAKyX,QAAQ2I,IAAI,aAAcgmB,GAC/B,MAAMhqC,EAAW4D,KAAKggB,QAAQ4Z,QAAQ,YAChCv9B,EAAW2D,KAAKggB,QAAQ4Z,QAAQ,YACtC,GAAIx9B,EAAU,CAEV,MAAMmK,EAAO,GAAGnK,KAAYC,GAAY,KACxCgqC,EAAU9/B,KAAOA,C,CAIrB,OADkB,UAAIiX,OAAO6oB,EAEjC,CAEAjL,qBAAqBkL,EAAmBhH,GACpC,MAAM5T,EAAsB,CACxBjsB,IAAK6mC,EACLC,mBAAoBjH,GAGxB,OAAOt/B,KAAK2gB,kBAAkB+K,EAAK,EAAAlI,kBAAkBgjB,eACzD,CAEAtmC,wBAAwBo/B,GACpB,IAAKA,EACD,MAAM,IAAI/tB,MAAM,iDAEpB,MAAM+0B,EAAYtmC,KAAKm7B,mBAAmBmE,EAAI7/B,KAC9C,OAAOO,KAAKo7B,qBAAqBkL,EAAWhH,EAChD,CAGAiE,yBAEA,CAGAC,yBAEA,CAEAtjC,2BACI,MAAO,CACH,CACIZ,IAAK,OACL8+B,MAAO,kBACPpsB,YAAa,6CACb2sB,YAAa,yCACb9kC,MAAOmG,KAAKmjC,4BAA4BvkC,KAAI0gC,GAAOA,EAAI7/B,MACvDgnC,UAAU,GAGtB,CAEAvmC,yBACI,MAAMwrB,EAAiB,GAYvB,OAVAA,EAAIzoB,KACA,CACIy7B,SAAU,WACVp/B,IAAK,QACL8+B,MAAO,eACPpsB,YAAa,yFACbnY,MAAyC,SAAlCmG,KAAKggB,QAAQ4Z,QAAQ,SAC5Br/B,KAAM,YAGPmxB,CACX,CAEAxrB,uBACI,MAAO,UACMF,KAAK0mC,qBAEtB,CAEAxmC,kBAAkBimC,GACdnmC,KAAKggB,QAAQ6Z,QAAQ,OAAQ3lB,KAAKE,UAAU+xB,EAAKhzB,QAAO1T,KAASA,KACrE,CAEAS,qBAAqBZ,EAAazF,GAClB,SAARyF,EACAU,KAAK2mC,YAAY9sC,GAGjBkmB,MAAM4jB,eAAerkC,EAAKzF,EAElC,EAzIJ,eAkJA,gCAA8CosC,EAI1CpmC,YAAYigB,EAAkB2Z,GAC1B1Z,MAAMD,EAAU2Z,GAJpB,KAAAmN,WAAa,EAKT5mC,KAAK6mC,YACT,CAEAC,eACQ9mC,KAAKmgC,WAAWv/B,SAAS,EAAA6iB,kBAAkB0D,gBAC3CnnB,KAAKk9B,gBAAiB,GACtBl9B,KAAKmgC,WAAWv/B,SAAS,EAAA6iB,kBAAkByD,eAC3ClnB,KAAKq9B,eAAgB,GACrBr9B,KAAKmgC,WAAWv/B,SAAS,EAAA6iB,kBAAkBuD,gBAC3ChnB,KAAK+mC,UAAW,GAChB/mC,KAAKmgC,WAAWv/B,SAAS,EAAA6iB,kBAAkBsD,gBAC3C/mB,KAAK29B,aAAc,EAC3B,CAEAz9B,mBAGI,GAFAF,KAAK8mC,eACL9mC,KAAK4mC,WAAarxB,KAAKM,MACnB7V,KAAKsiB,SACL,OAEJ,IAAIA,EACJ,MAAM0kB,EAAkBhnC,KAAKsiB,SAAWtiB,KAAK28B,eAE7C,IAAIsK,EACJ,MAAMC,EAAkB,KAChBF,IAAoBhnC,KAAKsiB,WACzBtiB,KAAKsiB,cAAW9hB,GACpByc,aAAagqB,GACb3kB,GAAUhY,UACV,MAAM68B,EAAiB5xB,KAAKM,MAAQ7V,KAAK4mC,WAEzC97B,YAAW,IAAM9K,KAAK6mC,cADHM,EAAiB,IAAQ,EAAI,IACD,EAGnD,IACI7kB,QAAiBtiB,KAAKsiB,Q,CAE1B,MAAOnO,GAGH,OAFAnU,KAAKyX,QAAQxa,MAAM,sDAAuDkX,EAAEtF,cAC5Eq4B,G,CAIJ,MAAME,EAAuB,KACzBnqB,aAAagqB,GACbA,EAAkBn8B,YAAW,KACzB9K,KAAKyX,QAAQxa,MAAM,qDACnBiqC,GAAiB,GAClB,IAAO,EAEdE,IAEA9kB,EAASnY,GAAG,QAAS1P,IACqB,SAAlCuF,KAAKggB,QAAQ4Z,QAAQ,UACrB55B,KAAKyX,QAAQ2I,IAAI,iBAAkB3lB,EAAKkC,YAC5CyqC,GAAsB,IAG1B9kB,EAASnY,GAAG,SAAS,KACjBnK,KAAKyX,QAAQxa,MAAM,4CACnBiqC,GAAiB,IAGrB5kB,EAASnY,GAAG,SAASgK,IACjBnU,KAAKyX,QAAQxa,MAAM,0CAA2CkX,GAC9D+yB,GAAiB,GAEzB,CAEAhnC,iBAAiBZ,EAAazF,GAC1BmG,KAAK2jC,eAAerkC,EAAKzF,GACzBmG,KAAKsiB,SAASlX,MAAK2M,GAAKA,EAAEuB,KAAK,QAAS,IAAI/H,MAAM,kBACtD,CAEArR,2BAA2Bs+B,GACvB,OAAOx+B,KAAKqnC,uBAAuB7I,EACvC,CAIAt+B,2BACI,MAAO,CACH,CACIZ,IAAK,OACL8+B,MAAO,2BACPpsB,YAAa,uDACb2sB,YAAa,yCACb9kC,MAAOmG,KAAKmjC,4BAA4BvkC,KAAI0gC,GAAOA,EAAI7/B,MACvDgnC,UAAU,GAGtB,CAEAvmC,uBACI,MAAMwrB,EAAiB,CACnB,CACIpsB,IAAK,KACL8+B,MAAO,aACPO,YAAa,gBACb9kC,MAAOmG,KAAKggB,QAAQ4Z,QAAQ,UAE7B55B,KAAKsnC,iCACLtnC,KAAKunC,+BAGZ,GAAIvnC,KAAKuhC,sBAAuB,CAC5B,MAAMiG,EAAiBxnC,KAAKggB,QAAQ4Z,QAAQ,mBACxC4N,UACMxnC,KAAK2mC,YAAY,CAACa,IACxBxnC,KAAKggB,QAAQ8Z,WAAW,oBAG5BpO,EAAIzoB,cACUjD,KAAK0mC,qB,CAIvB,OAAOhb,CACX,CAEA4b,8BACI,OAAKtnC,KAAKynC,uBAGH,CACH,CACInoC,IAAK,WACLo/B,SAAU,WACVN,MAAO,qBACPO,YAAa,KACb9kC,MAAOmG,KAAKggB,QAAQ4Z,QAAQ,cARzB,EAWf,CAEA6N,uBACI,OAAO,CACX,CAEAF,8BACI,OAAKvnC,KAAK0nC,uBAGH,CACH,CACIpoC,IAAK,WACLo/B,SAAU,WACVN,MAAO,qBACPO,YAAa,MACb9kC,MAAOmG,KAAKggB,QAAQ4Z,QAAQ,cARzB,EAWf,CAEA8N,uBACI,OAAO,CACX,CAEAnG,sBACI,OAAO,CACX,CAEAxF,iBACI,MAAO,GAAG/7B,KAAKqlC,kBAAkBrlC,KAAKggB,QAAQ4Z,QAAQ,aAAe,IACzE,CAEA6I,oBAAoBn8B,GAChBtG,KAAKggB,QAAQ6Z,QAAQ,WAAYvzB,GAAQ,GAC7C,CAEAqhC,qBACI,GAAK3nC,KAAKuhC,sBAEV,OAAOvhC,KAAKggB,QAAQ4Z,QAAQ,kBAChC,CAKAyL,eACI,OAAOrlC,KAAKggB,QAAQ4Z,QAAQ,KAChC,CAEA4I,aAAa3J,GACT,OAAO74B,KAAKggB,QAAQ6Z,QAAQ,KAAMhB,EACtC,CAEAqC,iBACI,MAAO,GAAGl7B,KAAKqlC,kBAAkBrlC,KAAKggB,QAAQ4Z,QAAQ,aAAe,KACzE,CAGA15B,8BACI,GAAIF,KAAKuhC,sBAAuB,CAC5B,MAAMrC,QAAanf,MAAMub,wBACzB,GAAI4D,EACA,OAAOA,C,CAGf,OAAIl/B,KAAK4nC,gCAGT5nC,KAAK4nC,+BAAgC,IAAAzV,gBAAe,IAAMnyB,KAAKwgC,oCAAoCpW,SAAQ,KACvGpqB,KAAK4nC,mCAAgCpnC,CAAS,KAHvCR,KAAK4nC,6BAOpB,CAEAjE,eAAerkC,EAAazF,GAExB,OADAmG,KAAK4nC,mCAAgCpnC,EAC9Buf,MAAM4jB,eAAerkC,EAAKzF,EACrC,GAGJ,MAAa4nC,UAAqB,EAAAmC,mBAC9BlB,aAAa5iB,GACT,OAAO,IAAImmB,EAAWnmB,EAAU9f,KACpC,EAHJ,gB,2PCzXA,gBACA,aAEA,MAAaiqB,UAA2C1Y,MACpD1R,cACIkgB,MAAM,6BACV,EAGG7f,eAAe6pB,EAAWX,EAAoBhjB,GAGjD,OAFAgjB,EAAOye,OAAO,EAAGzhC,SACX,IAAA+W,MAAKiM,EAAQ,aACXA,EAAOE,UAA8BhjB,IACjD,CAVA,uCAMA,eAMA,yBAAOpG,eAAsCkG,GACzC,MAAMgjB,EAAS,IAAI,UAAI0e,OACjBxhC,QAAayjB,EAAWX,EAAQhjB,GAEhCkvB,EAAgB,IAAIzuB,SAAoB,CAACG,EAASC,KACpD,MAAM0D,EAAUG,YAAW,KACvBse,EAAOS,QACP5iB,EAAO,IAAIgjB,EAAqC,GACjD,KACHb,EAAOjf,GAAG,cAAc8hB,IACpB7C,EAAOS,QACP5M,aAAatS,GAEb3D,EAAQilB,EAAO,GACjB,IAGNqJ,EAAc/R,OAAM,SAEpB,IAAIld,EAAOD,EAIX,OAHKC,GAAiB,YAATA,IACTA,EAAO,aAEJ,CACH+iB,SACA3pB,IAAK,SAAS4G,KAAQC,IACtBD,OACAC,OACAgvB,gBAER,C,qPC5CA,mBAEMyS,EAAW,CACb,4BACA,YACA,oBAGJ,0BAA+BhH,GAC3B,GAAKA,EAAL,CAGA,IACIA,EAAGiH,MAAM/yB,MAAM,M,CAEnB,MAAOd,G,CAEPrJ,YAAW,KACPi2B,EAAGO,OACHx2B,YAAW,KACPi2B,EAAGO,KAAK,UAAU,GACnB,IAAK,GACT,IAZO,CAad,EAEA,kCAAuC7pB,EAAkBspB,EAAkBkH,EAAmBjoB,GAC1F,IAAKvI,EACD,OAEJ,MAAMywB,IAA0B,UAAQx/B,IAAIw/B,yBAA2BloB,GAAS4Z,QAAQ,yBAExF,SAASuO,EAAO/nB,GACZ,MAAMsL,EAAO9X,IACT,MAAMrW,EAAMqW,EAAOjX,WAEnB,IAAK,MAAMwW,KAAU40B,EACjB,IAA6B,IAAzBxqC,EAAIjD,QAAQ6Y,GACZ,OAGR,KAAK+0B,GAA0BD,IAAuC,IAA3B1qC,EAAIjD,QAAQ,YAA8C,IAA1BiD,EAAIjD,QAAQ,UAKnF,OAJA8lB,EAAI7iB,GACJ6iB,EAAI,kDACJ2gB,EAAGqH,OAAO/rB,eAAe,OAAQqP,QACjCqV,EAAGsH,OAAOhsB,eAAe,OAAQqP,GAIrCtL,EAAI7iB,EAAI,EAGZ,OAAOmuB,CACX,CACAqV,EAAGqH,QAAQj+B,GAAG,OAAQg+B,EAAO1wB,EAAQ2I,MACrC2gB,EAAGsH,QAAQl+B,GAAG,OAAQg+B,EAAO1wB,EAAQxa,QACrC8jC,EAAG52B,GAAG,QAAQ,IAAMsN,EAAQ2I,IAAI,kBACpC,EAEA,oCAAyC3I,EAAkBjD,GACvD,IAAKiD,EACD,OACJ,MAAMiU,EAAM,GACZ,IAAI4c,GAAa,EACjB,IAAK,MAAMC,KAAO/zB,EAAM,CACpB,IACI,GAAI8zB,EAAY,CACZ,MAAM7oC,EAAM,IAAImZ,IAAI2vB,GACpB7c,EAAIzoB,KAAK,GAAGxD,EAAIkI,qB,MAGhB+jB,EAAIzoB,KAAKslC,E,CAGjB,MAAOp0B,GACHuX,EAAIzoB,KAAKslC,E,CAIbD,EAAqB,OAARC,C,CAGjB9wB,EAAQ2I,IAAIsL,EAAI5uB,KAAK,KACzB,C,4FCnFA,QAAOoD,eAAqBsoC,SAClB,IAAI3hC,SAAQG,GAAW8D,WAAW9D,EAASwhC,IACrD,C,wBCFArjC,EAAOvL,QAAU6uC,QAAQ,S,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,gB,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,S,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,Q,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,S,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,O,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,Q,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,M,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,U,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,S,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,M,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,M,wBCAzBtjC,EAAOvL,QAAU6uC,QAAQ,O,4DCAzB,MAAM,EAA+BA,QAAQ,MCE7C,SAASC,EAAkB71B,EAAQ81B,GAAS,IAAK,IAAI/mC,EAAI,EAAGA,EAAI+mC,EAAM/tC,OAAQgH,IAAK,CAAE,IAAIgnC,EAAaD,EAAM/mC,GAAIgnC,EAAWvtC,WAAautC,EAAWvtC,aAAc,EAAOutC,EAAWvtB,cAAe,EAAU,UAAWutB,IAAYA,EAAWttB,UAAW,GAAM5hB,OAAOC,eAAekZ,EAAQ+1B,EAAWtpC,IAAKspC,EAAa,CAAE,CAM5T,SAASC,EAAuBvuB,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIwuB,eAAe,6DAAgE,OAAOxuB,CAAM,CAIrK,SAASyuB,EAAiBC,GAAS,IAAIC,EAAwB,mBAARve,IAAqB,IAAIA,SAAQlqB,EAA8nB,OAAnnBuoC,EAAmB,SAA0BC,GAAS,GAAc,OAAVA,IAMlI93B,EANuK83B,GAMjG,IAAzDE,SAASvsC,SAASwF,KAAK+O,GAAI5W,QAAQ,kBAN+H,OAAO0uC,EAMjN,IAA2B93B,EAN6L,GAAqB,mBAAV83B,EAAwB,MAAM,IAAI3mC,UAAU,sDAAyD,QAAsB,IAAX4mC,EAAwB,CAAE,GAAIA,EAAOE,IAAIH,GAAQ,OAAOC,EAAO3tC,IAAI0tC,GAAQC,EAAOnmB,IAAIkmB,EAAOI,EAAU,CAAE,SAASA,IAAY,OAAOC,EAAWL,EAAOv5B,UAAW65B,EAAgBtpC,MAAMH,YAAc,CAAkJ,OAAhJupC,EAAQlnC,UAAYxI,OAAOyU,OAAO66B,EAAM9mC,UAAW,CAAErC,YAAa,CAAEhG,MAAOuvC,EAAS/tC,YAAY,EAAOigB,UAAU,EAAMD,cAAc,KAAkBkuB,EAAgBH,EAASJ,EAAQ,EAAUD,EAAiBC,EAAQ,CAEtvB,SAASK,EAAWG,EAAQh1B,EAAMw0B,GAAqV,OAAzSK,EAA/BI,IAA4CC,QAAQC,UAAiC,SAAoBH,EAAQh1B,EAAMw0B,GAAS,IAAIzwB,EAAI,CAAC,MAAOA,EAAEtV,KAAKuN,MAAM+H,EAAG/D,GAAO,IAAsDvG,EAAW,IAA/Ci7B,SAASv7B,KAAK6C,MAAMg5B,EAAQjxB,IAA6F,OAAnDywB,GAAOO,EAAgBt7B,EAAU+6B,EAAM9mC,WAAmB+L,CAAU,EAAYo7B,EAAW74B,MAAM,KAAMf,UAAY,CAEja,SAASg6B,IAA8B,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQ5nC,UAAU6nC,QAAQ5nC,KAAKunC,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAkC,CAA1B,MAAO31B,GAAK,OAAO,CAAO,CAAE,CAIxU,SAASo1B,EAAgBpqB,EAAGM,GAA+G,OAA1G8pB,EAAkB7vC,OAAOswC,gBAAkB,SAAyB7qB,EAAGM,GAAsB,OAAjBN,EAAE8qB,UAAYxqB,EAAUN,CAAG,EAAUoqB,EAAgBpqB,EAAGM,EAAI,CAEzK,SAAS6pB,EAAgBnqB,GAAwJ,OAAnJmqB,EAAkB5vC,OAAOswC,eAAiBtwC,OAAOme,eAAiB,SAAyBsH,GAAK,OAAOA,EAAE8qB,WAAavwC,OAAOme,eAAesH,EAAI,EAAUmqB,EAAgBnqB,EAAI,CAI5M,IAAI+qB,EAAS,SAAUC,GAGrB,SAASD,EAAOE,EAAeC,KAAclpC,GAC3C,IAAImpC,EAxB4BhwB,EAAMnY,EA4CtC,OAlDJ,SAAyB8L,EAAUs8B,GAAe,KAAMt8B,aAAoBs8B,GAAgB,MAAM,IAAIloC,UAAU,oCAAwC,CAgCpJmoC,CAAgBxqC,KAAMkqC,GAEhBE,aAAyBtqC,QAC7BqB,QAAU,IAAuBkpC,EAAY,GAAK,CAACA,IAAYvmC,OAAO3C,GACtEkpC,EAAYD,EACZA,EAAgB,IA/Bc9vB,EAkCGta,MAAnCsqC,IAlCsCnoC,EAkCGmnC,EAAgBY,GAAQ/nC,KAAKnC,KAAMqqC,KAlCD,iBAATloC,GAAqC,mBAATA,EAA8C0mC,EAAuBvuB,GAAtCnY,GAmCvHuI,KAAO2/B,GAAa,eAC1BC,EAAMnpC,OAASA,EACfmpC,EAAMF,cAAgBA,EACtBE,EAAMprC,KAAOorC,EAAM3tC,WAEf4U,MAAM4K,mBACR5K,MAAM4K,kBAAkB0sB,EAAuByB,GAAQA,EAAMzqC,aAGxDyqC,CACT,CA/CF,IAAsBC,EAAaE,EAAYC,EAwD7C,OAlDF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIvoC,UAAU,sDAAyDsoC,EAASzoC,UAAYxI,OAAOyU,OAAOy8B,GAAcA,EAAW1oC,UAAW,CAAErC,YAAa,CAAEhG,MAAO8wC,EAAUrvB,UAAU,EAAMD,cAAc,KAAeuvB,GAAYrB,EAAgBoB,EAAUC,EAAa,CAiB9XC,CAAUX,EAAQC,GAvBEI,EAiDPL,GAjDoBO,EAiDZ,CAAC,CACpBnrC,IAAK,WACLzF,MAAO,WACL,OAAQmG,KAAKoqC,cAAcxvC,OAASoF,KAAKoqC,cAAcpqC,KAAKoqC,cAAcxvC,OAAS,GAAGyX,MAAQ,MAAS,IAAMrS,KAAKH,YAAYX,KAAO,KAAOc,KAAK0K,KAAO,KAAO1K,KAAKmB,OAAOrE,KAAK,MAAQ,GAC1L,MArD0E4rC,EAAkB6B,EAAYroC,UAAWuoC,GAAiBC,GAAahC,EAAkB6B,EAAaG,GAwD3KR,CACT,CAnCa,CAmCXnB,EAAiBx3B,QAyCnB,SAASu5B,EAAkB5nC,GACzB,OAAOA,aAAegnC,GAAUhnC,EAAIrD,aAAeqD,EAAIrD,YAAYX,MAAQgE,EAAIrD,YAAYX,KAAKuf,SAAS,UAAY,iBAAoBvb,EAAIwH,MAAQqgC,EAAsB7nC,EAAIwH,OAASxH,EAAI/B,QAAU+B,EAAI/B,kBAAkBrB,KAC9N,CAEA,SAASirC,EAAsBxtC,GAC7B,MAAO,iBAAiB2H,KAAK3H,EAC/B,CA7CA2sC,EAAOxvB,KAAO,SAAoBxX,EAAKmnC,KAAclpC,GACnD,IAAI6pC,EAAS,KAEb,MAAMC,EAAsBF,EAAsB7nC,EAAI2L,SAEhDu7B,GAAiBlnC,EAAIknC,eAAiB,IAAItmC,OAAOZ,GAevD,OAbKmnC,IAEDA,EADEY,EACU/nC,EAAI2L,QAEJ,gBAIZ3L,EAAI2L,UAAYo8B,GAClB9pC,EAAO8B,KAAKC,EAAI2L,SAGlBm8B,EAAS,IAAId,EAAOE,EAAeC,KAAclpC,GAC1C6pC,CACT,EAEAd,EAAOgB,KAAO,SAAoBhoC,KAAQ/B,GACxC,OAAI2pC,EAAkB5nC,GACbA,EAGFgnC,EAAOxvB,KAAKlK,MAAM05B,EAAQ,CAAChnC,GAAKY,OAAO3C,GAChD,EAEA+oC,EAAOiB,KAAO,SAAoBjoC,KAAQ/B,GACxC,OAAI2pC,EAAkB5nC,GACbgnC,EAAOxvB,KAAKlK,MAAM05B,EAAQ,CAAChnC,EAAKA,EAAIwH,MAAM5G,OAAOZ,EAAI/B,SAGvD+oC,EAAOxvB,KAAKlK,MAAM05B,EAAQ,CAAChnC,GAAKY,OAAO3C,GAChD,EAUA,S,g7HC7GIiqC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB9qC,IAAjB+qC,EACH,OAAOA,EAAa3xC,QAGrB,IAAIuL,EAASimC,EAAyBE,GAAY,CAGjD1xC,QAAS,CAAC,GAOX,OAHA4xC,EAAoBF,GAAUnpC,KAAKgD,EAAOvL,QAASuL,EAAQA,EAAOvL,QAASyxC,GAGpElmC,EAAOvL,OACf,CCrBAyxC,EAAoBI,EAAI,CAAC7xC,EAAS8xC,KACjC,IAAI,IAAIpsC,KAAOosC,EACXL,EAAoBlsB,EAAEusB,EAAYpsC,KAAS+rC,EAAoBlsB,EAAEvlB,EAAS0F,IAC5E5F,OAAOC,eAAeC,EAAS0F,EAAK,CAAEjE,YAAY,EAAMC,IAAKowC,EAAWpsC,IAE1E,ECND+rC,EAAoBlsB,EAAI,CAACxjB,EAAKqX,IAAUtZ,OAAOwI,UAAU8V,eAAe7V,KAAKxG,EAAKqX,GCClFq4B,EAAoB1hB,EAAK/vB,IACH,oBAAXoI,QAA0BA,OAAO2pC,aAC1CjyC,OAAOC,eAAeC,EAASoI,OAAO2pC,YAAa,CAAE9xC,MAAO,WAE7DH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,GAAO,ECF9D,IAAI+xC,EAAsBP,EAAoB,M","sources":["../../../common/node_modules/http-auth-utils/dist/index.js","../../../common/node_modules/http-auth-utils/dist/mechanisms/basic.js","../../../common/node_modules/http-auth-utils/dist/mechanisms/bearer.js","../../../common/node_modules/http-auth-utils/dist/mechanisms/digest.js","../../../common/node_modules/http-auth-utils/dist/utils.js","../node_modules/@koush/axios-digest-auth/dist/index.js","../node_modules/auth-header/dist/format.js","../node_modules/auth-header/dist/index.js","../node_modules/auth-header/dist/parse.js","../node_modules/auth-header/dist/util.js","../node_modules/axios/index.js","../node_modules/axios/lib/adapters/http.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/utils.js","../node_modules/follow-redirects/debug.js","../node_modules/follow-redirects/index.js","../../ffmpeg-camera/node_modules/@koush/axios-digest-auth/dist/index.js","../../ffmpeg-camera/node_modules/auth-header/dist/format.js","../../ffmpeg-camera/node_modules/auth-header/dist/index.js","../../ffmpeg-camera/node_modules/auth-header/dist/parse.js","../../ffmpeg-camera/node_modules/auth-header/dist/util.js","../../ffmpeg-camera/node_modules/axios/index.js","../../ffmpeg-camera/node_modules/axios/lib/adapters/http.js","../../ffmpeg-camera/node_modules/axios/lib/adapters/xhr.js","../../ffmpeg-camera/node_modules/axios/lib/axios.js","../../ffmpeg-camera/node_modules/axios/lib/cancel/Cancel.js","../../ffmpeg-camera/node_modules/axios/lib/cancel/CancelToken.js","../../ffmpeg-camera/node_modules/axios/lib/cancel/isCancel.js","../../ffmpeg-camera/node_modules/axios/lib/core/Axios.js","../../ffmpeg-camera/node_modules/axios/lib/core/InterceptorManager.js","../../ffmpeg-camera/node_modules/axios/lib/core/buildFullPath.js","../../ffmpeg-camera/node_modules/axios/lib/core/createError.js","../../ffmpeg-camera/node_modules/axios/lib/core/dispatchRequest.js","../../ffmpeg-camera/node_modules/axios/lib/core/enhanceError.js","../../ffmpeg-camera/node_modules/axios/lib/core/mergeConfig.js","../../ffmpeg-camera/node_modules/axios/lib/core/settle.js","../../ffmpeg-camera/node_modules/axios/lib/core/transformData.js","../../ffmpeg-camera/node_modules/axios/lib/defaults.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/bind.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/buildURL.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/combineURLs.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/cookies.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/isAbsoluteURL.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/isAxiosError.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/isURLSameOrigin.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/normalizeHeaderName.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/parseHeaders.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/spread.js","../../ffmpeg-camera/node_modules/axios/lib/helpers/validator.js","../../ffmpeg-camera/node_modules/axios/lib/utils.js","../../ffmpeg-camera/node_modules/follow-redirects/debug.js","../../ffmpeg-camera/node_modules/follow-redirects/index.js","../../../sdk/dist/src/index.js","../../../sdk/dist/types/gen/index.js","../../../common/src/deferred.ts","../../../common/src/listen-cluster.ts","../../../common/src/media-helpers.ts","../../../common/src/promise-utils.ts","../../../common/src/read-stream.ts","../../../common/src/rtsp-server.ts","../../../common/src/sdp-utils.ts","../../../common/src/sleep.ts","../src/amcrest-api.ts","../src/main.ts","../src/probe.ts","../../ffmpeg-camera/src/common.ts","../../onvif/src/onvif-intercom.ts","../../rtsp/src/rtsp.ts","../../../server/src/listen-zero.ts","../../../server/src/media-helpers.ts","../../../server/src/sleep.ts","../external node-commonjs \"assert\"","../external node-commonjs \"child_process\"","../external node-commonjs \"crypto\"","../external node-commonjs \"dgram\"","../external node-commonjs \"events\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"net\"","../external node-commonjs \"process\"","../external node-commonjs \"stream\"","../external node-commonjs \"tls\"","../external node-commonjs \"url\"","../external node-commonjs \"zlib\"","../external node-commonjs \"os\"","../../../common/node_modules/yerror/dist/index.mjs","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/startup"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseWWWAuthenticateHeader = parseWWWAuthenticateHeader;\nexports.parseAuthorizationHeader = parseAuthorizationHeader;\nexports.buildWWWAuthenticateHeader = buildWWWAuthenticateHeader;\nexports.buildAuthorizationHeader = buildAuthorizationHeader;\nObject.defineProperty(exports, \"BASIC\", {\n  enumerable: true,\n  get: function () {\n    return _basic.default;\n  }\n});\nObject.defineProperty(exports, \"DIGEST\", {\n  enumerable: true,\n  get: function () {\n    return _digest.default;\n  }\n});\nObject.defineProperty(exports, \"BEARER\", {\n  enumerable: true,\n  get: function () {\n    return _bearer.default;\n  }\n});\nexports.mechanisms = void 0;\n\nvar _yerror = _interopRequireDefault(require(\"yerror\"));\n\nvar _basic = _interopRequireDefault(require(\"./mechanisms/basic\"));\n\nvar _digest = _interopRequireDefault(require(\"./mechanisms/digest\"));\n\nvar _bearer = _interopRequireDefault(require(\"./mechanisms/bearer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module http-auth-utils\n */\n\n/**\n * Natively supported authentication mechanisms.\n * @type {Array}\n */\nconst mechanisms = [_basic.default, _digest.default, _bearer.default];\n/**\n * Basic authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/basic}\n */\n\nexports.mechanisms = mechanisms;\n_basic.default;\n/**\n * Digest authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/digest}\n */\n\n_digest.default;\n/**\n * Bearer authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/digest}\n */\n\n_bearer.default;\n\n/**\n * Parse HTTP WWW-Authenticate header contents.\n * @type {Function}\n * @param {string} header\n * The WWW-Authenticate header contents\n * @param {Array} [authMechanisms=[BASIC, DIGEST, BEARER]]\n * Allow providing custom authentication mechanisms.\n * @param {Object} [options]\n * Parsing options\n * @param {boolean} [options.strict=true]\n * Strictly detect the mechanism type (case sensitive)\n * @return {Object} Result of the contents parse.\n * @api public\n * @example\n * assert.deepEqual(\n *   parseWWWAuthenticateHeader('Basic realm=\"test\"'), {\n *     type: 'Basic',\n *     data: {\n *       realm: 'test'\n *     }\n *   }\n * );\n */\nfunction parseWWWAuthenticateHeader(header, authMechanisms = mechanisms, {\n  strict = true\n} = {\n  strict: true\n}) {\n  let result = null;\n  authMechanisms.some(authMechanism => {\n    if (0 === header.indexOf(authMechanism.type + ' ') || !strict && 0 === header.indexOf(authMechanism.type.toLowerCase() + ' ')) {\n      result = {\n        type: authMechanism.type,\n        data: authMechanism.parseWWWAuthenticateRest(header.substr(authMechanism.type.length + 1))\n      };\n      return true;\n    }\n\n    return false;\n  });\n\n  if (!result) {\n    throw new _yerror.default('E_UNKNOWN_AUTH_MECHANISM', header);\n  }\n\n  return result;\n}\n/**\n * Parse HTTP Authorization header contents.\n * @type {Function}\n * @param {string} header The Authorization header contents\n * @param {Array} [authMechanisms=[BASIC, DIGEST, BEARER]]\n * Allow custom authentication mechanisms.\n * @param {Object} [options]\n * Parsing options\n * @param {boolean} [options.strict=true]\n * Strictly detect the mechanism type (case sensitive)\n * @return {Object} Result of the contents parse.\n * @api public\n * @example\n * assert.deepEqual(\n *   parseAuthorizationHeader('Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='), {\n *     type: 'Basic',\n *     data: {\n *       hash: 'QWxhZGRpbjpvcGVuIHNlc2FtZQ=='\n *     }\n *   }\n * );\n */\n\n\nfunction parseAuthorizationHeader(header, authMechanisms = mechanisms, {\n  strict = true\n} = {\n  strict: true\n}) {\n  let result = null;\n  authMechanisms.some(function (authMechanism) {\n    if (0 === header.indexOf(authMechanism.type + ' ') || !strict && 0 === header.indexOf(authMechanism.type.toLowerCase() + ' ')) {\n      result = {\n        type: authMechanism.type,\n        data: authMechanism.parseAuthorizationRest(header.substr(authMechanism.type.length + 1))\n      };\n      return true;\n    }\n\n    return false;\n  });\n\n  if (result) {\n    return result;\n  }\n\n  throw new _yerror.default('E_UNKNOWN_AUTH_MECHANISM', header);\n}\n/**\n * Build HTTP WWW-Authenticate header value.\n * @type {Function}\n * @param {Object} authMechanism The mechanism to use\n * @param {Object}\n * The WWW-Authenticate header contents to base the value on.\n * @return {string} The header value.\n * @api public\n * @example\n * assert.deepEqual(\n *   buildWWWAuthenticateHeader(BASIC, {\n *     realm: 'test'\n *   }),\n *   'Basic realm=\"test\"'\n * );\n */\n\n\nfunction buildWWWAuthenticateHeader(authMechanism, data) {\n  return `${authMechanism.type} ${authMechanism.buildWWWAuthenticateRest(data)}`;\n}\n/**\n * Build HTTP Authorization header value.\n * @type {Function}\n * @param {Object} authMechanism The mechanism to use\n * @param {Object}\n * The Authorization header contents to base the value on.\n * @return {string} The header value.\n * @api public\n * @example\n * assert.deepEqual(\n *   buildAuthorizationHeader(BASIC, {\n *     realm: 'test'\n *   }),\n *   'Basic realm=\"test\"'\n * );\n */\n\n\nfunction buildAuthorizationHeader(authMechanism, data) {\n  return `${authMechanism.type} ${authMechanism.buildAuthorizationRest(data)}`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _yerror = _interopRequireDefault(require(\"yerror\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module http-auth-utils/mechanisms/basic\n */\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = REQUIRED_WWW_AUTHENTICATE_KEYS;\n\n/* Architecture Note #1.2: Basic mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc7617).\n\n*/\n\n/**\n * Basic authentication mechanism.\n * @type {Object}\n * @see http://tools.ietf.org/html/rfc2617#section-2\n */\nconst BASIC = {\n  /**\n   * The Basic auth mechanism prefix.\n   * @type {String}\n   */\n  type: 'Basic',\n\n  /**\n   * Parse the WWW Authenticate header rest.\n   * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n   * @return {Object}      Object representing the result of the parse operation.\n   * @example\n   * assert.deepEqual(\n   *   BASIC.parseWWWAuthenticateRest('realm=\"perlinpinpin\"'), {\n   *     realm: 'perlinpinpin'\n   *   }\n   * );\n   * @api public\n   */\n  parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n    return (0, _utils.parseHTTPHeadersQuotedKeyValueSet)(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n  },\n\n  /**\n   * Build the WWW Authenticate header rest.\n   * @param  {Object} data The content from wich to build the rest.\n   * @return {String}         The built rest.\n   * @example\n   * assert.equal(\n   *   BASIC.buildWWWAuthenticateRest({\n   *     realm: 'perlinpinpin'\n   *   }),\n   *   'realm=\"perlinpinpin\"'\n   * );\n   * @api public\n   */\n  buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n    return (0, _utils.buildHTTPHeadersQuotedKeyValueSet)(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n  },\n\n  /**\n   * Parse the Authorization header rest.\n   * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n   * @return {Object}      Object representing the result of the parse operation {hash}.\n   * @example\n   * assert.deepEqual(\n   *   BASIC.parseAuthorizationRest('QWxpIEJhYmE6b3BlbiBzZXNhbWU='), {\n   *     hash: 'QWxpIEJhYmE6b3BlbiBzZXNhbWU=',\n   *     username: 'Ali Baba',\n   *     password: 'open sesame'\n   *   }\n   * );\n   * @api public\n   */\n  parseAuthorizationRest: function parseAuthorizationRest(rest) {\n    if (!rest) {\n      throw new _yerror.default('E_EMPTY_AUTH');\n    }\n\n    const {\n      username,\n      password\n    } = BASIC.decodeHash(rest);\n    return {\n      hash: rest,\n      username,\n      password\n    };\n  },\n\n  /**\n   * Build the Authorization header rest.\n   * @param  {Object} content The content from wich to build the rest.\n   * @return {String}         The rest built.\n   * @example\n   * assert.equal(\n   *   BASIC.buildAuthorizationRest({\n   *     hash: 'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n   *   }),\n   *   'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n   * );\n   * @api public\n   */\n  buildAuthorizationRest: function buildAuthorizationRest({\n    hash,\n    username,\n    password\n  }) {\n    if (username && password) {\n      return BASIC.computeHash({\n        username,\n        password\n      });\n    }\n\n    if (!hash) {\n      throw new _yerror.default('E_NO_HASH');\n    }\n\n    return hash;\n  },\n\n  /**\n   * Compute the Basic authentication hash from the given credentials.\n   * @param  {Object} credentials The credentials to encode {username, password}.\n   * @return {String}             The hash representing the credentials.\n   * @example\n   * assert.equal(\n   *   BASIC.computeHash({\n   *     username: 'Ali Baba',\n   *     password: 'open sesame'\n   *   }),\n   *   'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n   * );\n   * @api public\n   */\n  computeHash: function computeHash({\n    username,\n    password\n  }) {\n    return Buffer.from(username + ':' + password).toString('base64');\n  },\n\n  /**\n   * Decode the Basic hash and return the corresponding credentials.\n   * @param  {String} hash The hash.\n   * @return {Object}      Object representing the credentials {username, password}.\n   * @example\n   * assert.deepEqual(\n   *   BASIC.decodeHash('QWxpIEJhYmE6b3BlbiBzZXNhbWU='), {\n   *     username: 'Ali Baba',\n   *     password: 'open sesame'\n   *   }\n   * );\n   * @api public\n   */\n  decodeHash: function decodeHash(hash) {\n    const [username, ...passwordParts] = Buffer.from(hash, 'base64').toString().split(':');\n    return {\n      username,\n      password: passwordParts.join(':')\n    };\n  }\n};\nvar _default = BASIC;\nexports.default = _default;\n//# sourceMappingURL=basic.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _yerror = _interopRequireDefault(require(\"yerror\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module http-auth-utils/mechanisms/bearer\n */\nconst AUTHORIZED_ERROR_CODES = ['invalid_request', 'invalid_token', 'insufficient_scope'];\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = [...REQUIRED_WWW_AUTHENTICATE_KEYS, 'scope', 'error', 'error_description'];\n\n/* Architecture Note #1.1: Bearer mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc6750).\n\n*/\n\n/**\n * Bearer authentication mechanism.\n * @type {Object}\n * @see https://tools.ietf.org/html/rfc6750#section-3\n */\nconst BEARER = {\n  /**\n   * The Bearer auth mechanism prefix.\n   * @type {String}\n   */\n  type: 'Bearer',\n\n  /**\n   * Parse the WWW Authenticate header rest.\n   * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n   * @return {Object}      Object representing the result of the parse operation.\n   * @example\n   * assert.deepEqual(\n   *   BEARER.parseWWWAuthenticateRest(\n   *     'realm=\"testrealm@host.com\", ' +\n   *     'scope=\"openid profile email\"'\n   *   ), {\n   *     realm: 'testrealm@host.com',\n   *     scope: 'openid profile email',\n   *   }\n   * );\n   * @api public\n   */\n  parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n    return (0, _utils.parseHTTPHeadersQuotedKeyValueSet)(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, []);\n  },\n\n  /**\n   * Build the WWW Authenticate header rest.\n   * @param  {Object} data The content from wich to build the rest.\n   * @return {String}         The built rest.\n   * @example\n   * assert.equal(\n   *   BEARER.buildWWWAuthenticateRest({\n   *     realm: 'testrealm@host.com',\n   *     error: 'invalid_request',\n   *     error_description: 'The access token expired',\n   *   }),\n   *   'realm=\"testrealm@host.com\", ' +\n   *   'error=\"invalid_request\", ' +\n   *   'error_description=\"The access token expired\"'\n   * );\n   * @api public\n   */\n  buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n    if (data.error && -1 === AUTHORIZED_ERROR_CODES.indexOf(data.error)) {\n      throw new _yerror.default('E_INVALID_ERROR', data.error, AUTHORIZED_ERROR_CODES);\n    }\n\n    return (0, _utils.buildHTTPHeadersQuotedKeyValueSet)(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, []);\n  },\n\n  /**\n   * Parse the Authorization header rest.\n   * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n   * @return {Object}      Object representing the result of the parse operation {hash}.\n   * @example\n   * assert.deepEqual(\n   *   BEARER.parseAuthorizationRest('mF_9.B5f-4.1JqM'), {\n   *     hash: 'mF_9.B5f-4.1JqM',\n   *   }\n   * );\n   * @api public\n   */\n  parseAuthorizationRest: function parseAuthorizationRest(rest) {\n    if (!rest) {\n      throw new _yerror.default('E_EMPTY_AUTH');\n    }\n\n    return {\n      hash: rest\n    };\n  },\n\n  /**\n   * Build the Authorization header rest.\n   * @param  {Object} content The content from wich to build the rest.\n   * @return {String}         The rest built.\n   * @example\n   * assert.equal(\n   *   BEARER.buildAuthorizationRest({\n   *     hash: 'mF_9.B5f-4.1JqM'\n   *   }),\n   *   'mF_9.B5f-4.1JqM=='\n   * );\n   * @api public\n   */\n  buildAuthorizationRest: function buildAuthorizationRest({\n    hash\n  }) {\n    if (!hash) {\n      throw new _yerror.default('E_NO_HASH');\n    }\n\n    return hash;\n  }\n};\nvar _default = BEARER;\nexports.default = _default;\n//# sourceMappingURL=bearer.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = require(\"../utils\");\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module http-auth-utils/mechanisms/digest\n */\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm', 'nonce'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = [...REQUIRED_WWW_AUTHENTICATE_KEYS, 'domain', 'opaque', 'stale', 'algorithm', 'qop'];\nconst REQUIRED_AUTHORIZATION_KEYS = ['username', 'realm', 'nonce', 'uri', 'response'];\nconst AUTHORIZED_AUTHORIZATION_KEYS = [...REQUIRED_AUTHORIZATION_KEYS, 'algorithm', 'cnonce', 'opaque', 'qop', 'nc'];\n\n/* Architecture Note #1.3: Digest mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc2617).\n\n*/\n\n/**\n * Digest authentication mechanism.\n * @type {Object}\n * @see http://tools.ietf.org/html/rfc2617#section-3\n * @see http://tools.ietf.org/html/rfc2069#section-2\n */\nconst DIGEST = {\n  /**\n   * The Digest auth mechanism prefix.\n   * @type {String}\n   */\n  type: 'Digest',\n\n  /**\n   * Parse the WWW Authenticate header rest.\n   * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n   * @return {Object}      Object representing the result of the parse operation.\n   * @example\n   * assert.deepEqual(\n   *   DIGEST.parseWWWAuthenticateRest(\n   *     'realm=\"testrealm@host.com\", ' +\n   *     'qop=\"auth, auth-int\", ' +\n   *     'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n   *     'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n   *   ), {\n   *     realm: 'testrealm@host.com',\n   *     qop: 'auth, auth-int',\n   *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n   *     opaque: '5ccc069c403ebaf9f0171e9517f40e41'\n   *   }\n   * );\n   * @api public\n   */\n  parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n    return (0, _utils.parseHTTPHeadersQuotedKeyValueSet)(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n  },\n\n  /**\n   * Build the WWW Authenticate header rest.\n   * @param  {Object} data The content from wich to build the rest.\n   * @return {String}         The built rest.\n   * @example\n   * assert.equal(\n   *   DIGEST.buildWWWAuthenticateRest({\n   *     realm: 'testrealm@host.com',\n   *     qop: 'auth, auth-int',\n   *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n   *     opaque: '5ccc069c403ebaf9f0171e9517f40e41'\n   *   }),\n   *   'realm=\"testrealm@host.com\", ' +\n   *   'qop=\"auth, auth-int\", ' +\n   *   'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n   *   'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n   * );\n   * @api public\n   */\n  buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n    return (0, _utils.buildHTTPHeadersQuotedKeyValueSet)(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n  },\n\n  /**\n   * Parse the Authorization header rest.\n   * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n   * @return {Object}      Object representing the result of the parse operation {hash}.\n   * @example\n   * assert.deepEqual(\n   *   DIGEST.parseAuthorizationRest(\n   *     'username=\"Mufasa\",' +\n   *     'realm=\"testrealm@host.com\",' +\n   *     'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\",' +\n   *     'uri=\"/dir/index.html\",' +\n   *     'qop=\"auth\",' +\n   *     'nc=\"00000001\",' +\n   *     'cnonce=\"0a4f113b\",' +\n   *     'response=\"6629fae49393a05397450978507c4ef1\",' +\n   *     'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n   *   ), {\n   *     username: \"Mufasa\",\n   *     realm: 'testrealm@host.com',\n   *     nonce: \"dcd98b7102dd2f0e8b11d0f600bfb0c093\",\n   *     uri: \"/dir/index.html\",\n   *     qop: 'auth',\n   *     nc: '00000001',\n   *     cnonce: \"0a4f113b\",\n   *     response: \"6629fae49393a05397450978507c4ef1\",\n   *     opaque: \"5ccc069c403ebaf9f0171e9517f40e41\"\n   *   }\n   * );\n   * @api public\n   */\n  parseAuthorizationRest: function parseAuthorizationRest(rest) {\n    return (0, _utils.parseHTTPHeadersQuotedKeyValueSet)(rest, AUTHORIZED_AUTHORIZATION_KEYS, REQUIRED_AUTHORIZATION_KEYS);\n  },\n\n  /**\n   * Build the Authorization header rest.\n   * @param  {Object} data The content from wich to build the rest.\n   * @return {String}         The rest built.\n   * @example\n   * assert.equal(\n   *   DIGEST.buildAuthorizationRest({\n   *     username: \"Mufasa\",\n   *     realm: 'testrealm@host.com',\n   *     nonce: \"dcd98b7102dd2f0e8b11d0f600bfb0c093\",\n   *     uri: \"/dir/index.html\",\n   *     qop: 'auth',\n   *     nc: '00000001',\n   *     cnonce: \"0a4f113b\",\n   *     response: \"6629fae49393a05397450978507c4ef1\",\n   *     opaque: \"5ccc069c403ebaf9f0171e9517f40e41\"\n   *   }),\n   *   'username=\"Mufasa\", ' +\n   *   'realm=\"testrealm@host.com\", ' +\n   *   'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n   *   'uri=\"/dir/index.html\", ' +\n   *   'response=\"6629fae49393a05397450978507c4ef1\", ' +\n   *   'cnonce=\"0a4f113b\", ' +\n   *   'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\", ' +\n   *   'qop=\"auth\", ' +\n   *   'nc=\"00000001\"'\n   * );\n   * @api public\n   */\n  buildAuthorizationRest: function buildAuthorizationRest(data) {\n    return (0, _utils.buildHTTPHeadersQuotedKeyValueSet)(data, AUTHORIZED_AUTHORIZATION_KEYS, REQUIRED_AUTHORIZATION_KEYS);\n  },\n\n  /**\n   * Compute the Digest authentication hash from the given credentials.\n   * @param  {Object} data The credentials to encode and other encoding details.\n   * @return {String}             The hash representing the credentials.\n   * @example\n   * assert.equal(\n   *   DIGEST.computeHash({\n   *     username: 'Mufasa',\n   *     realm: 'testrealm@host.com',\n   *     password: 'Circle Of Life',\n   *     method: 'GET',\n   *     uri: '/dir/index.html',\n   *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n   *     nc: '00000001',\n   *     cnonce: '0a4f113b',\n   *     qop: 'auth',\n   *     algorithm: 'md5'\n   *   }),\n   *   '6629fae49393a05397450978507c4ef1'\n   * );\n   * @api public\n   */\n  computeHash: function computeHash(data) {\n    const ha1 = data.ha1 || _computeHash(data.algorithm, [data.username, data.realm, data.password].join(':'));\n\n    const ha2 = _computeHash(data.algorithm, [data.method, data.uri].join(':'));\n\n    return _computeHash(data.algorithm, [ha1, data.nonce, data.nc, data.cnonce, data.qop, ha2].join(':'));\n  }\n};\n\nfunction _computeHash(algorithm, str) {\n  const hashsum = _crypto.default.createHash(algorithm);\n\n  hashsum.update(str);\n  return hashsum.digest('hex');\n}\n\nvar _default = DIGEST;\nexports.default = _default;\n//# sourceMappingURL=digest.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseHTTPHeadersQuotedKeyValueSet = parseHTTPHeadersQuotedKeyValueSet;\nexports.buildHTTPHeadersQuotedKeyValueSet = buildHTTPHeadersQuotedKeyValueSet;\n\nvar _yerror = _interopRequireDefault(require(\"yerror\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst QUOTE = '\"';\nconst EQUAL = '=';\nconst SEPARATOR = ', ';\n/*\n * Regular expression for matching the key-value pairs\n * \\w+     = The key\n * =       = The equal sign\n * \".*?\"   = Value option 1: A double-quoted value (using the non-greedy *? to stop at the first doublequote)\n * [^\",]+  = Value option 2: A string without commas or double-quotes\n * (?=,|$) = Zero-width (as in not captured) positive lookahead assertion.\n *           The previous match will only be valid if it's followed by a \" literal\n *           or the end of the string\n */\n\nconst KEYVALUE_REGEXP = /\\w+=(\".*?\"|[^\",]+)(?=,|$)/g; // FIXME: Create a real parser\n\nfunction parseHTTPHeadersQuotedKeyValueSet(contents, authorizedKeys, requiredKeys = []) {\n  const matches = contents.trim().match(KEYVALUE_REGEXP);\n  if (!matches) throw new _yerror.default('E_MALFORMED_QUOTEDKEYVALUE', contents);\n  const data = matches.map((part, partPosition) => {\n    const pair = part.split(EQUAL);\n\n    if (2 !== pair.length) {\n      throw new _yerror.default('E_MALFORMED_QUOTEDKEYVALUE', partPosition, part, pair.length);\n    }\n\n    return pair;\n  }).reduce(function (parsedValues, [name, value], valuePosition) {\n    if (-1 === authorizedKeys.indexOf(name)) {\n      throw new _yerror.default('E_UNAUTHORIZED_KEY', valuePosition, name);\n    }\n    /*\n     * Regular expression for stripping paired starting and ending double quotes off the value:\n     * ^      = The beginning of the string\n     * \"      = The first double quote\n     * .+     = One or more characters of any kind\n     * (?=\"$) = Zero-width (as in not captured) positive lookahead assertion.\n     *          The previous match will only be valid if it's followed by a \" literal\n     *          or the end of the string\n     * \"      = The ending double quote\n     * $      = The end of the string\n     */\n\n\n    parsedValues[name] = value.replace(/^\"(.+(?=\"$))\"$/, '$1');\n    return parsedValues;\n  }, {});\n\n  _checkRequiredKeys(requiredKeys, data);\n\n  return data;\n}\n\nfunction buildHTTPHeadersQuotedKeyValueSet(data, authorizedKeys, requiredKeys = []) {\n  _checkRequiredKeys(requiredKeys, data);\n\n  return authorizedKeys.reduce(function (contents, key) {\n    if (data[key]) {\n      return contents + (contents ? SEPARATOR : '') + key + EQUAL + QUOTE + data[key] + QUOTE;\n    }\n\n    return contents;\n  }, '');\n}\n\nfunction _checkRequiredKeys(requiredKeys, data) {\n  requiredKeys.forEach(name => {\n    if ('undefined' === typeof data[name]) {\n      throw new _yerror.default('E_REQUIRED_KEY', name);\n    }\n  });\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst url = require(\"url\");\nconst axios = require(\"axios\");\nconst authHeader = require(\"auth-header\");\n// from auth-header, but not exposed\nconst quote = (str) => `\"${str.replace(/\"/g, '\\\\\"')}\"`;\nfunction takeFirst(value) {\n    if (value.constructor === Array)\n        return value[0];\n    return value;\n}\nclass AxiosDigestAuth {\n    constructor({ axios: axiosInst, password, username }) {\n        this.axios = axiosInst ? axiosInst : axios.default;\n        this.count = 0;\n        this.password = password;\n        this.username = username;\n    }\n    async request(opts) {\n        var _a, _b;\n        try {\n            return await this.axios.request(opts);\n        }\n        catch (resp1) {\n            if (resp1.response === undefined\n                || resp1.response.status !== 401\n                || !((_a = resp1.response.headers[\"www-authenticate\"]) === null || _a === void 0 ? void 0 : _a.includes('nonce'))) {\n                throw resp1;\n            }\n            // const authDetails = resp1.response.headers['www-authenticate'].split(',').map((v: string) => v.split('='));\n            const wwwAuthenticate = resp1.response.headers['www-authenticate'];\n            const parsedAuthorization = authHeader.parse(wwwAuthenticate);\n            ++this.count;\n            const nonceCount = ('00000000' + this.count).slice(-8);\n            const cnonce = crypto.randomBytes(24).toString('hex');\n            // const realm = authDetails.find((el: any) => el[0].toLowerCase().indexOf(\"realm\") > -1)[1].replace(/\"/g, '');\n            const realm = takeFirst(parsedAuthorization.params['realm']);\n            // const nonce = authDetails.find((el: any) => el[0].toLowerCase().indexOf(\"nonce\") > -1)[1].replace(/\"/g, '');\n            const nonce = takeFirst(parsedAuthorization.params['nonce']);\n            const ha1 = crypto.createHash('md5').update(`${this.username}:${realm}:${this.password}`).digest('hex');\n            const path = url.parse(opts.url).pathname;\n            const ha2 = crypto.createHash('md5').update(`${(_b = opts.method) !== null && _b !== void 0 ? _b : \"GET\"}:${path}`).digest('hex');\n            const response = crypto.createHash('md5').update(`${ha1}:${nonce}:${nonceCount}:${cnonce}:auth:${ha2}`).digest('hex');\n            const params = {\n                username: this.username,\n                realm,\n                nonce,\n                uri: path || '',\n                qop: 'auth',\n                algorithm: 'MD5',\n                response,\n                nc: nonceCount,\n                cnonce,\n            };\n            const paramsString = Object.entries(params).map(([key, value]) => `${key}=${value && quote(value)}`).join(', ');\n            const authorization = `Digest ${paramsString}`;\n            if (opts.headers) {\n                opts.headers[\"authorization\"] = authorization;\n            }\n            else {\n                opts.headers = { authorization };\n            }\n            return this.axios.request(opts);\n        }\n    }\n}\nexports.default = AxiosDigestAuth;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBaUM7QUFDakMsMkJBQTJCO0FBQzNCLCtCQUErQjtBQUMvQiwwQ0FBMEM7QUFFMUMsb0NBQW9DO0FBQ3BDLE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBVyxFQUFVLEVBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7QUFpQnZFLFNBQVMsU0FBUyxDQUFDLEtBQXNCO0lBQ3ZDLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxLQUFLO1FBQzdCLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sS0FBZSxDQUFDO0FBQ3pCLENBQUM7QUFFRCxNQUFxQixlQUFlO0lBT2xDLFlBQVksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQXVCO1FBQ3ZFLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDbkQsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUE4Qjs7UUFDakQsSUFBSTtZQUNGLE9BQU8sTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN2QztRQUFDLE9BQU8sS0FBVSxFQUFFO1lBQ25CLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxTQUFTO21CQUN6QixLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxHQUFHO21CQUM3QixDQUFDLENBQUEs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","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"./util\");\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar xxx = function xxx(key) {\n  return function (value) {\n    return `${key}=${value && !(0, _util.isToken)(value) ? (0, _util.quote)(value) : value}`;\n  };\n};\n\nvar build = function build(params) {\n  return params.reduce(function (prev, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        values = _ref2[1];\n\n    var transform = xxx(key);\n\n    if (!(0, _util.isToken)(key)) {\n      throw new TypeError();\n    }\n\n    if (Array.isArray(values)) {\n      return _toConsumableArray(prev).concat(_toConsumableArray(values.map(transform)));\n    }\n\n    return _toConsumableArray(prev).concat([transform(values)]);\n  }, []);\n};\n\nvar challenge = function challenge(params, options) {\n  if (Array.isArray(params)) {\n    return build(params);\n  } else if (typeof params === 'object') {\n    var entries = params;\n    return challenge(Object.keys(params).map(function (key) {\n      return [key, entries[key]];\n    }), options);\n  }\n\n  throw new TypeError();\n};\n\nvar _default = function _default(scheme, token, params) {\n  var obj = typeof scheme === 'string' ? {\n    scheme,\n    token,\n    params\n  } : scheme;\n\n  if (typeof obj !== 'object') {\n    throw new TypeError();\n  } else if (!(0, _util.isScheme)(obj.scheme)) {\n    throw new TypeError('Invalid scheme.');\n  }\n\n  return [obj.scheme].concat(_toConsumableArray(typeof obj.token !== 'undefined' ? [obj.token] : []), _toConsumableArray(typeof obj.params !== 'undefined' ? challenge(obj.params) : [])).join(' ');\n};\n\nexports.default = _default;\n//# sourceMappingURL=format.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"format\", {\n  enumerable: true,\n  get: function get() {\n    return _format.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\n\nvar _format = _interopRequireDefault(require(\"./format\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"./util\");\n\n// lol dis\nvar body = /((?:[a-zA-Z0-9._~+\\/-]+=*(?:\\s+|$))|[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+)(?:=([^\\\\\"=\\s,]+|\"(?:[^\"\\\\]|\\\\.)*\"))?/g; // eslint-disable-line\n\nvar normalize = function normalize(prev, _cur) {\n  // Fixup quoted strings and tokens with spaces around them\n  var cur = _cur.charAt(0) === '\"' ? (0, _util.unquote)(_cur) : _cur.trim(); // Marshal\n\n  if (Array.isArray(prev)) {\n    return prev.concat(cur);\n  } else if (typeof prev === 'string') {\n    return [prev, cur];\n  }\n\n  return cur;\n};\n\nvar parseProperties = function parseProperties(scheme, string) {\n  var token = null;\n  var params = {}; // eslint-disable-next-line no-constant-condition\n\n  while (true) {\n    var res = body.exec(string);\n\n    if (res === null) {\n      break;\n    }\n\n    if (res[2]) {\n      params[res[1]] = normalize(params[res[1]], res[2]);\n    } else {\n      token = normalize(token, res[1]);\n    }\n  }\n\n  return {\n    scheme,\n    params,\n    token\n  };\n};\n\nvar _default = function _default(str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Header value must be a string.');\n  }\n\n  var start = str.indexOf(' ');\n  var scheme = str.substr(0, start);\n\n  if (!(0, _util.isScheme)(scheme)) {\n    throw new TypeError(`Invalid scheme ${scheme}`);\n  }\n\n  return parseProperties(scheme, str.substr(start));\n};\n\nexports.default = _default;\n//# sourceMappingURL=parse.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unquote = exports.quote = exports.isScheme = exports.isToken = void 0;\nvar token = /^[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+$/;\n\nvar isToken = function isToken(str) {\n  return typeof str === 'string' && token.test(str);\n};\n\nexports.isToken = isToken;\nvar isScheme = isToken;\nexports.isScheme = isScheme;\n\nvar quote = function quote(str) {\n  return `\"${str.replace(/\"/g, '\\\\\"')}\"`;\n};\n\nexports.quote = quote;\n\nvar unquote = function unquote(str) {\n  return str.substr(1, str.length - 2).replace(/\\\\\"/g, '\"');\n};\n\nexports.unquote = unquote;\n//# sourceMappingURL=util.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var resolve = function resolve(value) {\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    if ('User-Agent' in headers || 'user-agent' in headers) {\n      // User-Agent is specified; handle case where no UA header is desired\n      if (!headers['User-Agent'] && !headers['user-agent']) {\n        delete headers['User-Agent'];\n        delete headers['user-agent'];\n      }\n      // Otherwise, use specified value\n    } else {\n      // Only set header if it hasn't been set in config\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        var totalResponseBytes = 0;\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      var timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(createError(\n          'error trying to parse `config.timeout` to int',\n          config,\n          'ERR_PARSE_TIMEOUT',\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        req.abort();\n        reject(createError(\n          'timeout of ' + timeout + 'ms exceeded',\n          config,\n          config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n          req\n        ));\n      });\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\"\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  abortRequest(this._currentRequest);\n  this.emit(\"abort\");\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!(typeof data === \"string\" || typeof data === \"object\" && (\"length\" in data))) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (typeof data === \"function\") {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.substr(0, protocol.length - 1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  this._currentUrl = url.format(this._options);\n\n  // Set up event handlers\n  request._redirectable = this;\n  for (var e = 0; e < events.length; e++) {\n    request.on(events[e], eventHandlers[events[e]]);\n  }\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end.\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      /* istanbul ignore else */\n      if (request === self._currentRequest) {\n        // Report any write errors\n        /* istanbul ignore if */\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          /* istanbul ignore else */\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  abortRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    this.emit(\"error\", new TooManyRedirectsError());\n    return;\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = url.parse(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Determine the URL of the redirection\n  var redirectUrl;\n  try {\n    redirectUrl = url.resolve(currentUrl, location);\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError(cause));\n    return;\n  }\n\n  // Create the redirected request\n  debug(\"redirecting to\", redirectUrl);\n  this._isRedirect = true;\n  var redirectUrlParts = url.parse(redirectUrl);\n  Object.assign(this._options, redirectUrlParts);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrlParts.protocol !== currentUrlParts.protocol &&\n     redirectUrlParts.protocol !== \"https:\" ||\n     redirectUrlParts.host !== currentHost &&\n     !isSubdomain(redirectUrlParts.host, currentHost)) {\n    removeMatchingHeaders(/^(?:authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (typeof this._options.beforeRedirect === \"function\") {\n    var responseDetails = { headers: response.headers };\n    try {\n      this._options.beforeRedirect.call(null, this._options, responseDetails);\n    }\n    catch (err) {\n      this.emit(\"error\", err);\n      return;\n    }\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  try {\n    this._performRequest();\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError(cause));\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters\n      if (typeof input === \"string\") {\n        var urlStr = input;\n        try {\n          input = urlToOptions(new URL(urlStr));\n        }\n        catch (err) {\n          /* istanbul ignore next */\n          input = url.parse(urlStr);\n        }\n      }\n      else if (URL && (input instanceof URL)) {\n        input = urlToOptions(input);\n      }\n      else {\n        callback = options;\n        options = input;\n        input = { protocol: protocol };\n      }\n      if (typeof options === \"function\") {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\n/* istanbul ignore next */\nfunction noop() { /* empty */ }\n\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\nfunction urlToOptions(urlObject) {\n  var options = {\n    protocol: urlObject.protocol,\n    hostname: urlObject.hostname.startsWith(\"[\") ?\n      /* istanbul ignore next */\n      urlObject.hostname.slice(1, -1) :\n      urlObject.hostname,\n    hash: urlObject.hash,\n    search: urlObject.search,\n    pathname: urlObject.pathname,\n    path: urlObject.pathname + urlObject.search,\n    href: urlObject.href,\n  };\n  if (urlObject.port !== \"\") {\n    options.port = Number(urlObject.port);\n  }\n  return options;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, defaultMessage) {\n  function CustomError(cause) {\n    Error.captureStackTrace(this, this.constructor);\n    if (!cause) {\n      this.message = defaultMessage;\n    }\n    else {\n      this.message = defaultMessage + \": \" + cause.message;\n      this.cause = cause;\n    }\n  }\n  CustomError.prototype = new Error();\n  CustomError.prototype.constructor = CustomError;\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\n  CustomError.prototype.code = code;\n  return CustomError;\n}\n\nfunction abortRequest(request) {\n  for (var e = 0; e < events.length; e++) {\n    request.removeListener(events[e], eventHandlers[events[e]]);\n  }\n  request.on(\"error\", noop);\n  request.abort();\n}\n\nfunction isSubdomain(subdomain, domain) {\n  const dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst url = require(\"url\");\nconst axios = require(\"axios\");\nconst authHeader = require(\"auth-header\");\n// from auth-header, but not exposed\nconst quote = (str) => `\"${str.replace(/\"/g, '\\\\\"')}\"`;\nfunction takeFirst(value) {\n    if (value.constructor === Array)\n        return value[0];\n    return value;\n}\nclass AxiosDigestAuth {\n    constructor({ axios: axiosInst, password, username }) {\n        this.axios = axiosInst ? axiosInst : axios.default;\n        this.count = 0;\n        this.password = password;\n        this.username = username;\n    }\n    async request(opts) {\n        var _a, _b;\n        try {\n            return await this.axios.request(opts);\n        }\n        catch (resp1) {\n            if (resp1.response === undefined\n                || resp1.response.status !== 401\n                || !((_a = resp1.response.headers[\"www-authenticate\"]) === null || _a === void 0 ? void 0 : _a.includes('nonce'))) {\n                throw resp1;\n            }\n            // const authDetails = resp1.response.headers['www-authenticate'].split(',').map((v: string) => v.split('='));\n            const wwwAuthenticate = resp1.response.headers['www-authenticate'];\n            const parsedAuthorization = authHeader.parse(wwwAuthenticate);\n            ++this.count;\n            const nonceCount = ('00000000' + this.count).slice(-8);\n            const cnonce = crypto.randomBytes(24).toString('hex');\n            // const realm = authDetails.find((el: any) => el[0].toLowerCase().indexOf(\"realm\") > -1)[1].replace(/\"/g, '');\n            const realm = takeFirst(parsedAuthorization.params['realm']);\n            // const nonce = authDetails.find((el: any) => el[0].toLowerCase().indexOf(\"nonce\") > -1)[1].replace(/\"/g, '');\n            const nonce = takeFirst(parsedAuthorization.params['nonce']);\n            const ha1 = crypto.createHash('md5').update(`${this.username}:${realm}:${this.password}`).digest('hex');\n            const path = url.parse(opts.url).pathname;\n            const ha2 = crypto.createHash('md5').update(`${(_b = opts.method) !== null && _b !== void 0 ? _b : \"GET\"}:${path}`).digest('hex');\n            const response = crypto.createHash('md5').update(`${ha1}:${nonce}:${nonceCount}:${cnonce}:auth:${ha2}`).digest('hex');\n            const params = {\n                username: this.username,\n                realm,\n                nonce,\n                uri: path || '',\n                qop: 'auth',\n                algorithm: 'MD5',\n                response,\n                nc: nonceCount,\n                cnonce,\n            };\n            const paramsString = Object.entries(params).map(([key, value]) => `${key}=${value && quote(value)}`).join(', ');\n            const authorization = `Digest ${paramsString}`;\n            if (opts.headers) {\n                opts.headers[\"authorization\"] = authorization;\n            }\n            else {\n                opts.headers = { authorization };\n            }\n            return this.axios.request(opts);\n        }\n    }\n}\nexports.default = AxiosDigestAuth;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBaUM7QUFDakMsMkJBQTJCO0FBQzNCLCtCQUErQjtBQUMvQiwwQ0FBMEM7QUFFMUMsb0NBQW9DO0FBQ3BDLE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBVyxFQUFVLEVBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7QUFpQnZFLFNBQVMsU0FBUyxDQUFDLEtBQXNCO0lBQ3ZDLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxLQUFLO1FBQzdCLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sS0FBZSxDQUFDO0FBQ3pCLENBQUM7QUFFRCxNQUFxQixlQUFlO0lBT2xDLFlBQVksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQXVCO1FBQ3ZFLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDbkQsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUE4Qjs7UUFDakQsSUFBSTtZQUNGLE9BQU8sTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN2QztRQUFDLE9BQU8sS0FBVSxFQUFFO1lBQ25CLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxTQUFTO21CQUN6QixLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxHQUFHO21CQUM3QixDQUFDLENBQUEs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","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"./util\");\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar xxx = function xxx(key) {\n  return function (value) {\n    return `${key}=${value && !(0, _util.isToken)(value) ? (0, _util.quote)(value) : value}`;\n  };\n};\n\nvar build = function build(params) {\n  return params.reduce(function (prev, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        values = _ref2[1];\n\n    var transform = xxx(key);\n\n    if (!(0, _util.isToken)(key)) {\n      throw new TypeError();\n    }\n\n    if (Array.isArray(values)) {\n      return _toConsumableArray(prev).concat(_toConsumableArray(values.map(transform)));\n    }\n\n    return _toConsumableArray(prev).concat([transform(values)]);\n  }, []);\n};\n\nvar challenge = function challenge(params, options) {\n  if (Array.isArray(params)) {\n    return build(params);\n  } else if (typeof params === 'object') {\n    var entries = params;\n    return challenge(Object.keys(params).map(function (key) {\n      return [key, entries[key]];\n    }), options);\n  }\n\n  throw new TypeError();\n};\n\nvar _default = function _default(scheme, token, params) {\n  var obj = typeof scheme === 'string' ? {\n    scheme,\n    token,\n    params\n  } : scheme;\n\n  if (typeof obj !== 'object') {\n    throw new TypeError();\n  } else if (!(0, _util.isScheme)(obj.scheme)) {\n    throw new TypeError('Invalid scheme.');\n  }\n\n  return [obj.scheme].concat(_toConsumableArray(typeof obj.token !== 'undefined' ? [obj.token] : []), _toConsumableArray(typeof obj.params !== 'undefined' ? challenge(obj.params) : [])).join(' ');\n};\n\nexports.default = _default;\n//# sourceMappingURL=format.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"format\", {\n  enumerable: true,\n  get: function get() {\n    return _format.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\n\nvar _format = _interopRequireDefault(require(\"./format\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"./util\");\n\n// lol dis\nvar body = /((?:[a-zA-Z0-9._~+\\/-]+=*(?:\\s+|$))|[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+)(?:=([^\\\\\"=\\s,]+|\"(?:[^\"\\\\]|\\\\.)*\"))?/g; // eslint-disable-line\n\nvar normalize = function normalize(prev, _cur) {\n  // Fixup quoted strings and tokens with spaces around them\n  var cur = _cur.charAt(0) === '\"' ? (0, _util.unquote)(_cur) : _cur.trim(); // Marshal\n\n  if (Array.isArray(prev)) {\n    return prev.concat(cur);\n  } else if (typeof prev === 'string') {\n    return [prev, cur];\n  }\n\n  return cur;\n};\n\nvar parseProperties = function parseProperties(scheme, string) {\n  var token = null;\n  var params = {}; // eslint-disable-next-line no-constant-condition\n\n  while (true) {\n    var res = body.exec(string);\n\n    if (res === null) {\n      break;\n    }\n\n    if (res[2]) {\n      params[res[1]] = normalize(params[res[1]], res[2]);\n    } else {\n      token = normalize(token, res[1]);\n    }\n  }\n\n  return {\n    scheme,\n    params,\n    token\n  };\n};\n\nvar _default = function _default(str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Header value must be a string.');\n  }\n\n  var start = str.indexOf(' ');\n  var scheme = str.substr(0, start);\n\n  if (!(0, _util.isScheme)(scheme)) {\n    throw new TypeError(`Invalid scheme ${scheme}`);\n  }\n\n  return parseProperties(scheme, str.substr(start));\n};\n\nexports.default = _default;\n//# sourceMappingURL=parse.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unquote = exports.quote = exports.isScheme = exports.isToken = void 0;\nvar token = /^[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+$/;\n\nvar isToken = function isToken(str) {\n  return typeof str === 'string' && token.test(str);\n};\n\nexports.isToken = isToken;\nvar isScheme = isToken;\nexports.isScheme = isScheme;\n\nvar quote = function quote(str) {\n  return `\"${str.replace(/\"/g, '\\\\\"')}\"`;\n};\n\nexports.quote = quote;\n\nvar unquote = function unquote(str) {\n  return str.substr(1, str.length - 2).replace(/\\\\\"/g, '\"');\n};\n\nexports.unquote = unquote;\n//# sourceMappingURL=util.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var resolve = function resolve(value) {\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    if ('User-Agent' in headers || 'user-agent' in headers) {\n      // User-Agent is specified; handle case where no UA header is desired\n      if (!headers['User-Agent'] && !headers['user-agent']) {\n        delete headers['User-Agent'];\n        delete headers['user-agent'];\n      }\n      // Otherwise, use specified value\n    } else {\n      // Only set header if it hasn't been set in config\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        var totalResponseBytes = 0;\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      var timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(createError(\n          'error trying to parse `config.timeout` to int',\n          config,\n          'ERR_PARSE_TIMEOUT',\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        req.abort();\n        reject(createError(\n          'timeout of ' + timeout + 'ms exceeded',\n          config,\n          config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n          req\n        ));\n      });\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\n// Error types with codes\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\"\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  abortRequest(this._currentRequest);\n  this.emit(\"abort\");\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      /* istanbul ignore else */\n      if (request === self._currentRequest) {\n        // Report any write errors\n        /* istanbul ignore if */\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          /* istanbul ignore else */\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  abortRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    this.emit(\"error\", new TooManyRedirectsError());\n    return;\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = url.parse(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Determine the URL of the redirection\n  var redirectUrl;\n  try {\n    redirectUrl = url.resolve(currentUrl, location);\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n    return;\n  }\n\n  // Create the redirected request\n  debug(\"redirecting to\", redirectUrl);\n  this._isRedirect = true;\n  var redirectUrlParts = url.parse(redirectUrl);\n  Object.assign(this._options, redirectUrlParts);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrlParts.protocol !== currentUrlParts.protocol &&\n     redirectUrlParts.protocol !== \"https:\" ||\n     redirectUrlParts.host !== currentHost &&\n     !isSubdomain(redirectUrlParts.host, currentHost)) {\n    removeMatchingHeaders(/^(?:authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    try {\n      beforeRedirect(this._options, responseDetails, requestDetails);\n    }\n    catch (err) {\n      this.emit(\"error\", err);\n      return;\n    }\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  try {\n    this._performRequest();\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters\n      if (isString(input)) {\n        var parsed;\n        try {\n          parsed = urlToOptions(new URL(input));\n        }\n        catch (err) {\n          /* istanbul ignore next */\n          parsed = url.parse(input);\n        }\n        if (!isString(parsed.protocol)) {\n          throw new InvalidUrlError({ input });\n        }\n        input = parsed;\n      }\n      else if (URL && (input instanceof URL)) {\n        input = urlToOptions(input);\n      }\n      else {\n        callback = options;\n        options = input;\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\n/* istanbul ignore next */\nfunction noop() { /* empty */ }\n\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\nfunction urlToOptions(urlObject) {\n  var options = {\n    protocol: urlObject.protocol,\n    hostname: urlObject.hostname.startsWith(\"[\") ?\n      /* istanbul ignore next */\n      urlObject.hostname.slice(1, -1) :\n      urlObject.hostname,\n    hash: urlObject.hash,\n    search: urlObject.search,\n    pathname: urlObject.pathname,\n    path: urlObject.pathname + urlObject.search,\n    href: urlObject.href,\n  };\n  if (urlObject.port !== \"\") {\n    options.port = Number(urlObject.port);\n  }\n  return options;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    Error.captureStackTrace(this, this.constructor);\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  CustomError.prototype.constructor = CustomError;\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\n  return CustomError;\n}\n\nfunction abortRequest(request) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.abort();\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.nativeId = systemManager.getDeviceById(this.id)?.nativeId;\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        // 8-11-2022\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be removed at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && deviceManager.createDeviceState && typeof this._deviceState.id === 'string') {\n            this._deviceState = deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (deviceManager.getMixinConsole)\n                this._console = deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            if (!this._deviceState)\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            else\n                this._deviceState[state] = value;\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nlet sdk = {};\ntry {\n    let runtimeAPI;\n    try {\n        runtimeAPI = pluginRuntimeAPI;\n    }\n    catch (e) {\n    }\n    sdk = Object.assign(sdk, {\n        log: deviceManager.getDeviceLogger(undefined),\n        deviceManager,\n        endpointManager,\n        mediaManager,\n        systemManager,\n        pluginHostAPI,\n        ...runtimeAPI,\n    });\n    try {\n        systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.2.78\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"thermostatActiveMode\"] = \"thermostatActiveMode\";\n    ScryptedInterfaceProperty[\"thermostatAvailableModes\"] = \"thermostatAvailableModes\";\n    ScryptedInterfaceProperty[\"thermostatMode\"] = \"thermostatMode\";\n    ScryptedInterfaceProperty[\"thermostatSetpoint\"] = \"thermostatSetpoint\";\n    ScryptedInterfaceProperty[\"thermostatSetpointHigh\"] = \"thermostatSetpointHigh\";\n    ScryptedInterfaceProperty[\"thermostatSetpointLow\"] = \"thermostatSetpointLow\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n})(ScryptedInterfaceProperty = exports.ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setThermostatMode\"] = \"setThermostatMode\";\n    ScryptedInterfaceMethod[\"setThermostatSetpoint\"] = \"setThermostatSetpoint\";\n    ScryptedInterfaceMethod[\"setThermostatSetpointHigh\"] = \"setThermostatSetpointHigh\";\n    ScryptedInterfaceMethod[\"setThermostatSetpointLow\"] = \"setThermostatSetpointLow\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n})(ScryptedInterfaceMethod = exports.ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    ScryptedDevice: {\n        name: 'ScryptedDevice',\n        methods: [\n            'listen',\n            'probe',\n            'setMixins',\n            'setName',\n            'setRoom',\n            'setType'\n        ],\n        properties: [\n            'id',\n            'info',\n            'interfaces',\n            'mixins',\n            'name',\n            'nativeId',\n            'pluginId',\n            'providedInterfaces',\n            'providedName',\n            'providedRoom',\n            'providedType',\n            'providerId',\n            'room',\n            'type'\n        ]\n    },\n    ScryptedPlugin: {\n        name: 'ScryptedPlugin',\n        methods: [\n            'getPluginJson'\n        ],\n        properties: []\n    },\n    OnOff: {\n        name: 'OnOff',\n        methods: [\n            'turnOff',\n            'turnOn'\n        ],\n        properties: [\n            'on'\n        ]\n    },\n    Brightness: {\n        name: 'Brightness',\n        methods: [\n            'setBrightness'\n        ],\n        properties: [\n            'brightness'\n        ]\n    },\n    ColorSettingTemperature: {\n        name: 'ColorSettingTemperature',\n        methods: [\n            'getTemperatureMaxK',\n            'getTemperatureMinK',\n            'setColorTemperature'\n        ],\n        properties: [\n            'colorTemperature'\n        ]\n    },\n    ColorSettingRgb: {\n        name: 'ColorSettingRgb',\n        methods: [\n            'setRgb'\n        ],\n        properties: [\n            'rgb'\n        ]\n    },\n    ColorSettingHsv: {\n        name: 'ColorSettingHsv',\n        methods: [\n            'setHsv'\n        ],\n        properties: [\n            'hsv'\n        ]\n    },\n    Notifier: {\n        name: 'Notifier',\n        methods: [\n            'sendNotification'\n        ],\n        properties: []\n    },\n    StartStop: {\n        name: 'StartStop',\n        methods: [\n            'start',\n            'stop'\n        ],\n        properties: [\n            'running'\n        ]\n    },\n    Pause: {\n        name: 'Pause',\n        methods: [\n            'pause',\n            'resume'\n        ],\n        properties: [\n            'paused'\n        ]\n    },\n    Dock: {\n        name: 'Dock',\n        methods: [\n            'dock'\n        ],\n        properties: [\n            'docked'\n        ]\n    },\n    TemperatureSetting: {\n        name: 'TemperatureSetting',\n        methods: [\n            'setTemperature',\n            'setThermostatMode',\n            'setThermostatSetpoint',\n            'setThermostatSetpointHigh',\n            'setThermostatSetpointLow'\n        ],\n        properties: [\n            'temperatureSetting',\n            'thermostatActiveMode',\n            'thermostatAvailableModes',\n            'thermostatMode',\n            'thermostatSetpoint',\n            'thermostatSetpointHigh',\n            'thermostatSetpointLow'\n        ]\n    },\n    Thermometer: {\n        name: 'Thermometer',\n        methods: [\n            'setTemperatureUnit'\n        ],\n        properties: [\n            'temperature',\n            'temperatureUnit'\n        ]\n    },\n    HumiditySensor: {\n        name: 'HumiditySensor',\n        methods: [],\n        properties: [\n            'humidity'\n        ]\n    },\n    Camera: {\n        name: 'Camera',\n        methods: [\n            'getPictureOptions',\n            'takePicture'\n        ],\n        properties: []\n    },\n    Microphone: {\n        name: 'Microphone',\n        methods: [\n            'getAudioStream'\n        ],\n        properties: []\n    },\n    Display: {\n        name: 'Display',\n        methods: [\n            'startDisplay',\n            'stopDisplay'\n        ],\n        properties: []\n    },\n    VideoCamera: {\n        name: 'VideoCamera',\n        methods: [\n            'getVideoStream',\n            'getVideoStreamOptions'\n        ],\n        properties: []\n    },\n    VideoRecorder: {\n        name: 'VideoRecorder',\n        methods: [\n            'getRecordingStream',\n            'getRecordingStreamCurrentTime',\n            'getRecordingStreamOptions',\n            'getRecordingStreamThumbnail'\n        ],\n        properties: []\n    },\n    PanTiltZoom: {\n        name: 'PanTiltZoom',\n        methods: [\n            'ptzCommand'\n        ],\n        properties: [\n            'ptzCapabilities'\n        ]\n    },\n    EventRecorder: {\n        name: 'EventRecorder',\n        methods: [\n            'getRecordedEvents'\n        ],\n        properties: []\n    },\n    VideoClips: {\n        name: 'VideoClips',\n        methods: [\n            'getVideoClip',\n            'getVideoClipThumbnail',\n            'getVideoClips',\n            'removeVideoClips'\n        ],\n        properties: []\n    },\n    VideoCameraConfiguration: {\n        name: 'VideoCameraConfiguration',\n        methods: [\n            'setVideoStreamOptions'\n        ],\n        properties: []\n    },\n    Intercom: {\n        name: 'Intercom',\n        methods: [\n            'startIntercom',\n            'stopIntercom'\n        ],\n        properties: []\n    },\n    Lock: {\n        name: 'Lock',\n        methods: [\n            'lock',\n            'unlock'\n        ],\n        properties: [\n            'lockState'\n        ]\n    },\n    PasswordStore: {\n        name: 'PasswordStore',\n        methods: [\n            'addPassword',\n            'getPasswords',\n            'removePassword'\n        ],\n        properties: []\n    },\n    Scene: {\n        name: 'Scene',\n        methods: [\n            'activate',\n            'deactivate',\n            'isReversible'\n        ],\n        properties: []\n    },\n    Entry: {\n        name: 'Entry',\n        methods: [\n            'closeEntry',\n            'openEntry'\n        ],\n        properties: []\n    },\n    EntrySensor: {\n        name: 'EntrySensor',\n        methods: [],\n        properties: [\n            'entryOpen'\n        ]\n    },\n    DeviceProvider: {\n        name: 'DeviceProvider',\n        methods: [\n            'getDevice',\n            'releaseDevice'\n        ],\n        properties: []\n    },\n    DeviceDiscovery: {\n        name: 'DeviceDiscovery',\n        methods: [\n            'adoptDevice',\n            'discoverDevices'\n        ],\n        properties: []\n    },\n    DeviceCreator: {\n        name: 'DeviceCreator',\n        methods: [\n            'createDevice',\n            'getCreateDeviceSettings'\n        ],\n        properties: []\n    },\n    Battery: {\n        name: 'Battery',\n        methods: [],\n        properties: [\n            'batteryLevel'\n        ]\n    },\n    Charger: {\n        name: 'Charger',\n        methods: [],\n        properties: [\n            'chargeState'\n        ]\n    },\n    Refresh: {\n        name: 'Refresh',\n        methods: [\n            'getRefreshFrequency',\n            'refresh'\n        ],\n        properties: []\n    },\n    MediaPlayer: {\n        name: 'MediaPlayer',\n        methods: [\n            'getMediaStatus',\n            'load',\n            'seek',\n            'skipNext',\n            'skipPrevious'\n        ],\n        properties: []\n    },\n    Online: {\n        name: 'Online',\n        methods: [],\n        properties: [\n            'online'\n        ]\n    },\n    BufferConverter: {\n        name: 'BufferConverter',\n        methods: [\n            'convert'\n        ],\n        properties: [\n            'fromMimeType',\n            'toMimeType'\n        ]\n    },\n    Settings: {\n        name: 'Settings',\n        methods: [\n            'getSettings',\n            'putSetting'\n        ],\n        properties: []\n    },\n    BinarySensor: {\n        name: 'BinarySensor',\n        methods: [],\n        properties: [\n            'binaryState'\n        ]\n    },\n    TamperSensor: {\n        name: 'TamperSensor',\n        methods: [],\n        properties: [\n            'tampered'\n        ]\n    },\n    PowerSensor: {\n        name: 'PowerSensor',\n        methods: [],\n        properties: [\n            'powerDetected'\n        ]\n    },\n    AudioSensor: {\n        name: 'AudioSensor',\n        methods: [],\n        properties: [\n            'audioDetected'\n        ]\n    },\n    MotionSensor: {\n        name: 'MotionSensor',\n        methods: [],\n        properties: [\n            'motionDetected'\n        ]\n    },\n    AmbientLightSensor: {\n        name: 'AmbientLightSensor',\n        methods: [],\n        properties: [\n            'ambientLight'\n        ]\n    },\n    OccupancySensor: {\n        name: 'OccupancySensor',\n        methods: [],\n        properties: [\n            'occupied'\n        ]\n    },\n    FloodSensor: {\n        name: 'FloodSensor',\n        methods: [],\n        properties: [\n            'flooded'\n        ]\n    },\n    UltravioletSensor: {\n        name: 'UltravioletSensor',\n        methods: [],\n        properties: [\n            'ultraviolet'\n        ]\n    },\n    LuminanceSensor: {\n        name: 'LuminanceSensor',\n        methods: [],\n        properties: [\n            'luminance'\n        ]\n    },\n    PositionSensor: {\n        name: 'PositionSensor',\n        methods: [],\n        properties: [\n            'position'\n        ]\n    },\n    SecuritySystem: {\n        name: 'SecuritySystem',\n        methods: [\n            'armSecuritySystem',\n            'disarmSecuritySystem'\n        ],\n        properties: [\n            'securitySystemState'\n        ]\n    },\n    PM10Sensor: {\n        name: 'PM10Sensor',\n        methods: [],\n        properties: [\n            'pm10Density'\n        ]\n    },\n    PM25Sensor: {\n        name: 'PM25Sensor',\n        methods: [],\n        properties: [\n            'pm25Density'\n        ]\n    },\n    VOCSensor: {\n        name: 'VOCSensor',\n        methods: [],\n        properties: [\n            'vocDensity'\n        ]\n    },\n    NOXSensor: {\n        name: 'NOXSensor',\n        methods: [],\n        properties: [\n            'noxDensity'\n        ]\n    },\n    CO2Sensor: {\n        name: 'CO2Sensor',\n        methods: [],\n        properties: [\n            'co2ppm'\n        ]\n    },\n    AirQualitySensor: {\n        name: 'AirQualitySensor',\n        methods: [],\n        properties: [\n            'airQuality'\n        ]\n    },\n    Readme: {\n        name: 'Readme',\n        methods: [\n            'getReadmeMarkdown'\n        ],\n        properties: []\n    },\n    OauthClient: {\n        name: 'OauthClient',\n        methods: [\n            'getOauthUrl',\n            'onOauthCallback'\n        ],\n        properties: []\n    },\n    MixinProvider: {\n        name: 'MixinProvider',\n        methods: [\n            'canMixin',\n            'getMixin',\n            'releaseMixin'\n        ],\n        properties: []\n    },\n    HttpRequestHandler: {\n        name: 'HttpRequestHandler',\n        methods: [\n            'onRequest'\n        ],\n        properties: []\n    },\n    EngineIOHandler: {\n        name: 'EngineIOHandler',\n        methods: [\n            'onConnection'\n        ],\n        properties: []\n    },\n    PushHandler: {\n        name: 'PushHandler',\n        methods: [\n            'onPush'\n        ],\n        properties: []\n    },\n    Program: {\n        name: 'Program',\n        methods: [\n            'run'\n        ],\n        properties: []\n    },\n    Scriptable: {\n        name: 'Scriptable',\n        methods: [\n            'eval',\n            'loadScripts',\n            'saveScript'\n        ],\n        properties: []\n    },\n    ObjectTracker: {\n        name: 'ObjectTracker',\n        methods: [\n            'trackObjects'\n        ],\n        properties: []\n    },\n    ObjectDetector: {\n        name: 'ObjectDetector',\n        methods: [\n            'getDetectionInput',\n            'getObjectTypes'\n        ],\n        properties: []\n    },\n    ObjectDetection: {\n        name: 'ObjectDetection',\n        methods: [\n            'detectObjects',\n            'generateObjectDetections',\n            'getDetectionModel'\n        ],\n        properties: []\n    },\n    HumiditySetting: {\n        name: 'HumiditySetting',\n        methods: [\n            'setHumidity'\n        ],\n        properties: [\n            'humiditySetting'\n        ]\n    },\n    Fan: {\n        name: 'Fan',\n        methods: [\n            'setFan'\n        ],\n        properties: [\n            'fan'\n        ]\n    },\n    RTCSignalingChannel: {\n        name: 'RTCSignalingChannel',\n        methods: [\n            'startRTCSignalingSession'\n        ],\n        properties: []\n    },\n    RTCSignalingClient: {\n        name: 'RTCSignalingClient',\n        methods: [\n            'createRTCSignalingSession'\n        ],\n        properties: []\n    },\n    LauncherApplication: {\n        name: 'LauncherApplication',\n        methods: [],\n        properties: [\n            'applicationInfo'\n        ]\n    },\n    ScryptedUser: {\n        name: 'ScryptedUser',\n        methods: [\n            'getScryptedUserAccessControl'\n        ],\n        properties: []\n    },\n    VideoFrameGenerator: {\n        name: 'VideoFrameGenerator',\n        methods: [\n            'generateVideoFrames'\n        ],\n        properties: []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType = exports.ScryptedDeviceType || (exports.ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode = exports.HumidityMode || (exports.HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode = exports.FanMode || (exports.FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit = exports.TemperatureUnit || (exports.TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode = exports.ThermostatMode || (exports.ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n})(PanTiltZoomMovement = exports.PanTiltZoomMovement || (exports.PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState = exports.LockState || (exports.LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState = exports.ChargeState || (exports.ChargeState = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality = exports.AirQuality || (exports.AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode = exports.SecuritySystemMode || (exports.SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction = exports.SecuritySystemObstruction || (exports.SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState = exports.MediaPlayerState || (exports.MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n})(ScryptedInterface = exports.ScryptedInterface || (exports.ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes = exports.ScryptedMimeTypes || (exports.ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","export class Deferred<T> {\n    finished = false;\n    resolve!: (value: T|PromiseLike<T>) => void;\n    reject!: (error: Error) => void;\n    promise: Promise<T> = new Promise((resolve, reject) => {\n        this.resolve = v => {\n            this.finished = true;\n            resolve(v);\n        };\n        this.reject = e => {\n            this.finished = true;\n            reject(e);\n        };\n    });\n}\n","import net from 'net';\nimport { once } from 'events';\nimport dgram, { SocketType } from 'dgram';\n\nexport async function closeQuiet(socket: dgram.Socket | net.Server) {\n    if (!socket)\n        return;\n    try {\n        await new Promise((r, f) => {\n            try {\n                socket.close(r);\n            }\n            catch (e) {\n                f(e);\n            }\n        });\n    }\n    catch (e) {\n    }\n}\n\nexport async function bindUdp(server: dgram.Socket, usePort: number, address?: string) {\n    server.bind(usePort, address);\n    await once(server, 'listening');\n    const port = server.address().port;\n    return {\n        port,\n        url: `udp://127.0.0.1:${port}`,\n    }\n}\n\nexport async function bindZero(server: dgram.Socket) {\n    return bindUdp(server, 0);\n}\n\nexport async function createBindZero(socketType?: SocketType) {\n    return createBindUdp(0, socketType);\n}\n\nexport async function reserveUdpPort() {\n    const udp = await createBindZero();\n    await new Promise(resolve => udp.server.close(() => resolve(undefined)));\n    return udp.port;\n}\n\nexport async function createBindUdp(usePort: number, socketType?: SocketType) {\n    const server = dgram.createSocket(socketType || 'udp4');\n    const { port, url } = await bindUdp(server, usePort);\n    return {\n        server,\n        port,\n        url,\n    };\n}\n\nexport async function bind(server: dgram.Socket, port: number) {\n    server.bind(port);\n    await once(server, 'listening');\n    return {\n        port,\n        url: `udp://127.0.0.1:${port}`,\n    }\n}\n\nexport { listenZero, listenZeroSingleClient, ListenZeroSingleClientTimeoutError } from \"@scrypted/server/src/listen-zero\";\n","export * from '@scrypted/server/src/media-helpers';\n","export interface RefreshPromise<T> {\n    promise: Promise<T>;\n    cacheDuration: number;\n}\n\nexport function singletonPromise<T>(rp: undefined | RefreshPromise<T>, method: () => Promise<T>, cacheDuration = 0) {\n    if (rp?.promise)\n        return rp;\n\n    const promise = method();\n    if (!rp) {\n        rp = {\n            promise,\n            cacheDuration,\n        }\n    }\n    else {\n        rp.promise = promise;\n    }\n    promise.finally(() => setTimeout(() => rp.promise = undefined, rp.cacheDuration));\n    return rp;\n}\n\nexport class TimeoutError<T> extends Error {\n    constructor(public promise: Promise<T>) {\n        super('Operation Timed Out');\n    }\n}\n\nexport function timeoutPromise<T>(timeout: number, promise: Promise<T>): Promise<T> {\n    return new Promise<T>((resolve, reject) => {\n        const t = setTimeout(() => reject(new TimeoutError(promise)), timeout);\n\n        promise\n            .then(v => {\n                clearTimeout(t);\n                resolve(v);\n            })\n            .catch(e => {\n                clearTimeout(t);\n                reject(e);\n            });\n    })\n}\n\nexport function timeoutFunction<T>(timeout: number, f: (isTimedOut: () => boolean) => Promise<T>): Promise<T> {\n    return new Promise<T>((resolve, reject) => {\n        let isTimedOut = false;\n        const promise = f(() => isTimedOut);\n\n        const t = setTimeout(() => {\n            isTimedOut = true;\n            reject(new TimeoutError(promise));\n        }, timeout);\n\n        promise\n            .then(v => {\n                clearTimeout(t);\n                resolve(v);\n            })\n            .catch(e => {\n                clearTimeout(t);\n                reject(e);\n            });\n    })\n}\n\nexport function createPromiseDebouncer<T>() {\n    let current: Promise<T>;\n\n    return (func: () => Promise<T>): Promise<T> => {\n        if (!current)\n            current = func().finally(() => current = undefined);\n        return current;\n    }\n}\n\nexport function createMapPromiseDebouncer<T>() {\n    const map = new Map<string, Promise<T>>();\n\n    return (key: any, func: () => Promise<T>): Promise<T> => {\n        const keyStr = JSON.stringify(key);\n        let value = map.get(keyStr);\n        if (!value) {\n            value = func().finally(() => map.delete(keyStr));\n            map.set(keyStr, value);\n        }\n        return value;\n    }\n}\n","import { Readable } from 'stream';\nimport { once } from 'events';\n\nexport async function read16BELengthLoop(readable: Readable, options: {\n  headerLength: number;\n  offset?: number;\n  // optionally skip a header, and pause loop parsing until calee resumes.\n  skipHeader?: (header: Buffer, resumeRead: () => void) => boolean;\n  callback: (header: Buffer, data: Buffer) => void;\n}) {\n  let error: Error;\n  const { skipHeader, callback } = options;\n  const offset = options.offset || 0;\n  const headerLength = options.headerLength || 2;\n\n  readable.on('error', e => error = e);\n\n  let header: Buffer;\n  let length: number;\n  let skipCount = 0;\n  let readCount = 0;\n  \n  const resumeRead = () => {\n    readCount++;\n    read();\n  }\n\n  const read = () => {\n    while (true) {\n      if (skipCount !== readCount)\n        return;\n      if (!header) {\n        header = readable.read(headerLength);\n        if (!header)\n          return;\n        if (skipHeader?.(header, resumeRead)) {\n          skipCount++;\n          header = undefined;\n          continue;\n        }\n        length = header.readUInt16BE(offset);\n      }\n      else {\n        const data = readable.read(length);\n        if (!data)\n          return;\n        callback(header, data);\n        header = undefined;\n      }\n    }\n  };\n\n  read();\n  readable.on('readable', read);\n\n  await once(readable, 'end');\n  throw new Error('stream ended');\n}\n\nexport class StreamEndError extends Error {\n  constructor() {\n    super()\n  }\n}\n\nexport async function readLength(readable: Readable, length: number): Promise<Buffer> {\n  if (readable.readableEnded || readable.destroyed)\n    throw new Error(\"stream ended\");\n\n  if (!length) {\n    return Buffer.alloc(0);\n  }\n\n  {\n    const ret = readable.read(length);\n    if (ret) {\n      return ret;\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    const r = () => {\n      const ret = readable.read(length);\n      if (ret) {\n        cleanup();\n        resolve(ret);\n        return;\n      }\n\n      if (readable.readableEnded || readable.destroyed)\n        reject(new Error(\"stream ended during read\"));\n    };\n\n    const e = () => {\n      cleanup();\n      reject(new StreamEndError())\n    };\n\n    const cleanup = () => {\n      readable.removeListener('readable', r);\n      readable.removeListener('end', e);\n    }\n\n    readable.on('readable', r);\n    readable.on('end', e);\n  });\n}\n\nconst CHARCODE_NEWLINE = '\\n'.charCodeAt(0);\n\nexport async function readUntil(readable: Readable, charCode: number) {\n  const data = [];\n  let count = 0;\n  while (true) {\n    const buffer = await readLength(readable, 1);\n    if (!buffer)\n      throw new Error(\"end of stream\");\n    if (buffer[0] === charCode)\n      break;\n    data[count++] = buffer[0];\n  }\n  return Buffer.from(data).toString();\n}\n\nexport async function readLine(readable: Readable) {\n  return readUntil(readable, CHARCODE_NEWLINE);\n}\n\nexport async function readString(readable: Readable | Promise<Readable>) {\n  let data = '';\n  readable = await readable;\n  readable.on('data', buffer => {\n    data += buffer.toString();\n  });\n  readable.resume();\n  await once(readable, 'end')\n  return data;\n}\n","import crypto, { randomBytes } from 'crypto';\nimport dgram from 'dgram';\nimport { once } from 'events';\nimport { BASIC } from 'http-auth-utils/dist/index';\nimport { parseHTTPHeadersQuotedKeyValueSet } from 'http-auth-utils/dist/utils';\nimport net from 'net';\nimport { Duplex, Readable, Writable } from 'stream';\nimport tls from 'tls';\nimport { Deferred } from './deferred';\nimport { closeQuiet, createBindUdp, createBindZero, listenZeroSingleClient } from './listen-cluster';\nimport { timeoutPromise } from './promise-utils';\nimport { readLength, readLine } from './read-stream';\nimport { MSection, parseSdp } from './sdp-utils';\nimport { sleep } from './sleep';\nimport { StreamChunk, StreamParser, StreamParserOptions } from './stream-parser';\nimport { URL } from 'url';\n\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm', 'nonce'];\n\ntype DigestWWWAuthenticateData = {\n    realm: string;\n    domain?: string;\n    nonce: string;\n    opaque?: string;\n    stale?: 'true' | 'false';\n    algorithm?: 'MD5' | 'MD5-sess' | 'token';\n    qop?: 'auth' | 'auth-int' | string;\n};\n\nexport const RTSP_FRAME_MAGIC = 36;\n\nexport interface Headers {\n    [header: string]: string\n}\n\nexport interface RtspStreamParser extends StreamParser {\n    sdp: Promise<string>;\n}\n\nexport async function readMessage(client: Readable): Promise<string[]> {\n    let currentHeaders: string[] = [];\n    while (true) {\n        let line = await readLine(client);\n        line = line.trim();\n        if (!line)\n            return currentHeaders;\n        currentHeaders.push(line);\n    }\n}\n\n\nexport async function readBody(client: Readable, response: Headers) {\n    const cl = parseInt(response['content-length']);\n    if (cl)\n        return readLength(client, cl)\n}\n\n\nexport function writeMessage(client: Writable, messageLine: string, body: Buffer, headers: Headers, console?: Console) {\n    let message = messageLine !== undefined ? `${messageLine}\\r\\n` : '';\n    if (body)\n        headers['Content-Length'] = body.length.toString();\n    for (const [key, value] of Object.entries(headers)) {\n        message += `${key}: ${value}\\r\\n`;\n    }\n    message += '\\r\\n';\n    client.write(message);\n    console?.log('rtsp outgoing message\\n', message);\n    console?.log();\n    if (body)\n        client.write(body);\n}\n\n// https://yumichan.net/video-processing/video-compression/introduction-to-h264-nal-unit/\n\nexport const H264_NAL_TYPE_RESERVED0 = 0;\nexport const H264_NAL_TYPE_RESERVED30 = 30;\nexport const H264_NAL_TYPE_RESERVED31 = 31;\n\nexport const H264_NAL_TYPE_IDR = 5;\nexport const H264_NAL_TYPE_SEI = 6;\nexport const H264_NAL_TYPE_SPS = 7;\nexport const H264_NAL_TYPE_PPS = 8;\n// aggregate NAL Unit\nexport const H264_NAL_TYPE_STAP_A = 24;\nexport const H264_NAL_TYPE_STAP_B = 25;\n// fragmented NAL Unit (need to match against first)\nexport const H264_NAL_TYPE_FU_A = 28;\nexport const H264_NAL_TYPE_FU_B = 29;\n\nexport const H264_NAL_TYPE_MTAP16 = 26;\nexport const H264_NAL_TYPE_MTAP32 = 27;\n\nexport function findH264NaluType(streamChunk: StreamChunk, naluType: number) {\n    if (streamChunk.type !== 'h264')\n        return;\n    return findH264NaluTypeInNalu(streamChunk.chunks[streamChunk.chunks.length - 1].subarray(12), naluType);\n}\n\nexport function findH264NaluTypeInNalu(nalu: Buffer, naluType: number) {\n    const checkNaluType = nalu[0] & 0x1f;\n    if (checkNaluType === H264_NAL_TYPE_STAP_A) {\n        let pos = 1;\n        while (pos < nalu.length) {\n            const naluLength = nalu.readUInt16BE(pos);\n            pos += 2;\n            const stapaType = nalu[pos] & 0x1f;\n            if (stapaType === naluType)\n                return nalu.subarray(pos, pos + naluLength);\n            pos += naluLength;\n        }\n    }\n    else if (checkNaluType === H264_NAL_TYPE_FU_A) {\n        const fuaType = nalu[1] & 0x1f;\n        const isFuStart = !!(nalu[1] & 0x80);\n\n        if (fuaType === naluType && isFuStart)\n            return nalu.subarray(1);\n    }\n    else if (checkNaluType === naluType) {\n        return nalu;\n    }\n    return;\n}\n\nexport function getNaluTypes(streamChunk: StreamChunk) {\n    if (streamChunk.type !== 'h264')\n        return new Set<number>();\n    return getNaluTypesInNalu(streamChunk.chunks[streamChunk.chunks.length - 1].subarray(12))\n}\n\nexport function getNaluFragmentInformation(nalu: Buffer) {\n    const naluType = nalu[0] & 0x1f;\n    const fua = naluType === H264_NAL_TYPE_FU_A;\n    return {\n        fua,\n        fuaStart: fua && !!(nalu[1] & 0x80),\n        fuaEnd: fua && !!(nalu[1] & 0x40),\n    }\n}\n\nexport function getNaluTypesInNalu(nalu: Buffer, fuaRequireStart = false, fuaRequireEnd = false) {\n    const ret = new Set<number>();\n    const naluType = nalu[0] & 0x1f;\n    if (naluType === H264_NAL_TYPE_STAP_A) {\n        ret.add(H264_NAL_TYPE_STAP_A);\n        let pos = 1;\n        while (pos < nalu.length) {\n            const naluLength = nalu.readUInt16BE(pos);\n            pos += 2;\n            const stapaType = nalu[pos] & 0x1f;\n            ret.add(stapaType);\n            pos += naluLength;\n        }\n    }\n    else if (naluType === H264_NAL_TYPE_FU_A) {\n        ret.add(H264_NAL_TYPE_FU_A);\n        const fuaType = nalu[1] & 0x1f;\n        if (fuaRequireStart) {\n            const isFuStart = !!(nalu[1] & 0x80);\n            if (isFuStart)\n                ret.add(fuaType);\n        }\n        else if (fuaRequireEnd) {\n            const isFuEnd = !!(nalu[1] & 0x40);\n            if (isFuEnd)\n                ret.add(fuaType);\n        }\n        else {\n            ret.add(fuaType);\n        }\n    }\n    else {\n        ret.add(naluType);\n    }\n\n    return ret;\n}\n\nexport function createRtspParser(options?: StreamParserOptions): RtspStreamParser {\n    let resolve: any;\n\n    return {\n        container: 'rtsp',\n        tcpProtocol: 'rtsp://127.0.0.1/' + randomBytes(8).toString('hex'),\n        inputArguments: [\n            '-rtsp_transport',\n            'tcp',\n        ],\n        outputArguments: [\n            '-rtsp_transport',\n            'tcp',\n            ...(options?.vcodec || []),\n            ...(options?.acodec || []),\n            '-f', 'rtsp',\n        ],\n        findSyncFrame(streamChunks: StreamChunk[]) {\n            let foundIndex: number;\n            let nonVideo: {\n                [codec: string]: StreamChunk,\n            } = {};\n\n            const createSyncFrame = () => {\n                const ret = streamChunks.slice(foundIndex);\n                // for (const nv of Object.values(nonVideo)) {\n                //     ret.unshift(nv);\n                // }\n                return ret;\n            }\n\n            for (let prebufferIndex = 0; prebufferIndex < streamChunks.length; prebufferIndex++) {\n                const streamChunk = streamChunks[prebufferIndex];\n                if (streamChunk.type !== 'h264') {\n                    nonVideo[streamChunk.type] = streamChunk;\n                    continue;\n                }\n\n                if (findH264NaluType(streamChunk, H264_NAL_TYPE_SPS))\n                    foundIndex = prebufferIndex;\n            }\n\n            if (foundIndex !== undefined)\n                return createSyncFrame();\n\n            nonVideo = {};\n            // some streams don't contain codec info, so find an idr frame instead.\n            for (let prebufferIndex = 0; prebufferIndex < streamChunks.length; prebufferIndex++) {\n                const streamChunk = streamChunks[prebufferIndex];\n                if (streamChunk.type !== 'h264') {\n                    nonVideo[streamChunk.type] = streamChunk;\n                    continue;\n                }\n                if (findH264NaluType(streamChunk, H264_NAL_TYPE_IDR))\n                    foundIndex = prebufferIndex;\n            }\n\n            if (foundIndex !== undefined)\n                return createSyncFrame();\n\n            // oh well!\n        },\n        sdp: new Promise<string>(r => resolve = r),\n        async *parse(duplex, width, height) {\n            const server = new RtspServer(duplex);\n            await server.handleSetup();\n            resolve(server.sdp);\n            for await (const { type, rtcp, header, packet } of server.handleRecord()) {\n                yield {\n                    chunks: [header, packet],\n                    type: `${rtcp ? 'rtcp-' : ''}${type}`,\n                    width,\n                    height,\n                }\n            }\n        }\n    }\n}\n\nexport function parseHeaders(headers: string[]): Headers {\n    const ret: any = {};\n    for (const header of headers.slice(1)) {\n        const index = header.indexOf(':');\n        let value = '';\n        if (index !== -1)\n            value = header.substring(index + 1).trim();\n        const key = header.substring(0, index).toLowerCase();\n        ret[key] = value;\n    }\n    return ret;\n}\n\nexport function getFirstAuthenticateHeader(headers: string[]): string {\n    for (const header of headers.slice(1)) {\n        const index = header.indexOf(':');\n        let value = '';\n        if (index !== -1)\n            value = header.substring(index + 1).trim();\n        const key = header.substring(0, index).toLowerCase();\n        if (key === 'www-authenticate')\n            return value;\n    }\n}\n\nexport function parseSemicolonDelimited(value: string) {\n    const dict: { [key: string]: string } = {};\n    for (const part of value.split(';')) {\n        const [key, value] = part.split('=', 2);\n        dict[key] = value;\n    }\n\n    return dict;\n}\n\nexport interface RtspStatus {\n    line: string,\n    code: number,\n    version: string,\n    reason: string,\n}\n\nexport interface RtspServerResponse {\n    headers: Headers;\n    body: Buffer;\n    status: RtspStatus;\n}\n\nexport class RtspStatusError extends Error {\n    constructor(public status: RtspStatus) {\n        super(`RTSP Error: ${status.line}`);\n    }\n}\n\nexport class RtspBase {\n    client: net.Socket;\n    console?: Console;\n\n    constructor() {\n    }\n\n    write(messageLine: string, headers: Headers, body?: Buffer) {\n        writeMessage(this.client, messageLine, body, headers, this.console);\n    }\n\n    async readMessage(): Promise<string[]> {\n        const message = await readMessage(this.client);\n        this.console?.log('rtsp incoming message\\n', message.join('\\n'));\n        this.console?.log();\n        return message;\n    }\n}\n\nconst quote = (str: string): string => `\"${str.replace(/\"/g, '\\\\\"')}\"`;\n\nexport interface RtspClientSetupOptions {\n    type: 'tcp' | 'udp';\n    path?: string;\n    onRtp: (rtspHeader: Buffer, rtp: Buffer) => void;\n}\n\nexport interface RtspClientTcpSetupOptions extends RtspClientSetupOptions {\n    type: 'tcp';\n    port: number;\n}\n\nexport interface RtspClientUdpSetupOptions extends RtspClientSetupOptions {\n    type: 'udp';\n    dgram?: dgram.Socket;\n}\n\n// probably only works with scrypted rtsp server.\nexport class RtspClient extends RtspBase {\n    cseq = 0;\n    session: string;\n    wwwAuthenticate: string;\n    requestTimeout: number;\n    needKeepAlive = false;\n    setupOptions = new Map<number, RtspClientTcpSetupOptions>();\n    issuedTeardown = false;\n    hasGetParameter = true;\n\n    constructor(public url: string) {\n        super();\n        const u = new URL(url);\n        const port = parseInt(u.port) || 554;\n        if (url.startsWith('rtsps')) {\n            this.client = tls.connect({\n                rejectUnauthorized: false,\n                port,\n                host: u.hostname,\n            })\n        }\n        else {\n            this.client = net.connect(port, u.hostname);\n        }\n        this.client.on('error', e => {\n            this.console?.log('client error', e);\n        });\n    }\n\n    async safeTeardown() {\n        // issue a teardown to upstream to close gracefully\n        if (this.issuedTeardown)\n            return;\n        this.issuedTeardown = true;\n        try {\n            this.writeTeardown();\n            await sleep(500);\n        }\n        catch (e) {\n        }\n        finally {\n            // will trigger after teardown returns\n            this.client.destroy();\n        }\n    }\n\n    writeRequest(method: string, headers?: Headers, path?: string, body?: Buffer) {\n        headers = headers || {};\n\n        let fullUrl = this.url;\n        if (path) {\n            // a=control may be a full or \"relative\" url.\n            if (path.includes('rtsp://') || path.includes('rtsps://')) {\n                fullUrl = path;\n            }\n            else {\n                // strangely, relative RTSP urls do not behave like expected from an HTTP-ish server.\n                // ffmpeg will happily suffix path segments after query strings:\n                // SETUP rtsp://localhost:5554/cam/realmonitor?channel=1&subtype=0/trackID=0 RTSP/1.0\n                fullUrl += (fullUrl.endsWith('/') ? '' : '/') + path;\n            }\n        }\n\n        const sanitized = new URL(fullUrl);\n        sanitized.username = '';\n        sanitized.password = '';\n\n        const line = `${method} ${sanitized} RTSP/1.0`;\n        const cseq = this.cseq++;\n        headers['CSeq'] = cseq.toString();\n        headers['User-Agent'] = 'Scrypted';\n\n        if (this.wwwAuthenticate)\n            headers['Authorization'] = this.createAuthorizationHeader(method, new URL(fullUrl));\n\n        if (this.session)\n            headers['Session'] = this.session;\n\n        this.write(line, headers, body);\n    }\n\n    async handleDataPayload(header: Buffer) {\n        // todo: fix this, because calling teardown outside of the read loop causes this.\n        if (header[0] !== RTSP_FRAME_MAGIC)\n            throw new Error('RTSP Client received invalid frame magic. This may be a bug in your camera firmware. If this error persists, switch your RTSP Parser to FFmpeg or Scrypted (UDP): ' + header.toString());\n\n        const channel = header.readUInt8(1);\n        const length = header.readUInt16BE(2);\n        const data = await readLength(this.client, length);\n\n        const options = this.setupOptions.get(channel);\n        options?.onRtp?.(header, data);\n    }\n\n    async readDataPayload() {\n        const header = await readLength(this.client, 4);\n        return this.handleDataPayload(header);\n    }\n\n    createBadHeader(header: Buffer) {\n        return new Error('RTSP Client received invalid frame magic. This may be a bug in your camera firmware. If this error persists, switch your RTSP Parser to FFmpeg or Scrypted (UDP): ' + header.toString());\n    }\n\n    async readLoopLegacy() {\n        try {\n            while (true) {\n                if (this.needKeepAlive) {\n                    this.needKeepAlive = false;\n                    if (this.hasGetParameter)\n                        await this.getParameter();\n                    else\n                        await this.options();\n                }\n                await this.readDataPayload();\n            }\n        }\n        catch (e) {\n            this.client.destroy(e);\n            throw e;\n        }\n    }\n\n    async readLoop() {\n        const deferred = new Deferred<void>();\n\n        let header: Buffer;\n        let channel: number;\n        let length: number;\n\n        const read = async () => {\n            if (this.needKeepAlive) {\n                this.needKeepAlive = false;\n                if (this.hasGetParameter)\n                    this.writeGetParameter();\n                else\n                    this.writeOptions();\n            }\n\n            try {\n                while (true) {\n                    // get header if needed\n                    if (!header) {\n                        header = this.client.read(4);\n\n                        if (!header)\n                            return;\n\n                        // validate header once.\n                        if (header[0] !== RTSP_FRAME_MAGIC) {\n                            if (header.toString() !== 'RTSP')\n                                throw this.createBadHeader(header);\n\n                            this.client.unshift(header);\n                            header = undefined;\n\n                            // remove the listener to operate in pull mode.\n                            this.client.removeListener('readable', read);\n\n                            // do what with this?\n                            const message = await super.readMessage();\n                            const body = await this.readBody(parseHeaders(message));\n\n                            // readd the listener to operate in streaming mode.\n                            this.client.on('readable', read);\n\n                            continue;\n                        }\n\n                        channel = header.readUInt8(1);\n                        length = header.readUInt16BE(2);\n                    }\n\n                    const data = this.client.read(length);\n                    if (!data)\n                        return;\n\n                    const h = header;\n                    header = undefined;\n                    const options = this.setupOptions.get(channel);\n                    options?.onRtp?.(h, data);\n                }\n            }\n            catch (e) {\n                deferred.reject(e);\n                this.client.destroy();\n            }\n        };\n\n        read();\n        this.client.on('readable', read);\n\n        await Promise.all([once(this.client, 'end')]);\n    }\n\n    // rtsp over tcp will actually interleave RTSP request/responses\n    // within the RTSP data stream. The only way to tell if it's a request/response\n    // is to see if the header + data starts with RTSP/1.0 message line.\n    // Or RTSP, if looking at only the header bytes. Then grab the response out.\n    async readMessage(): Promise<string[]> {\n        while (true) {\n            const header = await readLength(this.client, 4);\n            if (header[0] !== RTSP_FRAME_MAGIC) {\n                if (header.toString() === 'RTSP') {\n                    this.client.unshift(header);\n                    const message = await super.readMessage();\n                    return message;\n                }\n                throw this.createBadHeader(header);\n            }\n\n            await this.handleDataPayload(header);\n        }\n    }\n\n    createAuthorizationHeader(method: string, url: URL) {\n        if (!this.wwwAuthenticate)\n            throw new Error('no WWW-Authenticate found');\n\n        if (this.wwwAuthenticate.includes('Basic')) {\n            const hash = BASIC.computeHash(url);\n            return `Basic ${hash}`;\n        }\n\n        // hikvision sends out of spec 'random' name and value parameter,\n        // which causes the digest auth lib to fail. so, need to parse the header\n        // manually with a relax set of authorized parameters.\n        // https://github.com/koush/scrypted/issues/344#issuecomment-1223627956\n        // https://github.com/nfroidure/http-auth-utils/blob/7532d21a419ad098d1240c9e1b55855020df5d7f/src/mechanisms/digest.ts#L97\n        // const wwwAuth = DIGEST.parseWWWAuthenticateRest(this.wwwAuthenticate);\n        const wwwAuth = parseHTTPHeadersQuotedKeyValueSet(\n            this.wwwAuthenticate,\n            // the parser will call indexOf to see if the key is authorized. monkey patch this call.\n            // https://github.com/nfroidure/http-auth-utils/blob/17186d3eefb86535916d044c7f59a340bc765603/src/utils.ts#L43\n            {\n                indexOf: () => 0,\n            } as any,\n            REQUIRED_WWW_AUTHENTICATE_KEYS,\n        ) as DigestWWWAuthenticateData;\n\n        const authedUrl = new URL(this.url);\n        const username = decodeURIComponent(authedUrl.username);\n        const password = decodeURIComponent(authedUrl.password);\n\n        const strippedUrl = new URL(url.toString());\n        strippedUrl.username = '';\n        strippedUrl.password = '';\n\n        const ha1 = crypto.createHash('md5').update(`${username}:${wwwAuth.realm}:${password}`).digest('hex');\n        const ha2 = crypto.createHash('md5').update(`${method}:${strippedUrl}`).digest('hex');\n        const hash = crypto.createHash('md5').update(`${ha1}:${wwwAuth.nonce}:${ha2}`).digest('hex');\n\n        const params = {\n            username,\n            realm: wwwAuth.realm,\n            nonce: wwwAuth.nonce,\n            uri: strippedUrl.toString(),\n            algorithm: 'MD5',\n            response: hash,\n        };\n\n        const paramsString = Object.entries(params).map(([key, value]) => `${key}=${value && quote(value)}`).join(', ');\n        return `Digest ${paramsString}`;\n    }\n\n    async readBody(response: Headers) {\n        return readBody(this.client, response);\n    }\n\n    async request(method: string, headers?: Headers, path?: string, body?: Buffer, authenticating?: boolean): Promise<RtspServerResponse> {\n        this.writeRequest(method, headers, path, body);\n\n        const message = this.requestTimeout ? await timeoutPromise(this.requestTimeout, this.readMessage()) : await this.readMessage();\n        const statusLine = message[0];\n        const [version, codeString, reason] = statusLine.split(' ', 3);\n        const code = parseInt(codeString);\n        const response = parseHeaders(message);\n\n        const status = {\n            line: statusLine,\n            code,\n            version,\n            reason,\n        };\n\n        if (code !== 200 && !response['www-authenticate'])\n            throw new RtspStatusError(status);\n\n        // it seems that the first www-authenticate header should be used, as latter ones that are\n        // offered are not actually valid? weird issue seen on tp-link that offers both DIGEST and BASIC.\n        const wwwAuthenticate = getFirstAuthenticateHeader(message) || response['www-authenticate']\n        if (wwwAuthenticate) {\n            if (authenticating)\n                throw new Error('auth failed');\n\n            this.wwwAuthenticate = wwwAuthenticate;\n\n            return this.request(method, headers, path, body, true);\n        }\n        return {\n            headers: response,\n            body: await this.readBody(response),\n            status,\n        }\n    }\n\n    async options() {\n        const headers: Headers = {};\n        const ret = await this.request('OPTIONS', headers);\n        const publicHeader = ret.headers['public'];\n        if (publicHeader)\n            this.hasGetParameter = publicHeader.toLowerCase().includes('get_parameter');\n        return ret;\n    }\n\n    writeOptions() {\n        return this.writeRequest('OPTIONS');\n    }\n\n    async getParameter() {\n        return this.request('GET_PARAMETER');\n    }\n\n    writeGetParameter() {\n        return this.writeRequest('GET_PARAMETER');\n    }\n\n    async describe(headers?: Headers) {\n        return this.request('DESCRIBE', {\n            ...(headers || {}),\n            Accept: 'application/sdp',\n        });\n    }\n\n    async setup(options: RtspClientTcpSetupOptions | RtspClientUdpSetupOptions) {\n        const protocol = options.type === 'udp' ? '' : '/TCP';\n        const client = options.type === 'udp' ? 'client_port' : 'interleaved';\n        let port: number;\n        if (options.type === 'tcp') {\n            port = options.port;\n        }\n        else {\n            if (!options.dgram) {\n                const udp = await createBindZero();\n                options.dgram = udp.server;\n                this.client.on('close', () => closeQuiet(udp.server));\n            }\n            port = options.dgram.address().port;\n            options.dgram.on('message', data => options.onRtp(undefined, data));\n        }\n        const headers: any = {\n            Transport: `RTP/AVP${protocol};unicast;${client}=${port}-${port + 1}`,\n        };\n        const response = await this.request('SETUP', headers, options.path);\n        let interleaved: {\n            begin: number;\n            end: number;\n        };\n        if (response.headers.session) {\n            const sessionDict = parseSemicolonDelimited(response.headers.session);\n            let timeout = parseInt(sessionDict['timeout']);\n            if (timeout) {\n                // if a timeout is requested, need to keep the session alive with periodic refresh.\n                // one suggestion is calling OPTIONS, but apparently GET_PARAMETER is more reliable.\n                // https://stackoverflow.com/a/39818378\n                let interval = (timeout - 5) * 1000;\n                let timer = setInterval(() => this.needKeepAlive = true, interval);\n                this.client.once('close', () => clearInterval(timer));\n            }\n\n            this.session = response.headers.session.split(';')[0];\n        }\n        if (response.headers.transport) {\n            const match = response.headers.transport.match(/.*?interleaved=([0-9]+)-([0-9]+)/);\n            if (match) {\n                const [_, begin, end] = match;\n                if (begin && end) {\n                    interleaved = {\n                        begin: parseInt(begin),\n                        end: parseInt(end),\n                    };\n                }\n            }\n        }\n        if (options.type === 'tcp')\n            this.setupOptions.set(interleaved ? interleaved.begin : port, options);\n        return Object.assign({ interleaved, options }, response);\n    }\n\n    async play(headers: Headers = {}, start = '0.000') {\n        headers['Range'] = `npt=${start}-`;\n        return this.request('PLAY', headers);\n    }\n\n    writePlay(start: string = '0.000') {\n        const headers: any = {\n            Range: `npt=${start}-`,\n        };\n        return this.writeRequest('PLAY', headers);\n    }\n\n    writeRtpPayload(header: Buffer, rtp: Buffer) {\n        this.client.write(header);\n        return this.client.write(Buffer.from(rtp));\n    }\n\n    send(rtp: Buffer, channel: number) {\n        const header = Buffer.alloc(4);\n        header.writeUInt8(RTSP_FRAME_MAGIC, 0);\n        header.writeUInt8(channel, 1);\n        header.writeUInt16BE(rtp.length, 2);\n\n        return this.writeRtpPayload(header, rtp);\n    }\n\n    async pause() {\n        return this.request('PAUSE');\n    }\n\n    async teardown() {\n        try {\n            // todo: fix this, because calling teardown outside of the read loop causes this.\n            return await this.request('TEARDOWN');\n        }\n        finally {\n            this.client.destroy();\n        }\n    }\n\n    writeTeardown() {\n        this.writeRequest('TEARDOWN');\n    }\n}\n\nexport interface RtspTrack {\n    protocol: 'tcp' | 'udp';\n    destination: number;\n    codec: string;\n    control: string;\n    rtp?: dgram.Socket;\n    rtcp?: dgram.Socket;\n}\n\nexport class RtspServer {\n    session: string;\n    console: Console;\n    setupTracks: {\n        [trackId: string]: RtspTrack;\n    } = {};\n\n    constructor(public client: Duplex, public sdp?: string, public udp?: boolean, public checkRequest?: (method: string, url: string, headers: Headers, rawMessage: string[]) => Promise<boolean>) {\n        this.session = randomBytes(4).toString('hex');\n        if (sdp)\n            sdp = sdp.trim();\n\n        if (client instanceof net.Socket)\n            client.setNoDelay(true);\n    }\n\n    async handleSetup(methods = ['play', 'record', 'teardown']) {\n        let currentHeaders: string[] = [];\n        while (true) {\n            let line = await readLine(this.client);\n            line = line.trim();\n            if (!line) {\n                const method = await this.headers(currentHeaders);\n                if (methods.includes(method))\n                    return method;\n                currentHeaders = [];\n                continue;\n            }\n            currentHeaders.push(line);\n        }\n    }\n\n    async handlePlayback() {\n        return this.handleSetup();\n    }\n\n    async handleTeardown() {\n        return this.handleSetup();\n    }\n\n    async *handleRecord(): AsyncGenerator<{\n        type: string,\n        rtcp: boolean,\n        header: Buffer,\n        packet: Buffer,\n    }> {\n        while (true) {\n            const header = await readLength(this.client, 4);\n            // can this even happen? since the RTSP request method isn't a fixed\n            // value like the \"RTSP\" in the RTSP response, I don't think so?\n            if (header[0] !== RTSP_FRAME_MAGIC)\n                throw new Error('RTSP Server expected frame magic but received: ' + header.toString());\n            const length = header.readUInt16BE(2);\n            const packet = await readLength(this.client, length);\n            const id = header.readUInt8(1);\n            const destination = id - (id % 2);\n            const track = Object.values(this.setupTracks).find(track => track.destination === destination);\n            if (!track)\n                throw new Error('RSTP Server received unknown channel: ' + id);\n\n            yield {\n                type: track.codec,\n                rtcp: id % 2 === 1,\n                header,\n                packet,\n            }\n        }\n    }\n\n    writeRtpPayload(header: Buffer, rtp: Buffer) {\n        this.client.write(header);\n        return this.client.write(Buffer.from(rtp));\n    }\n\n    send(rtp: Buffer, channel: number) {\n        const header = Buffer.alloc(4);\n        header.writeUInt8(36, 0);\n        header.writeUInt8(channel, 1);\n        header.writeUInt16BE(rtp.length, 2);\n\n        return this.writeRtpPayload(header, rtp);\n    }\n\n    sendUdp(udp: dgram.Socket, port: number, packet: Buffer) {\n        // todo: support non local host?\n        udp.send(packet, port, '127.0.0.1');\n    }\n\n    sendTrack(trackId: string, packet: Buffer, rtcp: boolean) {\n        const track = this.setupTracks[trackId];\n        if (!track) {\n            this.console?.warn('RTSP Server track not found:', trackId);\n            return true;\n        }\n\n        if (track.protocol === 'udp') {\n            if (!this.udp)\n                this.console?.warn('RTSP Server UDP socket not available.');\n            else\n                this.sendUdp(rtcp ? track.rtcp : track.rtp, track.destination, packet);\n            return true;\n        }\n\n        return this.send(packet, rtcp ? track.destination + 1 : track.destination);\n    }\n\n    availableOptions = ['DESCRIBE', 'OPTIONS', 'PAUSE', 'PLAY', 'SETUP', 'TEARDOWN', 'ANNOUNCE', 'RECORD', 'GET_PARAMETER'];\n    options(url: string, requestHeaders: Headers) {\n        const headers: Headers = {};\n        headers['Public'] = this.availableOptions.join(', ');\n\n        this.respond(200, 'OK', requestHeaders, headers);\n    }\n\n    async get_parameter(url: string, requestHeaders: Headers) {\n        const headers: Headers = {};\n        this.respond(200, 'OK', requestHeaders, headers);\n    }\n\n    describe(url: string, requestHeaders: Headers) {\n        const headers: Headers = {};\n        headers['Content-Base'] = url;\n        headers['Content-Type'] = 'application/sdp';\n        this.respond(200, 'OK', requestHeaders, headers, Buffer.from(this.sdp))\n    }\n\n    setupInterleaved(msection: MSection, low: number, high: number) {\n        this.setupTracks[msection.control] = {\n            control: msection.control,\n            protocol: 'tcp',\n            destination: low,\n            codec: msection.codec,\n        }\n    }\n\n\n    resolveInterleaved?: (msection: MSection) => [number, number];\n\n    // todo: use the sdp itself to determine the audio/video track ids so\n    // rewriting is not necessary.\n    async setup(url: string, requestHeaders: Headers) {\n        const headers: Headers = {};\n        let transport = requestHeaders['transport'];\n        headers['Session'] = this.session;\n        const parsedSdp = parseSdp(this.sdp);\n        const msection = parsedSdp.msections.find(msection => url.endsWith(msection.control));\n        if (!msection) {\n            this.respond(404, 'Not Found', requestHeaders, headers);\n            return;\n        }\n\n        if (transport.includes('TCP')) {\n            if (this.resolveInterleaved) {\n                const [low, high] = this.resolveInterleaved(msection);\n                this.setupInterleaved(msection, low, high);\n                transport = `RTP/AVP/TCP;unicast;interleaved=${low}-${high}`;\n            }\n            else {\n                const match = transport.match(/.*?interleaved=([0-9]+)-([0-9]+)/);\n                if (match) {\n                    const low = parseInt(match[1]);\n                    const high = parseInt(match[2]);\n                    this.setupInterleaved(msection, low, high);\n                }\n            }\n        }\n        else {\n            if (!this.udp) {\n                this.respond(461, 'Unsupported Transport', requestHeaders, {});\n                return;\n            }\n            const match = transport.match(/.*?client_port=([0-9]+)-([0-9]+)/);\n            const [_, rtp, rtcp] = match;\n\n            const rtpServer = await createBindZero();\n            const rtcpServer = await createBindUdp(rtpServer.port + 1);\n            this.client.on('close', () => closeQuiet(rtpServer.server));\n            this.client.on('close', () => closeQuiet(rtcpServer.server));\n            this.setupTracks[msection.control] = {\n                control: msection.control,\n                protocol: 'udp',\n                destination: parseInt(rtp),\n                codec: msection.codec,\n                rtp: rtpServer.server,\n                rtcp: rtcpServer.server,\n            }\n            transport = transport.replace('RTP/AVP/UDP', 'RTP/AVP').replace('RTP/AVP', 'RTP/AVP/UDP');\n            transport += `;server_port=${rtpServer.port}-${rtcpServer.port}`;\n        }\n        headers['Transport'] = transport;\n        this.respond(200, 'OK', requestHeaders, headers)\n    }\n\n    play(url: string, requestHeaders: Headers) {\n        const headers: Headers = {};\n        const rtpInfos = Object.values(this.setupTracks).map(track => `url=${url}/${track.control}`);\n        // seq/rtptime was causing issues with gstreamer. commented out.\n        const rtpInfo = rtpInfos.join(','); // + ';seq=0;rtptime=0';\n        headers['RTP-Info'] = rtpInfo;\n        headers['Range'] = 'npt=now-';\n        headers['Session'] = this.session;\n        this.respond(200, 'OK', requestHeaders, headers);\n    }\n\n    async announce(url: string, requestHeaders: Headers) {\n        const contentLength = parseInt(requestHeaders['content-length']);\n        const sdpBuffer = await readLength(this.client, contentLength);\n        this.sdp = sdpBuffer.toString();\n        const headers: Headers = {};\n        headers['Session'] = this.session;\n\n        this.respond(200, 'OK', requestHeaders, headers);\n    }\n\n    async record(url: string, requestHeaders: Headers) {\n        const headers: Headers = {};\n        headers['Session'] = this.session;\n        this.respond(200, 'OK', requestHeaders, headers);\n    }\n\n    async teardown(url: string, requestHeaders: Headers) {\n        const headers: Headers = {};\n        headers['Session'] = this.session;\n        this.respond(200, 'OK', requestHeaders, headers);\n        this.client.destroy();\n    }\n\n    async headers(headers: string[]) {\n        this.console?.log('request headers', headers.join('\\n'));\n\n        let [method, url] = headers[0].split(' ', 2);\n        method = method.toLowerCase();\n        const requestHeaders = parseHeaders(headers);\n        if (this.checkRequest) {\n            let allow: boolean;\n            try {\n                allow = await this.checkRequest(method, url, requestHeaders, headers)\n            }\n            catch (e) {\n                this.console?.error('error checking request', e);\n            }\n            if (!allow) {\n                this.respond(400, 'Bad Request', requestHeaders, {});\n                this.client.destroy();\n                throw new Error('check request failed');\n            }\n        }\n\n        const thisAny = this as any;\n        if (!thisAny[method] || !this.availableOptions.includes(method.toUpperCase())) {\n            this.respond(400, 'Bad Request', requestHeaders, {});\n            return;\n        }\n\n        await thisAny[method](url, requestHeaders);\n        return method;\n    }\n\n    respond(code: number, message: string, requestHeaders: Headers, headers: Headers, buffer?: Buffer) {\n        let response = `RTSP/1.0 ${code} ${message}\\r\\n`;\n        if (requestHeaders['cseq'])\n            headers['CSeq'] = requestHeaders['cseq'];\n        if (buffer)\n            headers['Content-Length'] = buffer.length.toString();\n        for (const [key, value] of Object.entries(headers)) {\n            response += `${key}: ${value}\\r\\n`;\n        }\n        this.console?.log('response headers', response);\n        response += '\\r\\n';\n        this.client.write(response);\n        if (buffer) {\n            this.client.write(buffer);\n            this.console?.log('response body', buffer.toString());\n        }\n    }\n\n    destroy() {\n        this.client.destroy();\n        for (const track of Object.values(this.setupTracks)) {\n            closeQuiet(track.rtp);\n            closeQuiet(track.rtcp);\n        }\n    }\n}\n\nexport async function listenSingleRtspClient<T extends RtspServer>(options?: {\n    hostname?: string,\n    pathToken?: string,\n    createServer?(duplex: Duplex): T,\n}) {\n    const pathToken = options?.pathToken || crypto.randomBytes(8).toString('hex');\n    let { url, clientPromise, server } = await listenZeroSingleClient(options?.hostname);\n\n    const rtspServerPath = '/' + pathToken;\n    url = url.replace('tcp:', 'rtsp:') + rtspServerPath;\n\n    const rtspServerPromise = clientPromise.then(client => {\n        const createServer = options?.createServer || (duplex => new RtspServer(duplex));\n\n        const rtspServer = createServer(client);\n        rtspServer.checkRequest = async (method, url, headers, message) => {\n            rtspServer.checkRequest = undefined;\n            const u = new URL(url);\n            return u.pathname === rtspServerPath;\n        };\n        return rtspServer as T;\n    });\n\n    return {\n        url,\n        rtspServerPromise,\n        server,\n    }\n}\n","// todo: move this to ring.\nexport function replacePorts(sdp: string, audioPort: number, videoPort: number) {\n    let outputSdp = sdp\n        .replace(/c=IN .*/, `c=IN IP4 127.0.0.1`)\n        .replace(/m=audio \\d+/, `m=audio ${audioPort}`)\n        .replace(/m=video \\d+/, `m=video ${videoPort}`);\n    return outputSdp;\n}\n\nexport function replaceSectionPort(sdp: string, section: string, port: number) {\n    const regex = new RegExp(`m=${section} \\\\d+`)\n    let outputSdp = sdp\n        .replace(/c=IN .*/, `c=IN IP4 127.0.0.1`)\n        .replace(regex, `m=${section} ${port}`);\n    return outputSdp;\n}\n\nexport function addTrackControls(sdp: string) {\n    let lines = sdp.split('\\n').map(line => line.trim());\n    lines = lines.filter(line => !line.includes('a=control:'));\n    let trackCount = 0;\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i];\n        if (!line.startsWith('m='))\n            continue;\n        lines.splice(i + 1, 0, 'a=control:trackID=' + trackCount);\n        trackCount++;\n    }\n    return lines.join('\\r\\n')\n}\n\n// todo: move this to webrtc\n// this is an sdp corresponding to what is requested from webrtc.\n// h264 baseline and opus are required codecs that all webrtc implementations must provide.\nexport function createSdpInput(audioPort: number, videoPort: number, sdp: string) {\n    // replace all IPs\n    let outputSdp = sdp\n        .replace(/c=IN .*/, `c=IN IP4 127.0.0.1`)\n        .replace(/m=audio \\d+/, `m=audio ${audioPort}`)\n        .replace(/m=video \\d+/, `m=video ${videoPort}`);\n\n    // filter all ice and rtcp mux info\n    let lines = outputSdp.split('\\n').map(line => line.trim());\n    lines = lines\n        .filter(line => !line.includes('a=rtcp-mux'))\n        .filter(line => !line.includes('a=candidate'))\n        .filter(line => !line.includes('a=ice'));\n\n    outputSdp = lines.join('\\r\\n');\n\n    outputSdp = addTrackControls(outputSdp);\n\n    // only include the m sections.\n    outputSdp = outputSdp.split('m=')\n        .slice(1)\n        .map(line => 'm=' + line)\n        .join('');\n    return outputSdp;\n}\n\n// todo: move this to webrtc\nexport function findFmtp(sdp: string, codec: string) {\n    let lines = sdp.split('\\n').map(line => line.trim());\n\n    const re = new RegExp(`a=rtpmap:(\\\\d+) ${codec}`);\n    const rtpmaps = lines.map(line => line.match(re)).filter(match => !!match);\n    return rtpmaps.map(match => {\n        const payloadType = parseInt(match[1]);\n        const fmtpPrefix = `a=fmtp:${payloadType} `;\n        const fmtp = lines.find(line => line.startsWith(fmtpPrefix))?.substring(fmtpPrefix.length);\n        return {\n            payloadType,\n            fmtp,\n        }\n    })\n}\n\nfunction getSections(sdp: string) {\n    const sections = ('\\n' + sdp).split('\\nm=');\n    return sections;\n}\n\nexport function findTrackByType(sdp: string, type: string, directions: TrackDirection[] = ['recvonly', 'sendrecv']) {\n    const sections = getSections(sdp).filter(track => track.startsWith(type));\n\n    for (const section of sections) {\n        const returnTrack = () => {\n            const lines = section.split('\\n').map(line => line.trim());\n            const controlString = 'a=control:';\n            const control = lines.find(line => line.startsWith(controlString));\n            return {\n                section: 'm=' + section,\n                trackId: control.substring(controlString.length),\n            };\n        }\n\n        for (const dir of directions) {\n            if (section.includes(`a=${dir}`)) {\n                return returnTrack();\n            }\n        }\n\n        // some sdp do not advertise a media flow direction. i think recvonly is the default?\n        if ((directions.includes('recvonly'))\n            && !section.includes('sendonly')\n            && !section.includes('inactive')) {\n            return returnTrack();\n        }\n    }\n}\n\ntype TrackDirection = 'sendonly' | 'sendrecv' | 'recvonly' | 'inactive';\n\nexport function findTracksByType(sdp: string, directions: TrackDirection[] = ['recvonly', 'sendrecv']) {\n    return {\n        audio: findTrackByType(sdp, 'audio', directions)?.trackId,\n        video: findTrackByType(sdp, 'video', directions)?.trackId,\n    };\n}\n\nexport function parseMLinePayloadTypes(mline: string) {\n    const payloadTypes: number[] = [];\n    for (const pt of mline.split(' ').slice(3) || []) {\n        payloadTypes.push(parseInt(pt));\n    }\n    return payloadTypes;\n}\n\nexport function parseMLine(mline: string) {\n    // 'm=audio 0 RTP/AVP 96'\n    const split = mline.split(' ');\n    const type = split[0].substring(2);\n    return {\n        type,\n        port: parseInt(split[1]),\n        protocol: split[2],\n        payloadTypes: parseMLinePayloadTypes(mline),\n    }\n}\n\nconst afmtp = 'a=fmtp';\nexport function parseFmtp(msection: string[]) {\n    return msection.filter(line => line.startsWith(afmtp))\n        .map(fmtpLine => {\n            const firstSpace = fmtpLine.indexOf(' ');\n            if (firstSpace === -1)\n                return;\n            const fmtp = fmtpLine.substring(0, firstSpace);\n            const paramLine = fmtpLine.substring(firstSpace + 1);\n            const payloadType = parseInt(fmtp.split(':')[1]);\n\n            if (!fmtp || !paramLine || Number.isNaN( payloadType )) {\n                return;\n            }\n\n            const parameters: {\n                [key: string]: string;\n            } = {};\n\n            paramLine.split(';').map(param => param.trim()).forEach(param => {\n                const [key, ...value] = param.split('=');\n                parameters[key] = value.join('=');\n            });\n            return {\n                payloadType,\n                parameters,\n            }\n        })\n        .filter(fmtp => !!fmtp);\n}\n\nexport type MSection = ReturnType<typeof parseMSection>;\n\nexport function parseRtpMap(mlineType: string, rtpmap: string) {\n    const match = rtpmap?.match(/a=rtpmap:([\\d]+) (.*?)\\/([\\d]+)/);\n\n    rtpmap = rtpmap?.toLowerCase();\n\n    let codec: string;\n    if (rtpmap?.includes('mpeg4')) {\n        codec = 'aac';\n    }\n    else if (rtpmap?.includes('opus')) {\n        codec = 'opus';\n    }\n    else if (rtpmap?.includes('pcma')) {\n        codec = 'pcm_alaw';\n    }\n    else if (rtpmap?.includes('pcmu')) {\n        codec = 'pcm_ulaw';\n    }\n    else if (rtpmap?.includes('pcm')) {\n        codec = 'pcm';\n    }\n    else if (rtpmap?.includes('h264')) {\n        codec = 'h264';\n    }\n    else if (rtpmap?.includes('h265')) {\n        codec = 'h265';\n    }\n    else if (!rtpmap && mlineType === 'audio') {\n        // ffmpeg seems to omit the rtpmap type for pcm alaw when creating sdp?\n        // is this the default?\n        codec = 'pcm_alaw';\n    }\n\n    return {\n        line: rtpmap,\n        codec,\n        rawCodec: match?.[2],\n        clock: parseInt(match?.[3]),\n        payloadType: parseInt(match?.[1]),\n    }\n}\n\nconst acontrol = 'a=control:';\nconst artpmap = 'a=rtpmap:';\nexport function parseMSection(msection: string[]) {\n    const control = msection.find(line => line.startsWith(acontrol))?.substring(acontrol.length);\n    const rtpmapFirst = msection.find(line => line.startsWith(artpmap));\n    const mline = parseMLine(msection[0]);\n\n    let codec = parseRtpMap(mline.type, rtpmapFirst).codec;\n\n    const rtpmaps = msection.filter(line => line.startsWith(artpmap)).map(line => parseRtpMap(mline.type, line));\n\n    let direction: string;\n    for (const checkDirection of ['sendonly', 'sendrecv', 'recvonly', 'inactive']) {\n        const found = msection.find(line => line === 'a=' + checkDirection);\n        if (found) {\n            direction = checkDirection;\n            break;\n        }\n    }\n\n    const ret = {\n        ...mline,\n        fmtp: parseFmtp(msection),\n        lines: msection,\n        rtpmaps,\n        contents: msection.join('\\r\\n'),\n        control,\n        codec,\n        direction,\n        toSdp: () => {\n            return ret.lines.join('\\r\\n');\n        }\n    }\n\n    return ret;\n}\n\nexport type ParsedSdp = ReturnType<typeof parseSdp>;\n\nexport function parseSdp(sdp: string) {\n    const lines = sdp.split('\\n').map(line => line.trim());\n    const header: string[] = [];\n    const msections: string[][] = [];\n    let msection: string[];\n\n    for (const line of lines) {\n        if (line.startsWith('m=')) {\n            if (msection) {\n                msections.push(msection);\n            }\n            msection = [];\n        }\n\n        if (msection) {\n            msection.push(line);\n        }\n        else {\n            header.push(line);\n        }\n    }\n\n    if (msection)\n        msections.push(msection);\n\n    const ret = {\n        header: {\n            lines: header,\n            contents: header.join('\\r\\n'),\n        },\n        msections: msections.map(parseMSection),\n        toSdp: () => {\n            return [...ret.header.lines, ...ret.msections.map(msection => msection.lines).flat()].join('\\r\\n');\n        }\n    }\n\n    return ret;\n}\n\nexport function getSpsPps(\n    section: {\n        fmtp: {\n            payloadType: number;\n            parameters: {\n                [key: string]: string;\n            };\n        }[]\n    }\n) {\n    const spspps = section?.fmtp?.[0]?.parameters?.['sprop-parameter-sets']?.split(',');\n    // empty sprop-parameter-sets is apparently a thing:\n    //     a=fmtp:96 profile-level-id=420029; packetization-mode=1; sprop-parameter-sets=\n    if (spspps?.length !== 2) {\n        return {\n            sps: undefined,\n            pps: undefined,\n        };\n    }\n\n    const [sps, pps] = spspps;\n\n    return {\n        sps: Buffer.from(sps, 'base64'),\n        pps: Buffer.from(pps, 'base64'),\n    }\n}\n","export * from \"@scrypted/server/src/sleep\"","import AxiosDigestAuth from '@koush/axios-digest-auth';\nimport { Readable } from 'stream';\nimport https from 'https';\nimport { IncomingMessage } from 'http';\nimport { amcrestHttpsAgent, getDeviceInfo } from './probe';\n\nexport enum AmcrestEvent {\n    MotionStart = \"Code=VideoMotion;action=Start\",\n    MotionStop = \"Code=VideoMotion;action=Stop\",\n    AudioStart = \"Code=AudioMutation;action=Start\",\n    AudioStop = \"Code=AudioMutation;action=Stop\",\n    TalkInvite = \"Code=_DoTalkAction_;action=Invite\",\n    TalkHangup = \"Code=_DoTalkAction_;action=Hangup\",\n    TalkPulse = \"Code=_DoTalkAction_;action=Pulse\",\n    AlarmIPCStart = \"Code=AlarmIPC;action=Start\",\n    AlarmIPCStop = \"Code=AlarmIPC;action=Stop\",\n    PhoneCallDetectStart = \"Code=PhoneCallDetect;action=Start\",\n    PhoneCallDetectStop = \"Code=PhoneCallDetect;action=Stop\",\n    DahuaTalkInvite = \"Code=CallNoAnswered;action=Start\",\n    DahuaTalkHangup = \"Code=PassiveHungup;action=Start\",\n    DahuaCallDeny = \"Code=HungupPhone;action=Pulse\",\n    DahuaTalkPulse = \"Code=_CallNoAnswer_;action=Pulse\",\n}\n\n\nexport class AmcrestCameraClient {\n    digestAuth: AxiosDigestAuth;\n\n    constructor(public ip: string, username: string, password: string, public console?: Console) {\n        this.digestAuth = new AxiosDigestAuth({\n            username,\n            password,\n        });\n    }\n\n    async checkTwoWayAudio() {\n        const response = await this.digestAuth.request({\n            httpsAgent: amcrestHttpsAgent,\n            method: \"GET\",\n            responseType: 'text',\n            url: `http://${this.ip}/cgi-bin/devAudioOutput.cgi?action=getCollect`,\n        });\n        return (response.data as string).includes('result=1');\n    }\n\n    // appAutoStart=true\n    // deviceType=IP4M-1041B\n    // hardwareVersion=1.00\n    // processor=SSC327DE\n    // serialNumber=12345\n    // updateSerial=IPC-AW46WN-S2\n    // updateSerialCloudUpgrade=IPC-AW46WN-.....\n    async getDeviceInfo() {\n        return getDeviceInfo(this.digestAuth, this.ip);\n    }\n\n    async jpegSnapshot(): Promise<Buffer> {\n\n        const response = await this.digestAuth.request({\n            httpsAgent: amcrestHttpsAgent,\n            method: \"GET\",\n            responseType: 'arraybuffer',\n            url: `http://${this.ip}/cgi-bin/snapshot.cgi`,\n        });\n\n        return Buffer.from(response.data);\n    }\n\n    async listenEvents() {\n        const url = `http://${this.ip}/cgi-bin/eventManager.cgi?action=attach&codes=[All]`;\n        console.log('preparing event listener', url);\n\n        const response = await this.digestAuth.request({\n            httpsAgent: amcrestHttpsAgent,\n            method: \"GET\",\n            responseType: 'stream',\n            url,\n        });\n        const stream = response.data as IncomingMessage;\n        stream.socket.setKeepAlive(true);\n\n        stream.on('data', (buffer: Buffer) => {\n            const data = buffer.toString();\n            const parts = data.split(';');\n            let index: string;\n            try {\n                for (const part of parts) {\n                    if (part.startsWith('index')) {\n                        index = part.split('=')[1]?.trim();\n                    }\n                }\n            }\n            catch (e) {\n                this.console.error('error parsing index', data);\n            }\n            // this.console?.log('event', data);\n            for (const event of Object.values(AmcrestEvent)) {\n                if (data.indexOf(event) !== -1) {\n                    stream.emit('event', event, index, data);\n                }\n            }\n        });\n\n        return stream;\n    }\n\n    async enableContinousRecording(channel: number) {\n        for (let i = 0; i < 7; i++) {\n            const url = `http://${this.ip}/cgi-bin/configManager.cgi?action=setConfig&Record[${channel - 1}].TimeSection[${i}][0]=1 00:00:00-23:59:59`;\n            const response = await this.digestAuth.request({\n                httpsAgent: amcrestHttpsAgent,\n                method: \"POST\",\n                url,\n            });\n            this.console.log(response.data);\n        }\n    }\n}\n","import { ffmpegLogInitialOutput } from '@scrypted/common/src/media-helpers';\nimport { readLength } from \"@scrypted/common/src/read-stream\";\nimport sdk, { Camera, DeviceCreatorSettings, DeviceInformation, FFmpegInput, Intercom, MediaObject, MediaStreamOptions, PictureOptions, RequestRecordingStreamOptions, ResponseMediaStreamOptions, ScryptedDeviceType, ScryptedInterface, ScryptedMimeTypes, Setting, VideoCameraConfiguration, VideoRecorder } from \"@scrypted/sdk\";\nimport child_process, { ChildProcess } from 'child_process';\nimport { PassThrough, Readable, Stream } from \"stream\";\nimport { OnvifIntercom } from \"../../onvif/src/onvif-intercom\";\nimport { RtspProvider, RtspSmartCamera, UrlMediaStreamOptions } from \"../../rtsp/src/rtsp\";\nimport { AmcrestCameraClient, AmcrestEvent } from \"./amcrest-api\";\nimport { amcrestHttpsAgent } from './probe';\n\nconst { mediaManager } = sdk;\n\nconst AMCREST_DOORBELL_TYPE = 'Amcrest Doorbell';\nconst DAHUA_DOORBELL_TYPE = 'Dahua Doorbell';\n\nfunction findValue(blob: string, prefix: string, key: string) {\n    const lines = blob.split('\\n');\n    const value = lines.find(line => line.startsWith(`${prefix}.${key}`));\n    if (!value)\n        return;\n\n    const parts = value.split('=');\n    return parts[1];\n}\n\nclass AmcrestCamera extends RtspSmartCamera implements VideoCameraConfiguration, Camera, Intercom, VideoRecorder {\n    eventStream: Stream;\n    cp: ChildProcess;\n    client: AmcrestCameraClient;\n    videoStreamOptions: Promise<UrlMediaStreamOptions[]>;\n    onvifIntercom = new OnvifIntercom(this);\n\n    constructor(nativeId: string, provider: RtspProvider) {\n        super(nativeId, provider);\n        if (this.storage.getItem('amcrestDoorbell') === 'true') {\n            this.storage.setItem('doorbellType', AMCREST_DOORBELL_TYPE);\n            this.storage.removeItem('amcrestDoorbell');\n        }\n\n        this.updateDeviceInfo();\n    }\n\n    getRecordingStreamCurrentTime(recordingStream: MediaObject): Promise<number> {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    getRecordingStreamThumbnail(time: number): Promise<MediaObject> {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    async getRecordingStream(options: RequestRecordingStreamOptions): Promise<MediaObject> {\n        // ffplay 'rtsp://user:password@192.168.2.87/cam/playback?channel=1&starttime=2022_03_12_21_00_00'\n        const startTime = new Date(options.startTime);\n        const month = (startTime.getMonth() + 1).toString().padStart(2, '0');\n        const date = startTime.getDate().toString().padStart(2, '0');\n        const year = startTime.getFullYear();\n        const hours = startTime.getHours().toString().padStart(2, '0');\n        const minutes = startTime.getMinutes().toString().padStart(2, '0');\n        const seconds = startTime.getSeconds().toString().padStart(2, '0');;\n\n        const url = `rtsp://${this.getRtspAddress()}/cam/playback?channel=1&starttime=${year}_${month}_${date}_${hours}_${minutes}_${seconds}`;\n        const authedUrl = this.addRtspCredentials(url);\n        return this.createMediaStreamUrl(authedUrl, undefined);\n    }\n\n    getRecordingStreamOptions(): Promise<ResponseMediaStreamOptions[]> {\n        return this.getVideoStreamOptions();\n    }\n\n    async updateDeviceInfo(): Promise<void> {\n        const ip = this.storage.getItem('ip');\n        if (!ip)\n            return;\n\n        const managementUrl = `http://${ip}`;\n        const deviceInfo: DeviceInformation = {\n            ...this.info,\n            ip,\n            managementUrl,\n        };\n\n        const deviceParameters = [\n            { action: \"getVendor\", replace: \"vendor=\", parameter: \"manufacturer\" },\n            { action: \"getSerialNo\", replace: \"sn=\", parameter: \"serialNumber\" },\n            { action: \"getDeviceType\", replace: \"type=\", parameter: \"model\" },\n            { action: \"getSoftwareVersion\", replace: \"version=\", parameter: \"firmware\" }\n        ];\n\n        for (const element of deviceParameters) {\n            try {\n                const response = await this.getClient().digestAuth.request({\n                    url: `http://${this.getHttpAddress()}/cgi-bin/magicBox.cgi?action=${element.action}`\n                });\n\n                const result = String(response.data).replace(element.replace, \"\").trim();\n                deviceInfo[element.parameter] = result;\n            }\n            catch (e) {\n                this.console.error('Error getting device parameter', element.action, e);\n            }\n        }\n\n        this.info = deviceInfo;\n    }\n\n    async setVideoStreamOptions(options: MediaStreamOptions): Promise<void> {\n        if (!options.id?.startsWith('channel'))\n            throw new Error('invalid id');\n        const channel = parseInt(this.getRtspChannel()) || 1;\n        const formatNumber = parseInt(options.id?.substring('channel'.length)) - 1;\n        const format = options.id === 'channel0' ? 'MainFormat' : 'ExtraFormat';\n        const encode = `Encode[${channel - 1}].${format}[${formatNumber}]`;\n        const params = new URLSearchParams();\n        if (options.video?.bitrate) {\n            let bitrate = options?.video?.bitrate;\n            if (!bitrate)\n                return;\n            bitrate = Math.round(bitrate / 1000);\n            params.set(`${encode}.Video.BitRate`, bitrate.toString());\n        }\n        if (options.video?.codec === 'h264') {\n            params.set(`${encode}.Video.Compression`, 'H.264');\n        }\n        if (options.video?.codec === 'h265') {\n            params.set(`${encode}.Video.Compression`, 'H.265');\n        }\n        if (options.video?.width && options.video?.height) {\n            params.set(`${encode}.Video.resolution`, `${options.video.width}x${options.video.height}`);\n        }\n        if (options.video?.fps) {\n            params.set(`${encode}.Video.FPS`, options.video.fps.toString());\n            if (options.video?.idrIntervalMillis) {\n                params.set(`${encode}.Video.GOP`, (options.video.fps * options.video?.idrIntervalMillis / 1000).toString());\n            }\n        }\n        if (options.video?.bitrateControl) {\n            params.set(`${encode}.Video.BitRateControl`, options.video.bitrateControl === 'variable' ? 'VBR' : 'CBR');\n        }\n\n        if (![...params.keys()].length)\n            return;\n\n        const response = await this.getClient().digestAuth.request({\n            url: `http://${this.getHttpAddress()}/cgi-bin/configManager.cgi?action=setConfig&${params}`\n        });\n        this.console.log('reconfigure result', response.data);\n    }\n\n    getClient() {\n        if (!this.client)\n            this.client = new AmcrestCameraClient(this.getHttpAddress(), this.getUsername(), this.getPassword(), this.console);\n        return this.client;\n    }\n\n    async listenEvents() {\n        const client = new AmcrestCameraClient(this.getHttpAddress(), this.getUsername(), this.getPassword(), this.console);\n        const events = await client.listenEvents();\n        const doorbellType = this.storage.getItem('doorbellType');\n        const callerId = this.storage.getItem('callerID');\n        const multipleCallIds = this.storage.getItem('multipleCallIds') === 'true';\n\n        let pulseTimeout: NodeJS.Timeout;\n\n        events.on('event', (event: AmcrestEvent, index: string, payload: string) => {\n            const channelNumber = this.getRtspChannel();\n            if (channelNumber) {\n                const idx = parseInt(index) + 1;\n                if (idx.toString() !== channelNumber)\n                    return;\n            }\n            if (event === AmcrestEvent.MotionStart) {\n                this.motionDetected = true;\n            }\n            else if (event === AmcrestEvent.MotionStop) {\n                this.motionDetected = false;\n            }\n            else if (event === AmcrestEvent.AudioStart) {\n                this.audioDetected = true;\n            }\n            else if (event === AmcrestEvent.AudioStop) {\n                this.audioDetected = false;\n            }\n            else if (event === AmcrestEvent.TalkInvite\n                || event === AmcrestEvent.PhoneCallDetectStart\n                || event === AmcrestEvent.AlarmIPCStart\n                || event === AmcrestEvent.DahuaTalkInvite) {\n                if (event === AmcrestEvent.DahuaTalkInvite && payload && multipleCallIds)\n                {\n                    if (payload.includes(callerId))\n                    {\n                        this.binaryState = true;\n                    }\n                } else \n                {\n                    this.binaryState = true;\n                }\n            }\n            else if (event === AmcrestEvent.TalkHangup\n                || event === AmcrestEvent.PhoneCallDetectStop\n                || event === AmcrestEvent.AlarmIPCStop\n                || event === AmcrestEvent.DahuaCallDeny\n                || event === AmcrestEvent.DahuaTalkHangup) {\n                this.binaryState = false;\n            }\n            else if (event === AmcrestEvent.TalkPulse && doorbellType === AMCREST_DOORBELL_TYPE) {\n                if (payload.includes('Invite')) {\n                    this.binaryState = true;\n                }\n                else if (payload.includes('Hangup')) {\n                    this.binaryState = false;\n                }\n            }\n            else if (event === AmcrestEvent.DahuaTalkPulse && doorbellType === DAHUA_DOORBELL_TYPE) {\n                clearTimeout(pulseTimeout);\n                pulseTimeout = setTimeout(() => this.binaryState = false, 3000);\n                this.binaryState = true;\n            }\n        });\n\n        return events;\n    }\n\n    async getOtherSettings(): Promise<Setting[]> {\n        const ret = await super.getOtherSettings();\n        ret.push(\n            {\n                title: 'Doorbell Type',\n                choices: [\n                    'Not a Doorbell',\n                    AMCREST_DOORBELL_TYPE,\n                    DAHUA_DOORBELL_TYPE,\n                ],\n                description: 'If this device is a doorbell, select the appropriate doorbell type.',\n                value: this.storage.getItem('doorbellType') || 'Not a Doorbell',\n                key: 'doorbellType',\n            },\n        );\n\n        const doorbellType = this.storage.getItem('doorbellType');\n        const isDoorbell = doorbellType === AMCREST_DOORBELL_TYPE || doorbellType === DAHUA_DOORBELL_TYPE;\n\n        let twoWayAudio = this.storage.getItem('twoWayAudio');\n\n        const choices = [\n            'Amcrest',\n            'ONVIF',\n        ];\n\n        if (!isDoorbell)\n            choices.unshift('None');\n\n        twoWayAudio = choices.find(c => c === twoWayAudio);\n\n        if (!twoWayAudio)\n            twoWayAudio = isDoorbell ? 'Amcrest' : 'None';\n        \n        \n        if (doorbellType == DAHUA_DOORBELL_TYPE)\n        {\n            ret.push(\n               {\n                title: 'Multiple Call Buttons',\n                key: 'multipleCallIds',\n                description: 'Some Dahua Doorbells integrate multiple Call Buttons for apartment buildings.',\n                type: 'boolean',\n                value: (this.storage.getItem('multipleCallIds') === 'true').toString(),\n               } \n            );\n        }\n\n        const multipleCallIds = this.storage.getItem('multipleCallIds');\n\n        if (multipleCallIds)\n        {\n            ret.push(\n                {\n                    title: 'Caller ID',\n                    key: 'callerID',\n                    description: 'Caller ID',\n                    type: 'number',\n                    value: this.storage.getItem('callerID'),\n                }\n            )\n        }\n        \n\n        ret.push(\n            {\n                title: 'Two Way Audio',\n                value: twoWayAudio,\n                key: 'twoWayAudio',\n                description: 'Amcrest cameras may support both Amcrest and ONVIF two way audio protocols. ONVIF generally performs better when supported.',\n                choices,\n            },\n            // sdcard write causes jitter.\n            // {\n            //     title: 'Continuous Recording',\n            //     key: 'continuousRecording',\n            //     description: 'Continuously record onto the Camera SD Card.',\n            //     type: 'boolean',\n            //     value: (this.storage.getItem('continuousRecording') === 'true').toString(),\n            // },\n        );\n\n        return ret;\n        \n    }\n    \n    \n    \n\n    async takeSmartCameraPicture(option?: PictureOptions): Promise<MediaObject> {\n        return this.createMediaObject(await this.getClient().jpegSnapshot(), 'image/jpeg');\n    }\n\n    async getUrlSettings() {\n        return [\n            {\n                key: 'rtspChannel',\n                title: 'Channel Number Override',\n                subgroup: 'Advanced',\n                description: \"The channel number to use for snapshots and video. E.g., 1, 2, etc.\",\n                placeholder: '1',\n                value: this.storage.getItem('rtspChannel'),\n            },\n            ...await super.getUrlSettings(),\n        ]\n    }\n\n    getRtspChannel() {\n        return this.storage.getItem('rtspChannel');\n    }\n\n\n    createRtspMediaStreamOptions(url: string, index: number) {\n        const ret = super.createRtspMediaStreamOptions(url, index);\n        ret.tool = 'scrypted';\n        return ret;\n    }\n\n    async getConstructedVideoStreamOptions(): Promise<UrlMediaStreamOptions[]> {\n        const client = this.getClient();\n\n        if (!this.videoStreamOptions) {\n            this.videoStreamOptions = (async () => {\n                let mas: string;\n                try {\n                    const response = await client.digestAuth.request({\n                        url: `http://${this.getHttpAddress()}/cgi-bin/magicBox.cgi?action=getProductDefinition&name=MaxExtraStream`,\n                        responseType: 'text',\n                        httpsAgent: amcrestHttpsAgent,\n                    })\n                    mas = response.data.split('=')[1].trim();\n                    this.storage.setItem('maxExtraStreams', mas.toString());\n                }\n                catch (e) {\n                    this.console.error('error retrieving max extra streams', e);\n                    mas = this.storage.getItem('maxExtraStreams');\n                }\n\n                const maxExtraStreams = parseInt(mas) || 1;\n                const channel = parseInt(this.getRtspChannel()) || 1;\n                const vsos = [...Array(maxExtraStreams + 1).keys()].map(subtype => this.createRtspMediaStreamOptions(`rtsp://${this.getRtspAddress()}/cam/realmonitor?channel=${channel}&subtype=${subtype}`, subtype));\n\n                try {\n                    const capResponse = await client.digestAuth.request({\n                        url: `http://${this.getHttpAddress()}/cgi-bin/encode.cgi?action=getConfigCaps&channel=0`,\n                        responseType: 'text',\n                        httpsAgent: amcrestHttpsAgent,\n                    });\n                    this.console.log(capResponse.data);\n                    const encodeResponse = await client.digestAuth.request({\n                        url: `http://${this.getHttpAddress()}/cgi-bin/configManager.cgi?action=getConfig&name=Encode`,\n                        responseType: 'text',\n                        httpsAgent: amcrestHttpsAgent,\n                    });\n                    this.console.log(encodeResponse.data);\n\n                    for (let i = 0; i < vsos.length; i++) {\n                        const vso = vsos[i];\n                        let capName: string;\n                        let encName: string;\n                        if (i === 0) {\n                            capName = `caps[${channel - 1}].MainFormat[0]`;\n                            encName = `table.Encode[${channel - 1}].MainFormat[0]`;\n                        }\n                        else {\n                            capName = `caps[${channel - 1}].ExtraFormat[${i - 1}]`;\n                            encName = `table.Encode[${channel - 1}].ExtraFormat[${i - 1}]`;\n                        }\n\n                        const videoCodec = findValue(encodeResponse.data, encName, 'Video.Compression')\n                            ?.replace('.', '')?.toLowerCase()?.trim();\n                        let audioCodec = findValue(encodeResponse.data, encName, 'Audio.Compression')\n                            ?.replace('.', '')?.toLowerCase()?.trim();\n                        if (audioCodec?.includes('aac'))\n                            audioCodec = 'aac';\n                        else if (audioCodec.includes('g711a'))\n                            audioCodec = 'pcm_alaw';\n                        else if (audioCodec.includes('g711u'))\n                            audioCodec = 'pcm_ulaw';\n                        else if (audioCodec.includes('g711'))\n                            audioCodec = 'pcm';\n\n                        if (vso.audio)\n                            vso.audio.codec = audioCodec;\n                        vso.video.codec = videoCodec;\n\n                        const width = findValue(encodeResponse.data, encName, 'Video.Width');\n                        const height = findValue(encodeResponse.data, encName, 'Video.Height');\n                        if (width && height) {\n                            vso.video.width = parseInt(width);\n                            vso.video.height = parseInt(height);\n                        }\n\n                        const bitrateOptions = findValue(capResponse.data, capName, 'Video.BitRateOptions');\n                        if (!bitrateOptions)\n                            continue;\n\n                        const encodeOptions = findValue(encodeResponse.data, encName, 'Video.BitRate');\n                        if (!encodeOptions)\n                            continue;\n\n                        const [min, max] = bitrateOptions.split(',');\n                        if (!min || !max)\n                            continue;\n                        vso.video.bitrate = parseInt(encodeOptions) * 1000;\n                        vso.video.maxBitrate = parseInt(max) * 1000;\n                        vso.video.minBitrate = parseInt(min) * 1000;\n                    }\n                }\n                catch (e) {\n                    this.console.error('error retrieving stream configurations', e);\n                }\n\n                return vsos;\n            })();\n        }\n\n        return this.videoStreamOptions;\n    }\n\n    async putSetting(key: string, value: string) {\n        if (key === 'continuousRecording') {\n            if (value === 'true') {\n                try {\n                    await this.getClient().enableContinousRecording(parseInt(this.getRtspChannel()) || 1);\n                    this.storage.setItem('continuousRecording', 'true');\n                }\n                catch (e) {\n                    this.log.a('There was an error enabling continuous recording.');\n                    this.console.error('There was an error enabling continuous recording.', e);\n                }\n            }\n            else {\n                this.storage.removeItem('continuousRecording');\n            }\n        }\n\n        this.client = undefined;\n        this.videoStreamOptions = undefined;\n\n        super.putSetting(key, value);\n        const doorbellType = this.storage.getItem('doorbellType');\n        const isDoorbell = doorbellType === AMCREST_DOORBELL_TYPE || doorbellType === DAHUA_DOORBELL_TYPE;\n        // true is the legacy value before onvif was added.\n        const twoWayAudio = this.storage.getItem('twoWayAudio') === 'true'\n            || this.storage.getItem('twoWayAudio') === 'ONVIF'\n            || this.storage.getItem('twoWayAudio') === 'Amcrest';\n\n        const interfaces = this.provider.getInterfaces();\n        let type: ScryptedDeviceType = undefined;\n        if (isDoorbell) {\n            type = ScryptedDeviceType.Doorbell;\n            interfaces.push(ScryptedInterface.BinarySensor)\n        }\n        if (isDoorbell || twoWayAudio) {\n            interfaces.push(ScryptedInterface.Intercom);\n        }\n        const continuousRecording = this.storage.getItem('continuousRecording') === 'true';\n        if (continuousRecording)\n            interfaces.push(ScryptedInterface.VideoRecorder);\n        this.provider.updateDevice(this.nativeId, this.name, interfaces, type);\n\n        this.updateDeviceInfo();\n    }\n\n    async startIntercom(media: MediaObject): Promise<void> {\n        if (this.storage.getItem('twoWayAudio') === 'ONVIF') {\n            const options = await this.getConstructedVideoStreamOptions();\n            const stream = options[0];\n            const url = new URL(stream.url);\n            // amcrest onvif requires this proto query parameter, or onvif two way\n            // will not activate.\n            url.searchParams.set('proto', 'Onvif');\n            this.onvifIntercom.url = url.toString();\n            return this.onvifIntercom.startIntercom(media);\n        }\n\n        // not sure if this all works, since i don't actually have a doorbell.\n        // good luck!\n        const channel = this.getRtspChannel() || '1';\n\n        const buffer = await mediaManager.convertMediaObjectToBuffer(media, ScryptedMimeTypes.FFmpegInput);\n        const ffmpegInput = JSON.parse(buffer.toString()) as FFmpegInput;\n\n        const args = ffmpegInput.inputArguments.slice();\n        args.unshift('-hide_banner');\n\n        args.push(\n            \"-vn\",\n            '-acodec', 'aac',\n            '-f', 'adts',\n            'pipe:3',\n        );\n\n        this.console.log('ffmpeg intercom', args);\n\n        const ffmpeg = await mediaManager.getFFmpegPath();\n        this.cp = child_process.spawn(ffmpeg, args, {\n            stdio: ['pipe', 'pipe', 'pipe', 'pipe'],\n        });\n        this.cp.on('exit', () => this.cp = undefined);\n        ffmpegLogInitialOutput(this.console, this.cp);\n        const socket = this.cp.stdio[3] as Readable;\n\n        (async () => {\n            const url = `http://${this.getHttpAddress()}/cgi-bin/audio.cgi?action=postAudio&httptype=singlepart&channel=${channel}`;\n            this.console.log('posting audio data to', url);\n\n            // seems the dahua doorbells preferred 1024 chunks. should investigate adts\n            // parsing and sending multipart chunks instead.\n            const passthrough = new PassThrough();\n            this.getClient().digestAuth.request({\n                method: 'POST',\n                url,\n                headers: {\n                    'Content-Type': 'Audio/AAC',\n                    'Content-Length': '9999999'\n                },\n                httpsAgent: amcrestHttpsAgent,\n                data: passthrough,\n            });\n\n            try {\n                while (true) {\n                    const data = await readLength(socket, 1024);\n                    passthrough.push(data);\n                }\n            }\n            catch (e) {\n            }\n            finally {\n                this.console.log('audio finished');\n                passthrough.end();\n            }\n\n            this.stopIntercom();\n        })();\n    }\n\n    async stopIntercom(): Promise<void> {\n        if (this.storage.getItem('twoWayAudio') === 'ONVIF') {\n            return this.onvifIntercom.stopIntercom();\n        }\n\n        this.cp?.kill();\n        this.cp = undefined;\n    }\n\n    showRtspUrlOverride() {\n        return false;\n    }\n}\n\nclass AmcrestProvider extends RtspProvider {\n    getAdditionalInterfaces() {\n        return [\n            ScryptedInterface.VideoCameraConfiguration,\n            ScryptedInterface.Camera,\n            ScryptedInterface.AudioSensor,\n            ScryptedInterface.MotionSensor,\n        ];\n    }\n\n\n    async createDevice(settings: DeviceCreatorSettings, nativeId?: string): Promise<string> {\n        const httpAddress = `${settings.ip}:${settings.httpPort || 80}`;\n        let info: DeviceInformation = {};\n\n        const username = settings.username?.toString();\n        const password = settings.password?.toString();\n        const skipValidate = settings.skipValidate === 'true';\n        let twoWayAudio: string;\n        if (!skipValidate) {\n            const api = new AmcrestCameraClient(httpAddress, username, password, this.console);\n            try {\n                const deviceInfo = await api.getDeviceInfo();\n\n                settings.newCamera = deviceInfo.deviceType;\n                info.model = deviceInfo.deviceType;\n                info.serialNumber = deviceInfo.serialNumber;\n            }\n            catch (e) {\n                this.console.error('Error adding Amcrest camera', e);\n                throw e;\n            }\n\n            try {\n                if (await api.checkTwoWayAudio()) {\n                    // onvif seems to work better than Amcrest, except for AD110.\n                    twoWayAudio = 'ONVIF';\n                }\n            }\n            catch (e) {\n                this.console.warn('Error probing two way audio', e);\n            }\n        }\n        settings.newCamera ||= 'Amcrest Camera';\n\n        nativeId = await super.createDevice(settings, nativeId);\n\n        const device = await this.getDevice(nativeId) as AmcrestCamera;\n        device.info = info;\n        device.putSetting('username', username);\n        device.putSetting('password', password);\n        device.setIPAddress(settings.ip?.toString());\n        device.setHttpPortOverride(settings.httpPort?.toString());\n        if (twoWayAudio)\n            device.putSetting('twoWayAudio', twoWayAudio);\n        return nativeId;\n    }\n\n    async getCreateDeviceSettings(): Promise<Setting[]> {\n        return [\n            {\n                key: 'username',\n                title: 'Username',\n            },\n            {\n                key: 'password',\n                title: 'Password',\n                type: 'password',\n            },\n            {\n                key: 'ip',\n                title: 'IP Address',\n                placeholder: '192.168.2.222',\n            },\n            {\n                key: 'httpPort',\n                title: 'HTTP Port',\n                description: 'Optional: Override the HTTP Port from the default value of 80',\n                placeholder: '80',\n            },\n            {\n                key: 'skipValidate',\n                title: 'Skip Validation',\n                description: 'Add the device without verifying the credentials and network settings.',\n                type: 'boolean',\n            }\n        ]\n    }\n\n    createCamera(nativeId: string) {\n        return new AmcrestCamera(nativeId, this);\n    }\n}\n\nexport default AmcrestProvider;\n","import https from 'https';\n\nexport const amcrestHttpsAgent = new https.Agent({\n    rejectUnauthorized: false,\n});\n\n// appAutoStart=true\n// deviceType=IP4M-1041B\n// hardwareVersion=1.00\n// processor=SSC327DE\n// serialNumber=12345\n// updateSerial=IPC-AW46WN-S2\n\nimport AxiosDigestAuth from \"@koush/axios-digest-auth\";\n\n// updateSerialCloudUpgrade=IPC-AW46WN-.....\nexport async function getDeviceInfo(digestAuth: AxiosDigestAuth, address: string) {\n    const response = await digestAuth.request({\n        httpsAgent: amcrestHttpsAgent,\n        method: \"GET\",\n        responseType: 'text',\n        url: `http://${address}/cgi-bin/magicBox.cgi?action=getSystemInfo`,\n    });\n    const lines = (response.data as string).split('\\n');\n    const vals: {\n        [key: string]: string,\n    } = {};\n    for (const line of lines) {\n        let index = line.indexOf('=');\n        if (index === -1)\n            index = line.length;\n        const k = line.substring(0, index);\n        const v = line.substring(index + 1);\n        vals[k] = v.trim();\n    }\n\n    return {\n        deviceType: vals.deviceType,\n        hardwareVersion: vals.hardwareVersion,\n        serialNumber: vals.serialNumber,\n    }\n}\n","import AxiosDigestAuth from '@koush/axios-digest-auth';\nimport sdk, { Camera, DeviceCreator, DeviceCreatorSettings, DeviceProvider, MediaObject, PictureOptions, ResponseMediaStreamOptions, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, ScryptedNativeId, Setting, Settings, SettingValue, VideoCamera } from \"@scrypted/sdk\";\nimport { randomBytes } from \"crypto\";\nimport https from 'https';\n\nconst { deviceManager, mediaManager } = sdk;\n\nconst httpsAgent = new https.Agent({\n    rejectUnauthorized: false\n});\n\nexport interface UrlMediaStreamOptions extends ResponseMediaStreamOptions {\n    url: string;\n}\n\nexport abstract class CameraBase<T extends ResponseMediaStreamOptions> extends ScryptedDeviceBase implements Camera, VideoCamera, Settings {\n    snapshotAuth: AxiosDigestAuth;\n    pendingPicture: Promise<MediaObject>;\n\n    constructor(nativeId: string, public provider: CameraProviderBase<T>) {\n        super(nativeId);\n    }\n\n    protected async takePictureUrl(snapshotUrl: string) {\n        if (!this.snapshotAuth) {\n            this.snapshotAuth = new AxiosDigestAuth({\n                username: this.getUsername(),\n                password: this.getPassword(),\n            });\n        }\n        const response = await this.snapshotAuth.request({\n            httpsAgent,\n            method: \"GET\",\n            responseType: 'arraybuffer',\n            url: snapshotUrl,\n        });\n\n        return mediaManager.createMediaObject(Buffer.from(response.data), response.headers['Content-Type'] || 'image/jpeg');\n    }\n\n    async takePicture(option?: PictureOptions): Promise<MediaObject> {\n        if (!this.pendingPicture) {\n            this.pendingPicture = this.takePictureThrottled(option);\n            this.pendingPicture.finally(() => this.pendingPicture = undefined);\n        }\n\n        return this.pendingPicture;\n    }\n\n    abstract takePictureThrottled(option?: PictureOptions): Promise<MediaObject>;\n\n    async getPictureOptions(): Promise<PictureOptions[]> {\n        return;\n    }\n\n    async getVideoStreamOptions(): Promise<T[]> {\n        const vsos = this.getRawVideoStreamOptions();\n        return vsos;\n    }\n\n    abstract getRawVideoStreamOptions(): T[];\n\n    isAudioDisabled() {\n        return this.storage.getItem('noAudio') === 'true';\n    }\n\n    async getVideoStream(options?: T): Promise<MediaObject> {\n        const vsos = await this.getVideoStreamOptions();\n        const vso = vsos?.find(s => s.id === options?.id) || this.getDefaultStream(vsos);\n        return this.createVideoStream(vso);\n    }\n\n    abstract createVideoStream(options?: T): Promise<MediaObject>;\n\n    async getUrlSettings(): Promise<Setting[]> {\n        return [\n        ];\n    }\n\n    getUsername() {\n        return this.storage.getItem('username');\n    }\n\n    getPassword() {\n        return this.storage.getItem('password');\n    }\n\n    async getOtherSettings(): Promise<Setting[]> {\n        return [];\n    }\n\n    getDefaultStream(vsos: T[]) {\n        return vsos?.[0];\n    }\n\n    async getStreamSettings(): Promise<Setting[]> {\n        return [];\n    }\n\n    getUsernameDescription(): string {\n        return 'Optional: Username for snapshot http requests.';\n    }\n\n    getPasswordDescription(): string {\n        return 'Optional: Password for snapshot http requests.';\n    }\n\n    async getSettings(): Promise<Setting[]> {\n        const ret: Setting[] = [\n            {\n                key: 'username',\n                title: 'Username',\n                value: this.getUsername(),\n                description: this.getUsernameDescription(),\n            },\n            {\n                key: 'password',\n                title: 'Password',\n                value: this.getPassword(),\n                type: 'password',\n                description: this.getPasswordDescription(),\n            },\n            ...await this.getUrlSettings(),\n            ...await this.getStreamSettings(),\n            ...await this.getOtherSettings(),\n            {\n                key: 'noAudio',\n                title: 'No Audio',\n                description: 'Enable this setting if the camera does not have audio or to mute audio.',\n                type: 'boolean',\n                value: (this.isAudioDisabled()).toString(),\n            },\n        ];\n\n        for (const s of ret) {\n            s.group = this.provider.name.replace('Plugin', '').trim();\n            s.subgroup ||= 'General';\n        }\n\n        return ret;\n    }\n\n    async putSettingBase(key: string, value: SettingValue) {\n        if (key === 'defaultStream') {\n            const vsos = await this.getVideoStreamOptions();\n            const stream = vsos.find(vso => vso.name === value);\n            this.storage.setItem('defaultStream', stream?.id || '');\n        }\n        else {\n            this.storage.setItem(key, value.toString());\n        }\n\n        this.snapshotAuth = undefined;\n\n        this.onDeviceEvent(ScryptedInterface.Settings, undefined);\n    }\n\n    async putSetting(key: string, value: SettingValue) {\n        this.putSettingBase(key, value);\n    }\n}\n\nexport abstract class CameraProviderBase<T extends ResponseMediaStreamOptions> extends ScryptedDeviceBase implements DeviceProvider, DeviceCreator {\n    devices = new Map<string, any>();\n\n    constructor(nativeId?: string) {\n        super(nativeId);\n\n        for (const camId of deviceManager.getNativeIds()) {\n            if (camId)\n                this.getDevice(camId);\n        }\n    }\n\n    async createDevice(settings: DeviceCreatorSettings, nativeId?: ScryptedNativeId): Promise<string> {\n        nativeId ||= randomBytes(4).toString('hex');\n        const name = settings.newCamera?.toString() || 'New Camera';\n        await this.updateDevice(nativeId, name, this.getInterfaces());\n        return nativeId;\n    }\n\n    async getCreateDeviceSettings(): Promise<Setting[]> {\n        return [\n            {\n                key: 'newCamera',\n                title: 'Add Camera',\n                placeholder: 'Camera name, e.g.: Back Yard Camera, Baby Camera, etc',\n            }\n        ]\n    }\n\n    getAdditionalInterfaces(): string[] {\n        return [\n        ];\n    }\n\n    getInterfaces() {\n        return [\n            ScryptedInterface.VideoCamera,\n            ScryptedInterface.Settings,\n            ...this.getAdditionalInterfaces()\n        ];\n    }\n\n    updateDevice(nativeId: string, name: string, interfaces: string[], type?: ScryptedDeviceType) {\n        return deviceManager.onDeviceDiscovered({\n            nativeId,\n            name,\n            interfaces,\n            type: type || ScryptedDeviceType.Camera,\n            info: deviceManager.getNativeIds().includes(nativeId) ? deviceManager.getDeviceState(nativeId)?.info : undefined,\n        });\n    }\n\n    abstract createCamera(nativeId: string): CameraBase<T>;\n\n    getDevice(nativeId: string) {\n        let ret = this.devices.get(nativeId);\n        if (!ret) {\n            ret = this.createCamera(nativeId);\n            if (ret)\n                this.devices.set(nativeId, ret);\n        }\n        return ret;\n    }\n\n    async releaseDevice(id: string, nativeId: string): Promise<void> {\n        this.devices.delete(nativeId);\n    }\n}\n","import sdk, { MediaObject, Intercom, FFmpegInput, ScryptedMimeTypes } from \"@scrypted/sdk\";\nimport { RtspSmartCamera } from \"../../rtsp/src/rtsp\";\nimport { parseSemicolonDelimited, RtspClient } from \"@scrypted/common/src/rtsp-server\";\nimport { parseSdp } from \"@scrypted/common/src/sdp-utils\";\nimport { ffmpegLogInitialOutput, safePrintFFmpegArguments } from \"@scrypted/common/src/media-helpers\";\nimport child_process from 'child_process';\nimport { createBindZero, reserveUdpPort } from \"@scrypted/common/src/listen-cluster\";\nimport crypto from 'crypto';\n\nconst { mediaManager } = sdk;\n\ninterface SupportedCodec {\n    ffmpegCodec: string;\n    sdpName: string;\n}\n\nconst supportedCodecs: SupportedCodec[] = [];\nfunction addSupportedCodec(ffmpegCodec: string, sdpName: string) {\n    supportedCodecs.push({\n        ffmpegCodec,\n        sdpName,\n    });\n}\n\n// a=rtpmap:97 L16/8000\n// a=rtpmap:100 L16/16000\n// a=rtpmap:101 L16/48000\n// a=rtpmap:8 PCMA/8000\n// a=rtpmap:102 PCMA/16000\n// a=rtpmap:103 PCMA/48000\n// a=rtpmap:0 PCMU/8000\n// a=rtpmap:104 PCMU/16000\n// a=rtpmap:105 PCMU/48000\n// a=rtpmap:106 /0\n// a=rtpmap:107 /0\n// a=rtpmap:108 /0\n// a=rtpmap:109 MPEG4-GENERIC/8000\n// a=rtpmap:110 MPEG4-GENERIC/16000\n// a=rtpmap:111 MPEG4-GENERIC/48000\n\n// this order is irrelevant, the order of preference is the sdp.\naddSupportedCodec('pcm_mulaw', 'PCMU');\naddSupportedCodec('pcm_alaw', 'PCMA');\naddSupportedCodec('pcm_s16be', 'L16');\naddSupportedCodec('adpcm_g726', 'G726');\naddSupportedCodec('aac', 'MPEG4-GENERIC');\n\ninterface CodecMatch {\n    payloadType: string;\n    sdpName: string;\n    sampleRate: string;\n    channels: string;\n}\n\nconst codecRegex = /a=rtpmap:\\s*(\\d+) (.*?)\\/(\\d+)/g\nfunction* parseCodecs(audioSection: string): Generator<CodecMatch> {\n    for (const match of audioSection.matchAll(codecRegex)) {\n        const [_, payloadType, sdpName, sampleRate, _skip, channels] = match;\n        yield {\n            payloadType,\n            sdpName,\n            sampleRate,\n            channels,\n        }\n    }\n}\n\nconst Require = 'www.onvif.org/ver20/backchannel';\n\nexport class OnvifIntercom implements Intercom {\n    intercomClient: RtspClient;\n    url: string;\n\n    constructor(public camera: RtspSmartCamera) {\n    }\n\n    async checkIntercom() {\n        const username = this.camera.storage.getItem(\"username\");\n        const password = this.camera.storage.getItem(\"password\");\n        const url = new URL(this.url);\n        url.username = username;\n        url.password = password;\n        this.intercomClient = new RtspClient(url.toString());\n        this.intercomClient.console = this.camera.console;\n        await this.intercomClient.options();\n\n        const describe = await this.intercomClient.describe({\n            Require,\n        });\n        this.camera.console.log('ONVIF Backchannel SDP:');\n        this.camera.console.log(describe.body?.toString());\n        const parsedSdp = parseSdp(describe.body.toString());\n        const audioBackchannel = parsedSdp.msections.find(msection => msection.type === 'audio' && msection.direction === 'sendonly');\n        if (!audioBackchannel)\n            throw new Error('ONVIF audio backchannel not found');\n\n        return audioBackchannel;\n    }\n\n    async startIntercom(media: MediaObject) {\n        await this.stopIntercom();\n\n        const audioBackchannel = await this.checkIntercom();\n        if (!audioBackchannel)\n            throw new Error('ONVIF audio backchannel not found');\n\n        const rtp = await reserveUdpPort();\n        const rtcp = rtp + 1;\n\n        let ip: string;\n        let serverRtp: number;\n        let transportDict: ReturnType<typeof parseSemicolonDelimited>;\n        try {\n            const headers: any = {\n                Require,\n                Transport: `RTP/AVP;unicast;client_port=${rtp}-${rtcp}`,\n            };\n\n            const response = await this.intercomClient.request('SETUP', headers, audioBackchannel.control);\n            transportDict = parseSemicolonDelimited(response.headers.transport);\n            this.intercomClient.session = response.headers.session.split(';')[0];\n            ip = this.camera.getIPAddress();\n\n            const { server_port } = transportDict;\n            const serverPorts = server_port.split('-');\n            serverRtp = parseInt(serverPorts[0]);\n        }\n        catch (e) {\n            this.camera.console.error('onvif udp backchannel failed, falling back to tcp', e);\n\n            const headers: any = {\n                Require,\n                Transport: `RTP/AVP/TCP;unicast;interleaved=0-1`,\n            };\n\n            const response = await this.intercomClient.request('SETUP', headers, audioBackchannel.control);\n            transportDict = parseSemicolonDelimited(response.headers.transport);\n            this.intercomClient.session = response.headers.session.split(';')[0];\n            ip = '127.0.0.1';\n            const server = await createBindZero('udp4');\n            this.intercomClient.client.on('close', () => server.server.close());\n            serverRtp = server.port;\n            server.server.on('message', data => {\n                this.intercomClient.send(data, 0);\n            });\n        }\n        this.camera.console.log('backchannel transport', transportDict);\n\n        const ffmpegInput = await mediaManager.convertMediaObjectToJSON<FFmpegInput>(media, ScryptedMimeTypes.FFmpegInput);\n\n        const availableCodecs = [...parseCodecs(audioBackchannel.contents)];\n        let match: CodecMatch;\n        let codec: SupportedCodec;\n        for (const supported of availableCodecs) {\n            codec = supportedCodecs.find(check => check.sdpName?.toLowerCase() === supported.sdpName.toLowerCase());\n            if (codec) {\n                match = supported;\n                break;\n            }\n        }\n\n        if (!match)\n            throw new Error('no supported codec was found for back channel');\n\n        let ssrcBuffer: Buffer;\n        if (transportDict.ssrc) {\n            ssrcBuffer = Buffer.from(transportDict.ssrc, 'hex');\n        }\n        else {\n            ssrcBuffer = crypto.randomBytes(4);\n        }\n        // ffmpeg expects ssrc as signed int32.\n        const ssrc = ssrcBuffer.readInt32BE(0);\n\n        const args = [\n            '-hide_banner',\n            ...ffmpegInput.inputArguments,\n            '-vn',\n            '-acodec', codec.ffmpegCodec,\n            '-ar', match.sampleRate,\n            '-ac', match.channels || '1',\n            \"-payload_type\", match.payloadType,\n            \"-ssrc\", ssrc.toString(),\n            '-f', 'rtp',\n            `rtp://${ip}:${serverRtp}?localrtpport=${rtp}&localrtcpport=${rtcp}`,\n        ];\n        safePrintFFmpegArguments(this.camera.console, args);\n        const cp = child_process.spawn(await mediaManager.getFFmpegPath(), args);\n\n        ffmpegLogInitialOutput(this.camera.console, cp);\n\n        await this.intercomClient.play({\n            Require,\n        });\n        this.camera.console.log('intercom playing');\n    }\n\n    async stopIntercom() {\n        this.intercomClient?.client?.destroy();\n        this.intercomClient = undefined;\n    }\n}","import sdk, { Setting, MediaObject, ScryptedInterface, FFmpegInput, PictureOptions, SettingValue, MediaStreamOptions, ResponseMediaStreamOptions, ScryptedMimeTypes, MediaStreamUrl } from \"@scrypted/sdk\";\nimport { EventEmitter } from \"stream\";\nimport { CameraProviderBase, CameraBase, UrlMediaStreamOptions } from \"../../ffmpeg-camera/src/common\";\nimport url from 'url';\nimport { timeoutFunction, timeoutPromise } from '@scrypted/common/src/promise-utils';\n\nexport { UrlMediaStreamOptions } from \"../../ffmpeg-camera/src/common\";\n\nconst { mediaManager } = sdk;\n\nexport class RtspCamera extends CameraBase<UrlMediaStreamOptions> {\n    takePictureThrottled(option?: PictureOptions): Promise<MediaObject> {\n        throw new Error(\"The RTSP Camera does not provide snapshots. Install the Snapshot Plugin if snapshots are available via an URL.\");\n    }\n\n    createRtspMediaStreamOptions(url: string, index: number): UrlMediaStreamOptions {\n        return {\n            id: `channel${index}`,\n            name: `Stream ${index + 1}`,\n            url,\n            container: 'rtsp',\n            video: {\n            },\n            audio: this.isAudioDisabled() ? null : {},\n        };\n    }\n\n    getChannelFromMediaStreamOptionsId(id: string) {\n        return id.substring('channel'.length);\n    }\n\n    getRawVideoStreamOptions(): UrlMediaStreamOptions[] {\n        let urls: string[] = [];\n        try {\n            urls = JSON.parse(this.storage.getItem('urls'));\n        }\n        catch (e) {\n            const url = this.storage.getItem('url');\n            if (url) {\n                urls.push(url);\n                this.storage.setItem('urls', JSON.stringify(urls));\n                this.storage.removeItem('url');\n            }\n        }\n\n        // filter out empty strings.\n        const ret = urls.filter(url => !!url).map((url, index) => this.createRtspMediaStreamOptions(url, index));\n\n        if (!ret.length)\n            return;\n        return ret;\n    }\n\n    addRtspCredentials(rtspUrl: string) {\n        // ignore this deprecation warning. the WHATWG URL class will trim the password\n        // off if it is empty, resulting in urls like rtsp://admin@foo.com/.\n        // this causes ffmpeg to fail on sending a blank password.\n        // we need to send it as follows: rtsp://admin:@foo.com/.\n        // Note the trailing colon.\n        // issue: https://github.com/koush/scrypted/issues/134\n        const parsedUrl = url.parse(rtspUrl);\n        this.console.log('stream url', rtspUrl);\n        const username = this.storage.getItem(\"username\");\n        const password = this.storage.getItem(\"password\");\n        if (username) {\n            // if a username is set, ensure a trailing colon is sent for blank password.\n            const auth = `${username}:${password || ''}`;\n            parsedUrl.auth = auth;\n        }\n\n        const stringUrl = url.format(parsedUrl);\n        return stringUrl;\n    }\n\n    createMediaStreamUrl(stringUrl: string, vso: ResponseMediaStreamOptions) {\n        const ret: MediaStreamUrl = {\n            url: stringUrl,\n            mediaStreamOptions: vso,\n        };\n\n        return this.createMediaObject(ret, ScryptedMimeTypes.MediaStreamUrl);\n    }\n\n    async createVideoStream(vso: UrlMediaStreamOptions): Promise<MediaObject> {\n        if (!vso)\n            throw new Error('video streams not set up or no longer exists.');\n\n        const stringUrl = this.addRtspCredentials(vso.url);\n        return this.createMediaStreamUrl(stringUrl, vso);\n    }\n\n    // hide the description from CameraBase that indicates it is only used for snapshots\n    getUsernameDescription(): string {\n        return;\n    }\n\n    // hide the description from CameraBase that indicates it is only used for snapshots\n    getPasswordDescription(): string {\n        return;\n    }\n\n    async getRtspUrlSettings(): Promise<Setting[]> {\n        return [\n            {\n                key: 'urls',\n                title: 'RTSP Stream URL',\n                description: 'An RTSP Stream URL provided by the camera.',\n                placeholder: 'rtsp://192.168.1.100[:554]/channel/101',\n                value: this.getRawVideoStreamOptions()?.map(vso => vso.url),\n                multiple: true,\n            },\n        ];\n    }\n\n    async getOtherSettings(): Promise<Setting[]> {\n        const ret: Setting[] = [];\n\n        ret.push(\n            {\n                subgroup: 'Advanced',\n                key: 'debug',\n                title: 'Debug Events',\n                description: \"Log all events to the console. This will be very noisy and should not be left enabled.\",\n                value: this.storage.getItem('debug') === 'true',\n                type: 'boolean',\n            }\n        )\n        return ret;\n    }\n\n    async getUrlSettings(): Promise<Setting[]> {\n        return [\n            ...await this.getRtspUrlSettings(),\n        ];\n    }\n\n    async putRtspUrls(urls: string[]) {\n        this.storage.setItem('urls', JSON.stringify(urls.filter(url => !!url)));\n    }\n\n    async putSettingBase(key: string, value: SettingValue) {\n        if (key === 'urls') {\n            this.putRtspUrls(value as string[]);\n        }\n        else {\n            super.putSettingBase(key, value);\n        }\n    }\n}\n\nexport interface Destroyable {\n    on(eventName: string | symbol, listener: (...args: any[]) => void): void;\n    destroy(): void;\n    emit(eventName: string | symbol, ...args: any[]): boolean;\n}\n\nexport abstract class RtspSmartCamera extends RtspCamera {\n    lastListen = 0;\n    listener: Promise<Destroyable>;\n\n    constructor(nativeId: string, provider: RtspProvider) {\n        super(nativeId, provider);\n        this.listenLoop();\n    }\n\n    resetSensors(): void {\n        if (this.interfaces.includes(ScryptedInterface.MotionSensor))\n            this.motionDetected = false;\n        if (this.interfaces.includes(ScryptedInterface.AudioSensor))\n            this.audioDetected = false;\n        if (this.interfaces.includes(ScryptedInterface.TamperSensor))\n            this.tampered = false;\n        if (this.interfaces.includes(ScryptedInterface.BinarySensor))\n            this.binaryState = false;\n    }\n\n    async listenLoop() {\n        this.resetSensors();\n        this.lastListen = Date.now();\n        if (this.listener)\n            return;\n\n        let listener: Destroyable;\n        const listenerPromise = this.listener = this.listenEvents();\n\n        let activityTimeout: NodeJS.Timeout;\n        const restartListener = () => {\n            if (listenerPromise === this.listener)\n                this.listener = undefined;\n            clearTimeout(activityTimeout);\n            listener?.destroy();\n            const listenDuration = Date.now() - this.lastListen;\n            const listenNext = listenDuration > 10000 ? 0 : 10000;\n            setTimeout(() => this.listenLoop(), listenNext);\n        }\n\n        try {\n            listener = await this.listener;\n        }\n        catch (e) {\n            this.console.error('listen loop connection failed, restarting listener.', e.message);\n            restartListener();\n            return;\n        }\n\n        const resetActivityTimeout = () => {\n            clearTimeout(activityTimeout);\n            activityTimeout = setTimeout(() => {\n                this.console.error('listen loop 5m idle timeout, destroying listener.');\n                restartListener();\n            }, 300000);\n        }\n        resetActivityTimeout();\n\n        listener.on('data', (data) => {\n            if (this.storage.getItem('debug') === 'true')\n                this.console.log('debug event:\\n', data.toString());\n            resetActivityTimeout();\n        });\n\n        listener.on('close', () => {\n            this.console.error('listen loop closed, restarting listener.');\n            restartListener();\n        });\n\n        listener.on('error', e => {\n            this.console.error('listen loop error, restarting listener.', e);\n            restartListener();\n        });\n    }\n\n    async putSetting(key: string, value: SettingValue) {\n        this.putSettingBase(key, value);\n        this.listener.then(l => l.emit('error', new Error(\"new settings\")));\n    }\n\n    async takePictureThrottled(option?: PictureOptions) {\n        return this.takeSmartCameraPicture(option);;\n    }\n\n    abstract takeSmartCameraPicture(options?: PictureOptions): Promise<MediaObject>;\n\n    async getRtspUrlSettings(): Promise<Setting[]> {\n        return [\n            {\n                key: 'urls',\n                title: 'RTSP Stream URL Override',\n                description: 'Override the RTSP Stream URL provided by the camera.',\n                placeholder: 'rtsp://192.168.1.100[:554]/channel/101',\n                value: this.getRawVideoStreamOptions()?.map(vso => vso.url),\n                multiple: true,\n            },\n        ];\n    }\n\n    async getUrlSettings() {\n        const ret: Setting[] = [\n            {\n                key: 'ip',\n                title: 'IP Address',\n                placeholder: '192.168.1.100',\n                value: this.storage.getItem('ip'),\n            },\n            ...this.getHttpPortOverrideSettings(),\n            ...this.getRtspPortOverrideSettings(),\n        ];\n\n        if (this.showRtspUrlOverride()) {\n            const legacyOverride = this.storage.getItem('rtspUrlOverride')\n            if (legacyOverride) {\n                await this.putRtspUrls([legacyOverride]);\n                this.storage.removeItem('rtspUrlOverride');\n            }\n\n            ret.push(\n                ... await this.getRtspUrlSettings(),\n            );\n        }\n\n        return ret;\n    }\n\n    getHttpPortOverrideSettings() {\n        if (!this.showHttpPortOverride()) {\n            return [];\n        }\n        return [\n            {\n                key: 'httpPort',\n                subgroup: 'Advanced',\n                title: 'HTTP Port Override',\n                placeholder: '80',\n                value: this.storage.getItem('httpPort'),\n            }\n        ];\n    }\n\n    showHttpPortOverride() {\n        return true;\n    }\n\n    getRtspPortOverrideSettings(): Setting[] {\n        if (!this.showRtspPortOverride()) {\n            return [];\n        }\n        return [\n            {\n                key: 'rtspPort',\n                subgroup: 'Advanced',\n                title: 'RTSP Port Override',\n                placeholder: '554',\n                value: this.storage.getItem('rtspPort'),\n            },\n        ];\n    }\n\n    showRtspPortOverride() {\n        return true;\n    }\n\n    showRtspUrlOverride() {\n        return true;\n    }\n\n    getHttpAddress() {\n        return `${this.getIPAddress()}:${this.storage.getItem('httpPort') || 80}`;\n    }\n\n    setHttpPortOverride(port: string) {\n        this.storage.setItem('httpPort', port || '');\n    }\n\n    getRtspUrlOverride() {\n        if (!this.showRtspUrlOverride())\n            return;\n        return this.storage.getItem('rtspUrlOverride');\n    }\n\n    abstract getConstructedVideoStreamOptions(): Promise<UrlMediaStreamOptions[]>;\n    abstract listenEvents(): Promise<Destroyable>;\n\n    getIPAddress() {\n        return this.storage.getItem('ip');\n    }\n\n    setIPAddress(ip: string) {\n        return this.storage.setItem('ip', ip);\n    }\n\n    getRtspAddress() {\n        return `${this.getIPAddress()}:${this.storage.getItem('rtspPort') || 554}`;\n    }\n\n    constructedVideoStreamOptions: Promise<UrlMediaStreamOptions[]>;\n    async getVideoStreamOptions(): Promise<UrlMediaStreamOptions[]> {\n        if (this.showRtspUrlOverride()) {\n            const vsos = await super.getVideoStreamOptions();\n            if (vsos)\n                return vsos;\n        }\n\n        if (this.constructedVideoStreamOptions)\n            return this.constructedVideoStreamOptions;\n\n        this.constructedVideoStreamOptions = timeoutPromise(5000, this.getConstructedVideoStreamOptions()).finally(() => {\n            this.constructedVideoStreamOptions = undefined;\n        });\n\n        return this.constructedVideoStreamOptions;\n    }\n\n    putSettingBase(key: string, value: SettingValue): Promise<void> {\n        this.constructedVideoStreamOptions = undefined;\n        return super.putSettingBase(key, value);\n    }\n}\n\nexport class RtspProvider extends CameraProviderBase<UrlMediaStreamOptions> {\n    createCamera(nativeId: string): RtspCamera {\n        return new RtspCamera(nativeId, this);\n    }\n}\n","import { once } from 'events';\nimport net from 'net';\n\nexport class ListenZeroSingleClientTimeoutError extends Error {\n    constructor() {\n        super('timeout waiting for client')\n    }\n}\n\nexport async function listenZero(server: net.Server, hostname?: string) {\n    server.listen(0, hostname);\n    await once(server, 'listening');\n    return (server.address() as net.AddressInfo).port;\n}\n\nexport async function listenZeroSingleClient(hostname?: string) {\n    const server = new net.Server();\n    const port = await listenZero(server, hostname);\n\n    const clientPromise = new Promise<net.Socket>((resolve, reject) => {\n        const timeout = setTimeout(() => {\n            server.close();\n            reject(new ListenZeroSingleClientTimeoutError());\n        }, 30000)\n        server.on('connection', client => {\n            server.close();\n            clearTimeout(timeout);\n\n            resolve(client);\n        });\n    });\n\n    clientPromise.catch(() => { });\n\n    let host = hostname;\n    if (!host || host === '0.0.0.0')\n        host = '127.0.0.1';\n\n    return {\n        server,\n        url: `tcp://${host}:${port}`,\n        host,\n        port,\n        clientPromise,\n    }\n}\n","import { ChildProcess } from \"child_process\";\nimport process from 'process';\n\nconst filtered = [\n    'decode_slice_header error',\n    'no frame!',\n    'non-existing PPS',\n];\n\nexport function safeKillFFmpeg(cp: ChildProcess) {\n    if (!cp)\n        return;\n    // this will allow ffmpeg to send rtsp TEARDOWN etc\n    try {\n        cp.stdin.write('q\\n');\n    }\n    catch (e) {\n    }\n    setTimeout(() => {\n        cp.kill();\n        setTimeout(() => {\n            cp.kill('SIGKILL');\n        }, 2000);\n    }, 2000);\n}\n\nexport function ffmpegLogInitialOutput(console: Console, cp: ChildProcess, forever?: boolean, storage?: Storage) {\n    if (!console)\n        return;\n\n    const SCRYPTED_FFMPEG_NOISY = !!process.env.SCRYPTED_FFMPEG_NOISY || !!storage?.getItem('SCRYPTED_FFMPEG_NOISY');\n\n    function logger(log: (str: string) => void): (buffer: Buffer) => void {\n        const ret = (buffer: Buffer) => {\n            const str = buffer.toString();\n\n            for (const filter of filtered) {\n                if (str.indexOf(filter) !== -1)\n                    return;\n            }\n\n            if (!SCRYPTED_FFMPEG_NOISY && !forever && (str.indexOf('frame=') !== -1 || str.indexOf('size=') !== -1)) {\n                log(str);\n                log('video/audio detected, discarding further input');\n                cp.stdout.removeListener('data', ret);\n                cp.stderr.removeListener('data', ret);\n                return;\n            }\n\n            log(str);\n        }\n\n        return ret;\n    };\n    cp.stdout?.on('data', logger(console.log));\n    cp.stderr?.on('data', logger(console.error));\n    cp.on('exit', () => console.log('ffmpeg exited'));\n}\n\nexport function safePrintFFmpegArguments(console: Console, args: string[]) {\n    if (!console)\n        return;\n    const ret = [];\n    let redactNext = false;\n    for (const arg of args) {\n        try {\n            if (redactNext) {\n                const url = new URL(arg);\n                ret.push(`${url.protocol}[REDACTED]`)\n            }\n            else {\n                ret.push(arg);\n            }\n        }\n        catch (e) {\n            ret.push(arg);\n        }\n\n        // input arguments may contain passwords.\n        redactNext = arg === '-i';\n    }\n\n    console.log(ret.join(' '));\n}\n","export async function sleep(ms: number) {\n    await new Promise(resolve => setTimeout(resolve, ms));\n}\n","module.exports = require(\"assert\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"dgram\");","module.exports = require(\"events\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"process\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"url\");","module.exports = require(\"zlib\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"os\");","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport os from 'os';\n\nlet YError = function (_Error) {\n  _inherits(YError, _Error);\n\n  function YError(wrappedErrors, errorCode, ...params) {\n    var _this;\n\n    _classCallCheck(this, YError);\n\n    if (!(wrappedErrors instanceof Array)) {\n      params = ('undefined' === typeof errorCode ? [] : [errorCode]).concat(params);\n      errorCode = wrappedErrors;\n      wrappedErrors = [];\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(YError).call(this, errorCode));\n    _this.code = errorCode || 'E_UNEXPECTED';\n    _this.params = params;\n    _this.wrappedErrors = wrappedErrors;\n    _this.name = _this.toString();\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this), _this.constructor);\n    }\n\n    return _this;\n  }\n\n  _createClass(YError, [{\n    key: \"toString\",\n    value: function toString() {\n      return (this.wrappedErrors.length ? this.wrappedErrors[this.wrappedErrors.length - 1].stack + os.EOL : '') + this.constructor.name + ': ' + this.code + ' (' + this.params.join(', ') + ')';\n    }\n  }]);\n\n  return YError;\n}(_wrapNativeSuper(Error));\n\nYError.wrap = function yerrorWrap(err, errorCode, ...params) {\n  let yError = null;\n\n  const wrappedErrorIsACode = _looksLikeAYErrorCode(err.message);\n\n  const wrappedErrors = (err.wrappedErrors || []).concat(err);\n\n  if (!errorCode) {\n    if (wrappedErrorIsACode) {\n      errorCode = err.message;\n    } else {\n      errorCode = 'E_UNEXPECTED';\n    }\n  }\n\n  if (err.message && !wrappedErrorIsACode) {\n    params.push(err.message);\n  }\n\n  yError = new YError(wrappedErrors, errorCode, ...params);\n  return yError;\n};\n\nYError.cast = function yerrorCast(err, ...params) {\n  if (_looksLikeAYError(err)) {\n    return err;\n  }\n\n  return YError.wrap.apply(YError, [err].concat(params));\n};\n\nYError.bump = function yerrorBump(err, ...params) {\n  if (_looksLikeAYError(err)) {\n    return YError.wrap.apply(YError, [err, err.code].concat(err.params));\n  }\n\n  return YError.wrap.apply(YError, [err].concat(params));\n};\n\nfunction _looksLikeAYError(err) {\n  return err instanceof YError || err.constructor && err.constructor.name && err.constructor.name.endsWith('Error') && 'string' === typeof err.code && _looksLikeAYErrorCode(err.code) && err.params && err.params instanceof Array;\n}\n\nfunction _looksLikeAYErrorCode(str) {\n  return /^([A-Z0-9_]+)$/.test(str);\n}\n\nexport default YError;\n//# sourceMappingURL=index.mjs.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6360);\n"],"names":["Object","defineProperty","exports","value","parseWWWAuthenticateHeader","header","authMechanisms","mechanisms","strict","result","some","authMechanism","indexOf","type","toLowerCase","data","parseWWWAuthenticateRest","substr","length","_yerror","default","parseAuthorizationHeader","parseAuthorizationRest","buildWWWAuthenticateHeader","buildWWWAuthenticateRest","buildAuthorizationHeader","buildAuthorizationRest","enumerable","get","_basic","_digest","_bearer","_interopRequireDefault","obj","__esModule","_utils","REQUIRED_WWW_AUTHENTICATE_KEYS","AUTHORIZED_WWW_AUTHENTICATE_KEYS","BASIC","rest","parseHTTPHeadersQuotedKeyValueSet","buildHTTPHeadersQuotedKeyValueSet","username","password","decodeHash","hash","computeHash","Buffer","from","toString","passwordParts","split","join","_default","AUTHORIZED_ERROR_CODES","error","_crypto","REQUIRED_AUTHORIZATION_KEYS","AUTHORIZED_AUTHORIZATION_KEYS","_computeHash","algorithm","str","hashsum","createHash","update","digest","ha1","realm","ha2","method","uri","nonce","nc","cnonce","qop","contents","authorizedKeys","requiredKeys","matches","trim","match","KEYVALUE_REGEXP","map","part","partPosition","pair","reduce","parsedValues","name","valuePosition","replace","_checkRequiredKeys","key","forEach","crypto","url","axios","authHeader","takeFirst","constructor","Array","axiosInst","this","count","async","opts","_a","_b","request","resp1","undefined","response","status","headers","includes","wwwAuthenticate","parsedAuthorization","parse","nonceCount","slice","randomBytes","params","path","pathname","authorization","entries","_util","_toConsumableArray","arr","isArray","i","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","call","_iterableToArray","TypeError","_nonIterableSpread","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","build","prev","_ref","_ref2","values","transform","isToken","quote","xxx","concat","challenge","options","keys","scheme","token","isScheme","_format","_parse","body","normalize","_cur","cur","charAt","unquote","start","string","res","exec","parseProperties","test","module","utils","settle","buildFullPath","buildURL","http","https","httpFollow","httpsFollow","zlib","pkg","createError","enhanceError","isHttps","setProxy","proxy","location","hostname","host","port","auth","base64","beforeRedirect","redirection","href","config","Promise","resolvePromise","rejectPromise","resolve","reject","version","isStream","isBuffer","isArrayBuffer","Uint8Array","isString","fullPath","baseURL","parsed","protocol","urlAuth","Authorization","isHttpsRequest","agent","httpsAgent","httpAgent","paramsSerializer","toUpperCase","agents","socketPath","transport","proxyEnv","proxyUrl","process","env","parsedProxyUrl","noProxyEnv","no_proxy","NO_PROXY","shouldProxy","s","proxyElement","proxyUrlAuth","isHttpsProxy","maxRedirects","maxBodyLength","req","aborted","stream","lastRequest","statusCode","decompress","pipe","createUnzip","statusText","statusMessage","responseType","responseBuffer","totalResponseBytes","on","chunk","maxContentLength","destroy","responseData","responseEncoding","stripBOM","code","timeout","parseInt","isNaN","setTimeout","abort","transitional","clarifyTimeoutError","cancelToken","promise","then","cancel","end","cookies","parseHeaders","isURLSameOrigin","requestData","requestHeaders","isFormData","XMLHttpRequest","unescape","encodeURIComponent","btoa","onloadend","responseHeaders","getAllResponseHeaders","responseText","open","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","isStandardBrowserEnv","xsrfValue","withCredentials","xsrfCookieName","read","xsrfHeaderName","val","setRequestHeader","isUndefined","onDownloadProgress","addEventListener","onUploadProgress","upload","send","bind","Axios","mergeConfig","createInstance","defaultConfig","context","instance","extend","create","instanceConfig","defaults","Cancel","CancelToken","isCancel","all","promises","spread","isAxiosError","message","__CANCEL__","executor","reason","throwIfRequested","source","c","InterceptorManager","dispatchRequest","validator","validators","interceptors","arguments","assertOptions","silentJSONParsing","boolean","forcedJSONParsing","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","unshift","fulfilled","rejected","responseInterceptorChain","chain","apply","shift","newConfig","onFulfilled","onRejected","getUri","handlers","use","eject","id","fn","h","isAbsoluteURL","combineURLs","requestedURL","Error","transformData","throwIfCancellationRequested","transformRequest","merge","common","adapter","transformResponse","toJSON","description","number","fileName","lineNumber","columnNumber","stack","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","isPlainObject","mergeDeepProperties","prop","axiosKeys","otherKeys","filter","validateStatus","fns","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","rawValue","parser","encoder","JSON","e","stringify","stringifySafely","strictJSONParsing","thisArg","args","encode","serializedParams","parts","v","isDate","toISOString","hashmarkIndex","relativeURL","write","expires","domain","secure","cookie","isNumber","Date","toGMTString","document","RegExp","decodeURIComponent","remove","now","payload","originURL","msie","navigator","userAgent","urlParsingNode","createElement","resolveURL","setAttribute","search","window","requestURL","normalizedName","ignoreDuplicateOf","line","callback","thing","deprecatedWarnings","currentVerArr","isOlderVersion","thanVersion","pkgVersionArr","destVer","isDeprecated","formatMessage","opt","desc","console","warn","schema","allowUnknown","getPrototypeOf","isFunction","l","hasOwnProperty","FormData","ArrayBuffer","isView","URLSearchParams","product","assignValue","a","b","content","charCodeAt","debug","URL","Writable","assert","events","eventHandlers","event","arg1","arg2","arg3","_redirectable","emit","RedirectionError","createErrorType","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","self","_onNativeResponse","_processResponse","_performRequest","wrap","protocols","nativeProtocols","nativeProtocol","wrappedProtocol","defineProperties","input","urlStr","urlToOptions","assign","equal","configurable","writable","wrappedRequest","noop","urlObject","startsWith","Number","removeMatchingHeaders","regex","lastValue","String","defaultMessage","CustomError","cause","captureStackTrace","abortRequest","removeListener","_currentRequest","encoding","currentRequest","setHeader","removeHeader","msecs","destroyOnTimeout","socket","addListener","startTimer","_timeout","clearTimeout","clearTimer","once","property","searchPos","substring","_currentUrl","format","_isRedirect","buffers","writeNext","finished","trackRedirects","followRedirects","responseUrl","redirects","redirectUrl","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrlParts","subdomain","dot","endsWith","isSubdomain","responseDetails","InvalidUrlError","baseClass","properties","Host","getHeader","requestDetails","__createBinding","o","m","k","k2","getOwnPropertyDescriptor","__exportStar","p","MixinDeviceBase","ScryptedDeviceBase","index_1","DeviceBase","nativeId","super","storage","_storage","deviceManager","getDeviceStorage","log","_log","getDeviceLogger","_console","getDeviceConsole","mimeType","mediaManager","createMediaObject","sourceId","getMediaObjectConsole","mediaObject","getMixinConsole","_lazyLoadDeviceState","_deviceState","getDeviceState","onDeviceEvent","eventInterface","eventData","_listeners","Set","systemManager","getDeviceById","mixinDevice","mixinDeviceInterfaces","mixinStorageSuffix","mixinDeviceState","__rpcproxy_traps_all_properties","createDeviceState","setState","mixinProviderNativeId","mixinStorageKey","getMixinStorage","onMixinEvent","manageListener","listener","add","release","_createGetState","state","_createSetState","field","ScryptedInterfaceProperty","set","sdk","runtimeAPI","pluginRuntimeAPI","endpointManager","pluginHostAPI","setScryptedInterfaceDescriptors","TYPES_VERSION","ScryptedInterfaceDescriptors","catch","ScryptedMimeTypes","ScryptedInterface","MediaPlayerState","SecuritySystemObstruction","SecuritySystemMode","AirQuality","ChargeState","LockState","PanTiltZoomMovement","ThermostatMode","TemperatureUnit","FanMode","HumidityMode","ScryptedDeviceType","ScryptedInterfaceMethod","ScryptedDevice","methods","ScryptedPlugin","OnOff","Brightness","ColorSettingTemperature","ColorSettingRgb","ColorSettingHsv","Notifier","StartStop","Pause","Dock","TemperatureSetting","Thermometer","HumiditySensor","Camera","Microphone","Display","VideoCamera","VideoRecorder","PanTiltZoom","EventRecorder","VideoClips","VideoCameraConfiguration","Intercom","Lock","PasswordStore","Scene","Entry","EntrySensor","DeviceProvider","DeviceDiscovery","DeviceCreator","Battery","Charger","Refresh","MediaPlayer","Online","BufferConverter","Settings","BinarySensor","TamperSensor","PowerSensor","AudioSensor","MotionSensor","AmbientLightSensor","OccupancySensor","FloodSensor","UltravioletSensor","LuminanceSensor","PositionSensor","SecuritySystem","PM10Sensor","PM25Sensor","VOCSensor","NOXSensor","CO2Sensor","AirQualitySensor","Readme","OauthClient","MixinProvider","HttpRequestHandler","EngineIOHandler","PushHandler","Program","Scriptable","ObjectTracker","ObjectDetector","ObjectDetection","HumiditySetting","Fan","RTCSignalingChannel","RTCSignalingClient","LauncherApplication","ScryptedUser","VideoFrameGenerator","bindUdp","server","usePort","address","createBindZero","socketType","createBindUdp","createSocket","r","f","close","udp","listenZero","listenZeroSingleClient","ListenZeroSingleClientTimeoutError","rp","cacheDuration","finally","TimeoutError","t","isTimedOut","current","func","Map","keyStr","delete","readable","skipHeader","offset","headerLength","skipCount","readCount","resumeRead","readUInt16BE","StreamEndError","readLength","readableEnded","destroyed","alloc","ret","cleanup","CHARCODE_NEWLINE","readUntil","charCode","resume","readMessage","client","currentHeaders","readLine","readBody","cl","writeMessage","messageLine","findH264NaluType","streamChunk","naluType","findH264NaluTypeInNalu","chunks","subarray","nalu","checkNaluType","H264_NAL_TYPE_STAP_A","pos","naluLength","H264_NAL_TYPE_FU_A","fuaType","isFuStart","getNaluTypesInNalu","fuaRequireStart","fuaRequireEnd","stapaType","index","getFirstAuthenticateHeader","parseSemicolonDelimited","dict","RTSP_FRAME_MAGIC","H264_NAL_TYPE_RESERVED0","H264_NAL_TYPE_RESERVED30","H264_NAL_TYPE_RESERVED31","H264_NAL_TYPE_IDR","H264_NAL_TYPE_SEI","H264_NAL_TYPE_SPS","H264_NAL_TYPE_PPS","H264_NAL_TYPE_STAP_B","H264_NAL_TYPE_FU_B","H264_NAL_TYPE_MTAP16","H264_NAL_TYPE_MTAP32","fua","fuaStart","fuaEnd","container","tcpProtocol","inputArguments","outputArguments","vcodec","acodec","findSyncFrame","streamChunks","foundIndex","nonVideo","createSyncFrame","prebufferIndex","sdp","duplex","width","height","RtspServer","handleSetup","rtcp","packet","handleRecord","RtspStatusError","RtspBase","cseq","needKeepAlive","setupOptions","issuedTeardown","hasGetParameter","u","connect","rejectUnauthorized","writeTeardown","sleep","writeRequest","fullUrl","sanitized","createAuthorizationHeader","session","channel","readUInt8","onRtp","handleDataPayload","createBadHeader","getParameter","readDataPayload","deferred","Deferred","writeGetParameter","writeOptions","wwwAuth","authedUrl","strippedUrl","authenticating","requestTimeout","timeoutPromise","statusLine","codeString","publicHeader","Accept","dgram","closeQuiet","Transport","interleaved","sessionDict","timer","setInterval","clearInterval","_","begin","writePlay","Range","writeRtpPayload","rtp","writeUInt8","writeUInt16BE","checkRequest","setupTracks","availableOptions","Socket","setNoDelay","destination","track","find","codec","sendUdp","sendTrack","trackId","respond","describe","setupInterleaved","msection","low","high","control","parseSdp","msections","resolveInterleaved","rtpServer","rtcpServer","play","rtpInfo","contentLength","sdpBuffer","allow","pathToken","clientPromise","rtspServerPath","rtspServerPromise","rtspServer","createServer","addTrackControls","lines","trackCount","splice","findTrackByType","directions","sections","getSections","section","returnTrack","controlString","dir","parseMLinePayloadTypes","mline","payloadTypes","pt","parseMLine","audioPort","videoPort","outputSdp","re","payloadType","fmtpPrefix","fmtp","audio","video","parseFmtp","fmtpLine","firstSpace","paramLine","parameters","param","parseRtpMap","mlineType","rtpmap","rawCodec","clock","acontrol","artpmap","parseMSection","rtpmapFirst","rtpmaps","direction","checkDirection","toSdp","flat","spspps","sps","pps","AmcrestEvent","ip","digestAuth","amcrestHttpsAgent","getDeviceInfo","setKeepAlive","AMCREST_DOORBELL_TYPE","DAHUA_DOORBELL_TYPE","findValue","blob","prefix","AmcrestCamera","RtspSmartCamera","provider","onvifIntercom","OnvifIntercom","getItem","setItem","removeItem","updateDeviceInfo","getRecordingStreamCurrentTime","recordingStream","getRecordingStreamThumbnail","time","startTime","month","getMonth","padStart","date","getDate","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","getRtspAddress","addRtspCredentials","createMediaStreamUrl","getRecordingStreamOptions","getVideoStreamOptions","managementUrl","deviceInfo","info","deviceParameters","action","parameter","element","getClient","getHttpAddress","getRtspChannel","formatNumber","bitrate","Math","round","fps","idrIntervalMillis","bitrateControl","AmcrestCameraClient","getUsername","getPassword","listenEvents","doorbellType","callerId","multipleCallIds","pulseTimeout","channelNumber","MotionStart","motionDetected","MotionStop","AudioStart","audioDetected","AudioStop","TalkInvite","PhoneCallDetectStart","AlarmIPCStart","DahuaTalkInvite","binaryState","TalkHangup","PhoneCallDetectStop","AlarmIPCStop","DahuaCallDeny","DahuaTalkHangup","TalkPulse","DahuaTalkPulse","getOtherSettings","title","choices","isDoorbell","twoWayAudio","option","jpegSnapshot","subgroup","placeholder","getUrlSettings","createRtspMediaStreamOptions","tool","videoStreamOptions","mas","maxExtraStreams","vsos","subtype","capResponse","encodeResponse","vso","capName","encName","videoCodec","audioCodec","bitrateOptions","encodeOptions","min","max","maxBitrate","minBitrate","enableContinousRecording","putSetting","interfaces","getInterfaces","Doorbell","updateDevice","media","getConstructedVideoStreamOptions","searchParams","startIntercom","convertMediaObjectToBuffer","FFmpegInput","ffmpeg","getFFmpegPath","cp","spawn","stdio","ffmpegLogInitialOutput","passthrough","PassThrough","stopIntercom","kill","showRtspUrlOverride","AmcrestProvider","RtspProvider","getAdditionalInterfaces","settings","httpAddress","httpPort","skipValidate","api","newCamera","deviceType","model","serialNumber","checkTwoWayAudio","createDevice","device","getDevice","setIPAddress","setHttpPortOverride","createCamera","Agent","vals","hardwareVersion","CameraBase","snapshotUrl","snapshotAuth","pendingPicture","takePictureThrottled","getRawVideoStreamOptions","isAudioDisabled","getDefaultStream","createVideoStream","getUsernameDescription","getPasswordDescription","getStreamSettings","group","putSettingBase","CameraProviderBase","devices","camId","getNativeIds","onDeviceDiscovered","supportedCodecs","addSupportedCodec","ffmpegCodec","sdpName","codecRegex","parseCodecs","audioSection","matchAll","sampleRate","_skip","channels","Require","camera","intercomClient","RtspClient","audioBackchannel","checkIntercom","reserveUdpPort","serverRtp","transportDict","getIPAddress","server_port","serverPorts","ffmpegInput","convertMediaObjectToJSON","availableCodecs","ssrcBuffer","supported","check","ssrc","readInt32BE","safePrintFFmpegArguments","RtspCamera","getChannelFromMediaStreamOptionsId","urls","rtspUrl","parsedUrl","stringUrl","mediaStreamOptions","MediaStreamUrl","multiple","getRtspUrlSettings","putRtspUrls","lastListen","listenLoop","resetSensors","tampered","listenerPromise","activityTimeout","restartListener","listenDuration","resetActivityTimeout","takeSmartCameraPicture","getHttpPortOverrideSettings","getRtspPortOverrideSettings","legacyOverride","showHttpPortOverride","showRtspPortOverride","getRtspUrlOverride","constructedVideoStreamOptions","listen","Server","filtered","stdin","forever","SCRYPTED_FFMPEG_NOISY","logger","stdout","stderr","redactNext","arg","ms","require","_defineProperties","props","descriptor","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Function","has","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","Parent","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","setPrototypeOf","__proto__","YError","_Error","wrappedErrors","errorCode","_this","Constructor","_classCallCheck","protoProps","staticProps","subClass","superClass","_inherits","_looksLikeAYError","_looksLikeAYErrorCode","yError","wrappedErrorIsACode","cast","bump","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","toStringTag","__webpack_exports__"],"sourceRoot":""}